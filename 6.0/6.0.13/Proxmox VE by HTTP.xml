<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:15:08Z</date><groups><group><uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid><name>Templates/Applications</name></group></groups><templates><template><uuid>4958b76448d74ff1b6d7d6280449beee</uuid><template>Proxmox VE by HTTP</template><name>Proxmox VE by HTTP</name><description>Template tooling version used: 0.41</description><groups><group><name>Templates/Applications</name></group></groups><items><item><uuid>75f8f8c507774f529ade4bc4255f5fd2</uuid><name>Proxmox: API service status</name><type>SCRIPT</type><key>proxmox.api.available</key><delay>5m</delay><history>7d</history><params>try {
  var params = JSON.parse(value);
  var req = new HttpRequest();
  req.addHeader('Authorization: PVEAPIToken=' + params.token + '=' + params.secret);
  req.get(encodeURI('https://' + params.url + ':' + params.port + '/api2/json/version'));  
} catch (error) {
    Zabbix.log(3, &quot;Proxmox API failed: &quot; + params.url + &quot; Error: &quot; + error);
    if (!Number.isInteger(error))
        return 520;
}
return req.getStatus();</params><description>Get API service status.</description><valuemap><name>HTTP response status code</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><timeout>10s</timeout><parameters><parameter><name>token</name><value>{$PVE.TOKEN.ID}</value></parameter><parameter><name>secret</name><value>{$PVE.TOKEN.SECRET}</value></parameter><parameter><name>url</name><value>{HOST.CONN}</value></parameter><parameter><name>port</name><value>{$PVE.URL.PORT}</value></parameter></parameters><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>7ef8290fd6e242339d0e56d5e8eedb1a</uuid><expression>last(/Proxmox VE by HTTP/proxmox.api.available) &lt;&gt; 200</expression><name>Proxmox: API service not available</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>The API service is not available. Check your network and authorization settings.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>4fe4fa1323cd481f8aff3bfb716eeae2</uuid><name>Proxmox: Get cluster resources</name><type>HTTP_AGENT</type><key>proxmox.cluster.resources</key><delay>5m</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Resources index.</description><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>Error getting data</error_handler_params></step></preprocessing><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/cluster/resources</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>6e6a5046b8154bafad375813ca210e1f</uuid><name>Proxmox: Get cluster status</name><type>HTTP_AGENT</type><key>proxmox.cluster.status</key><delay>5m</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Get cluster status information.</description><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>Error getting data</error_handler_params></step></preprocessing><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/cluster/status</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item></items><discovery_rules><discovery_rule><uuid>e01bb8d7614144ba82e31d91618dee31</uuid><name>Cluster discovery</name><type>DEPENDENT</type><key>proxmox.cluster.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#RESOURCE.TYPE}</macro><value>^cluster$</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>4b5d9197cfa042ceac1415a524912b63</uuid><name>Proxmox: Cluster [{#RESOURCE.NAME}]: Quorate</name><type>DEPENDENT</type><key>proxmox.cluster.quorate[{#RESOURCE.NAME}]</key><delay>0</delay><history>7d</history><description>Indicates if there is a majority of nodes online to make decisions.</description><valuemap><name>Cluster quorate</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.[?(@.name == '{#RESOURCE.NAME}' &amp;&amp; @.type == 'cluster')].quorate.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.status</key></master_item><tags><tag><tag>cluster</tag><value>{#RESOURCE.NAME}</value></tag><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>142e02d47b8a4ac9a9ad28b68b097ebd</uuid><expression>last(/Proxmox VE by HTTP/proxmox.cluster.quorate[{#RESOURCE.NAME}]) &lt;&gt; 1</expression><name>Proxmox: Cluster [{#RESOURCE.NAME}] not quorum</name><opdata>Current value: {ITEM.LASTVALUE}</opdata><priority>HIGH</priority><description>Proxmox VE use a quorum-based technique to provide a consistent state among all cluster nodes.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><master_item><key>proxmox.cluster.status</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#RESOURCE.NAME}</lld_macro><path>$.name</path></lld_macro_path><lld_macro_path><lld_macro>{#RESOURCE.TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><uuid>78a4018328954d408e415aa0ce7ce41c</uuid><name>LXC discovery</name><type>DEPENDENT</type><key>proxmox.lxc.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#RESOURCE.TYPE}</macro><value>^lxc$</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>dda211b14d7b4c419196a98ee5153307</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: CPU usage</name><type>DEPENDENT</type><key>proxmox.lxc.cpu[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU load.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.cpu</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>100</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>c0436342a19d4d6482fac70d2f04f530</uuid><expression>min(/Proxmox VE by HTTP/proxmox.lxc.cpu[{#LXC.ID}],5m) &gt; {$PVE.LXC.CPU.PUSE.MAX.WARN:&quot;{#LXC.ID}&quot;}</expression><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})] high CPU usage</name><event_name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})] high CPU usage (over {$PVE.LXC.CPU.PUSE.MAX.WARN:&quot;{#LXC.ID}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>8bc1bb78bf1340f3ab8d9f888d081e23</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Disk read, rate</name><type>DEPENDENT</type><key>proxmox.lxc.diskread[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Disk read.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.diskread</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>cee89da9e4a842228b30cc708e4d7745</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Disk write, rate</name><type>DEPENDENT</type><key>proxmox.lxc.diskwrite[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Disk write.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.diskwrite</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>686490c2a07f4a859bc7f1d56056cc5e</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Memory total</name><type>DEPENDENT</type><key>proxmox.lxc.maxmem[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Total memory in Bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.maxmem</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a60eaec875d347bd9247a174ba84f21e</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Memory usage</name><type>DEPENDENT</type><key>proxmox.lxc.mem[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Used memory in Bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.mem</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>b19b6b5895d64ed9b4942f955e66dc81</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Incoming data, rate</name><type>DEPENDENT</type><key>proxmox.lxc.netin[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Incoming data rate.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.netin</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>5ac20ae95e664a3cb62b58cde4f67471</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Outgoing data, rate</name><type>DEPENDENT</type><key>proxmox.lxc.netout[{#LXC.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Outgoing data rate.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.netout</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>lxc</tag><value>{#LXC.ID}</value></tag><tag><tag>name</tag><value>{#LXC.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>58efec1a4bb94bfab59d5985d036811e</uuid><name>Proxmox: LXC [{#LXC.NAME}/{#LXC.NAME}]: Status</name><type>HTTP_AGENT</type><key>proxmox.lxc.status[{#LXC.ID}]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Read LXC status.</description><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/nodes/{#NODE.NAME}/{#LXC.ID}/status/current</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype><item_prototype><uuid>bd213f6de4db4e1e84894b80acffa330</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Uptime</name><type>DEPENDENT</type><key>proxmox.lxc.uptime[{#LXC.ID}]</key><delay>0</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>System uptime in 'N days, hh:mm:ss' format.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.uptime</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>0e55935a79b94bc096b6213d500f4f59</uuid><expression>last(/Proxmox VE by HTTP/proxmox.lxc.uptime[{#LXC.ID}])&lt;10m</expression><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME}]: has been restarted</name><event_name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME}]: has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes.</description><manual_close>YES</manual_close><dependencies><dependency><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Not running</name><expression>last(/Proxmox VE by HTTP/proxmox.lxc.vmstatus[{#LXC.ID}])&lt;&gt;&quot;running&quot;</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>535f521800564b0f83211740aabbc137</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Status</name><type>DEPENDENT</type><key>proxmox.lxc.vmstatus[{#LXC.ID}]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.status</parameter></parameters></step></preprocessing><master_item><key>proxmox.lxc.status[{#LXC.ID}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>71623950edf44bcb9453b2e8e63cb97b</uuid><expression>last(/Proxmox VE by HTTP/proxmox.lxc.vmstatus[{#LXC.ID}])&lt;&gt;&quot;running&quot;</expression><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Not running</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>LXC state is not &quot;running&quot;.</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>f59e43f9de01419897aec1b9d4539b48</uuid><expression>min(/Proxmox VE by HTTP/proxmox.lxc.mem[{#LXC.ID}],5m) / last(/Proxmox VE by HTTP/proxmox.lxc.maxmem[{#LXC.ID}]) * 100 &gt;{$PVE.LXC.MEMORY.PUSE.MAX.WARN:&quot;{#LXC.ID}&quot;}</expression><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})] high memory usage</name><event_name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})] high memory usage (over {$PVE.LXC.MEMORY.PUSE.MAX.WARN:&quot;{#LXC.ID}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Memory usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>faad4c399e6047ea9fd95ffea40ce511</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: CPU usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.cpu[{#LXC.ID}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>2a850f53e5064ee3b4fb99aa191d411d</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Disk usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.diskwrite[{#LXC.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.diskread[{#LXC.ID}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>54e79a1949ed40988a3901acf21bc3af</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Memory usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.mem[{#LXC.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.maxmem[{#LXC.ID}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>c6f2970f22294c7d8de7548a177596de</uuid><name>Proxmox: LXC [{#NODE.NAME}/{#LXC.NAME} ({#LXC.ID})]: Network usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.netin[{#LXC.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.lxc.netout[{#LXC.ID}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>proxmox.cluster.resources</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#LXC.ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#LXC.NAME}</lld_macro><path>$.name</path></lld_macro_path><lld_macro_path><lld_macro>{#NODE.NAME}</lld_macro><path>$.node</path></lld_macro_path><lld_macro_path><lld_macro>{#RESOURCE.TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><uuid>ba55f69b12ee46faa319203483d8008f</uuid><name>Node discovery</name><type>DEPENDENT</type><key>proxmox.node.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#RESOURCE.TYPE}</macro><value>^node$</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>c5e50056abda49f190e21f46f8cf7379</uuid><name>Proxmox: Node [{#NODE.NAME}]: CPU, usage</name><type>DEPENDENT</type><key>proxmox.node.cpu[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU usage.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.cpu</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>100</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>84041dcb7c84426dad538ab32375fdb1</uuid><expression>min(/Proxmox VE by HTTP/proxmox.node.cpu[{#NODE.NAME}],5m) &gt; {$PVE.CPU.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}</expression><name>Proxmox: Node [{#NODE.NAME}] high CPU usage</name><event_name>Proxmox: Node [{#NODE.NAME}] high CPU usage (over {$PVE.CPU.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>78e02931cf5c4c93b9c0092bd407a897</uuid><name>Proxmox: Node [{#NODE.NAME}]: CPU, iowait</name><type>DEPENDENT</type><key>proxmox.node.iowait[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU iowait time.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.iowait</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>100</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>c31b9d3f9f4d4f6fa5611038bb9a8401</uuid><name>Proxmox: Node [{#NODE.NAME}]: Kernel version</name><type>DEPENDENT</type><key>proxmox.node.kernelversion[{#NODE.NAME}]</key><delay>0</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><description>Kernel version info.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.kversion</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.status[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>4020236474e840acb1bc480eb8c52a1f</uuid><expression>last(/Proxmox VE by HTTP/proxmox.node.kernelversion[{#NODE.NAME}],#1)&lt;&gt;last(/Proxmox VE by HTTP/proxmox.node.kernelversion[{#NODE.NAME}],#2) and length(last(/Proxmox VE by HTTP/proxmox.node.kernelversion[{#NODE.NAME}]))&gt;0</expression><name>Proxmox: Node [{#NODE.NAME}]: Kernel version has changed</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>Firmware version has changed. Ack to close</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>155bcbfd12f54614ab55d29e0fb5c2aa</uuid><name>Proxmox: Node [{#NODE.NAME}]: CPU, loadavg</name><type>DEPENDENT</type><key>proxmox.node.loadavg[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU average load.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.loadavg</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>100</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>59aab7121b1f4ff0b98a38cc75f39fb3</uuid><name>Proxmox: Node [{#NODE.NAME}]: Localtime</name><type>DEPENDENT</type><key>proxmox.node.localtime[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><units>unixtime</units><description>Seconds since 1970-01-01 00:00:00 (local time).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.localtime</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.time[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>0bb66733d10843438a090bf39eae92e2</uuid><name>Proxmox: Node [{#NODE.NAME}]: Memory, total</name><type>DEPENDENT</type><key>proxmox.node.memtotal[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Memory total.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.memtotal</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>04a2028e5d6640958da01c372f4407ec</uuid><name>Proxmox: Node [{#NODE.NAME}]: Memory, used</name><type>DEPENDENT</type><key>proxmox.node.memused[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Memory usage.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.memused</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>892f3b733a25475cb8fe30eeca3750f2</uuid><name>Proxmox: Node [{#NODE.NAME}]: Incoming data, rate</name><type>DEPENDENT</type><key>proxmox.node.netin[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Network usage.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.netin</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3048c6c023bc4fb58a8710d7306052fb</uuid><name>Proxmox: Node [{#NODE.NAME}]: Outgoing data, rate</name><type>DEPENDENT</type><key>proxmox.node.netout[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Network usage.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.netout</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>b8c3ff9544d5490286c668d3320d2ee0</uuid><name>Proxmox: Node [{#NODE.NAME}]: Status</name><type>DEPENDENT</type><key>proxmox.node.online[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><description>Indicates if the node is online or offline.</description><valuemap><name>Node online</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.[?(@.name == '{#NODE.NAME}' &amp;&amp; @.type == 'node')].online.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.status</key></master_item><tags><tag><tag>component</tag><value>cluster</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>41b7efb8822948b08de8adace2e124a9</uuid><expression>last(/Proxmox VE by HTTP/proxmox.node.online[{#NODE.NAME}]) &lt;&gt; 1</expression><name>Proxmox: Node [{#NODE.NAME}] offline</name><opdata>Current value: {ITEM.LASTVALUE}</opdata><priority>HIGH</priority><description>Node offline.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>f220249168d947b6b8b99c068af35650</uuid><name>Proxmox: Node [{#NODE.NAME}]: PVE version</name><type>DEPENDENT</type><key>proxmox.node.pveversion[{#NODE.NAME}]</key><delay>0</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><description>PVE manager version.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.pveversion</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.status[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>5b92af55dbd84181bcab0f39e6effbe0</uuid><expression>last(/Proxmox VE by HTTP/proxmox.node.pveversion[{#NODE.NAME}],#1)&lt;&gt;last(/Proxmox VE by HTTP/proxmox.node.pveversion[{#NODE.NAME}],#2) and length(last(/Proxmox VE by HTTP/proxmox.node.pveversion[{#NODE.NAME}]))&gt;0</expression><name>Proxmox: Node [{#NODE.NAME}]: PVE manager has changed</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>Firmware version has changed. Ack to close</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>067954795121482093dd7967c6ca6ede</uuid><name>Proxmox: Node [{#NODE.NAME}]: Root filesystem, total</name><type>DEPENDENT</type><key>proxmox.node.roottotal[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Root filesystem total.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.roottotal</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>2beadf6ba8b04a21b008ddf63bd2fa6b</uuid><name>Proxmox: Node [{#NODE.NAME}]: Root filesystem, used</name><type>DEPENDENT</type><key>proxmox.node.rootused[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Root filesystem usage.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.rootused</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>fa2a60a98fd4445eadff4398ae6872bd</uuid><name>Proxmox: Node [{#NODE.NAME}]: RRD statistics</name><type>HTTP_AGENT</type><key>proxmox.node.rrd[{#NODE.NAME}]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Read node RRD statistics.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var rrd_data = JSON.parse(value).data;
return JSON.stringify(rrd_data[rrd_data.length - 2])</parameter></parameters></step></preprocessing><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/nodes/{#NODE.NAME}/rrddata</url><query_fields><query_field><name>timeframe</name><value>hour</value></query_field><query_field><name>cf</name><value>AVERAGE</value></query_field></query_fields><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype><item_prototype><uuid>c1ea4d4f83114c9b96fe81069602f060</uuid><name>Proxmox: Node [{#NODE.NAME}]: Status</name><type>HTTP_AGENT</type><key>proxmox.node.status[{#NODE.NAME}]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Read node status.</description><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/nodes/{#NODE.NAME}/status</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype><item_prototype><uuid>0dce6e5edd6d4ddab69932796b4301c0</uuid><name>Proxmox: Node [{#NODE.NAME}]: Swap filesystem, total</name><type>DEPENDENT</type><key>proxmox.node.swaptotal[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Swap total.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.swaptotal</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>5f42addb719a412da6fd448d38d1a7d0</uuid><name>Proxmox: Node [{#NODE.NAME}]: Swap filesystem, used</name><type>DEPENDENT</type><key>proxmox.node.swapused[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Swap used.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.swapused</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.rrd[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>42d7b4ff315a4cfa9af1aed5e141661d</uuid><name>Proxmox: Node [{#NODE.NAME}]: Time zone</name><type>DEPENDENT</type><key>proxmox.node.timezone[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Time zone.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.timezone</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.time[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>c0c03653a0af426b8f61c77cabab38a4</uuid><name>Proxmox: Node [{#NODE.NAME}]: Time</name><type>HTTP_AGENT</type><key>proxmox.node.time[{#NODE.NAME}]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Read server time and time zone settings.</description><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/nodes/{#NODE.NAME}/time</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype><item_prototype><uuid>fc7f5811d338484bba5393a8a5718f67</uuid><name>Proxmox: Node [{#NODE.NAME}]: Uptime</name><type>DEPENDENT</type><key>proxmox.node.uptime[{#NODE.NAME}]</key><delay>0</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>System uptime in 'N days, hh:mm:ss' format.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.uptime</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.status[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>529b69b98a86409d914d3464569b7901</uuid><expression>last(/Proxmox VE by HTTP/proxmox.node.uptime[{#NODE.NAME}])&lt;10m</expression><name>Proxmox: Node [{#NODE.NAME}]: has been restarted</name><event_name>Proxmox: Node [{#NODE.NAME}]: has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes.</description><manual_close>YES</manual_close><dependencies><dependency><name>Proxmox: Node [{#NODE.NAME}] offline</name><expression>last(/Proxmox VE by HTTP/proxmox.node.online[{#NODE.NAME}]) &lt;&gt; 1</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>384d479a04f044b192a74743f0a459b4</uuid><name>Proxmox: Node [{#NODE.NAME}]: Time</name><type>DEPENDENT</type><key>proxmox.node.utctime[{#NODE.NAME}]</key><delay>0</delay><history>7d</history><units>unixtime</units><description>Seconds since 1970-01-01 00:00:00 UTC.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.time</parameter></parameters></step></preprocessing><master_item><key>proxmox.node.time[{#NODE.NAME}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>a0445b4e1ffd451595ecea0468b4a6a6</uuid><expression>min(/Proxmox VE by HTTP/proxmox.node.memused[{#NODE.NAME}],5m) / last(/Proxmox VE by HTTP/proxmox.node.memtotal[{#NODE.NAME}]) * 100 &gt;{$PVE.MEMORY.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}</expression><name>Proxmox: Node [{#NODE.NAME}] high memory usage</name><event_name>Proxmox: Node [{#NODE.NAME}] high memory usage (over {$PVE.MEMORY.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Memory usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>3f88526e10a14319983fe14621ef10f9</uuid><expression>min(/Proxmox VE by HTTP/proxmox.node.rootused[{#NODE.NAME}],5m) / last(/Proxmox VE by HTTP/proxmox.node.roottotal[{#NODE.NAME}]) * 100 &gt;{$PVE.ROOT.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}</expression><name>Proxmox: Node [{#NODE.NAME}] high root filesystem space usage</name><event_name>Proxmox: Node [{#NODE.NAME}] high root filesystem space usage (over {$PVE.ROOT.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Root filesystem space usage.</description><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>f38ccc2e0e40430e801bf98b488e12e4</uuid><expression>min(/Proxmox VE by HTTP/proxmox.node.swapused[{#NODE.NAME}],5m) / last(/Proxmox VE by HTTP/proxmox.node.swaptotal[{#NODE.NAME}]) * 100 &gt; {$PVE.SWAP.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;} and last(/Proxmox VE by HTTP/proxmox.node.swaptotal[{#NODE.NAME}]) &gt; 0</expression><name>Proxmox: Node [{#NODE.NAME}] high root filesystem space usage</name><event_name>Proxmox: Node [{#NODE.NAME}] high root filesystem space usage (over {$PVE.SWAP.PUSE.MAX.WARN:&quot;{#NODE.NAME}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>This trigger is ignored, if there is no swap configured.</description><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>6c4fddd2a12d4e87987e47611e4a925f</uuid><name>Proxmox: Node [{#NODE.NAME}]: CPU usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.cpu[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.iowait[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.loadavg[{#NODE.NAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>0d59c329f12b494ebc8ff458a6b4714a</uuid><name>Proxmox: Node [{#NODE.NAME}]: Memory usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.memused[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.memtotal[{#NODE.NAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>f07213b83a964aac9f51e2857936bef2</uuid><name>Proxmox: Node [{#NODE.NAME}]: Network usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.netin[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.netout[{#NODE.NAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>f24340ea09324dd594f84c140f2797cc</uuid><name>Proxmox: Node [{#NODE.NAME}]: Root filesystem usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.rootused[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.roottotal[{#NODE.NAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>f47c4c734737403d97a630f5f10b7d84</uuid><name>Proxmox: Node [{#NODE.NAME}]: Swap usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.swapused[{#NODE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.swaptotal[{#NODE.NAME}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>proxmox.cluster.resources</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#NODE.NAME}</lld_macro><path>$.node</path></lld_macro_path><lld_macro_path><lld_macro>{#RESOURCE.TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><uuid>31aa7234aa294fce8f4735a9216ddf31</uuid><name>QEMU discovery</name><type>DEPENDENT</type><key>proxmox.qemu.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#RESOURCE.TYPE}</macro><value>^qemu$</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>196bf027d77742ea8960e350d9ea579e</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: CPU usage</name><type>DEPENDENT</type><key>proxmox.qemu.cpu[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU load.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.cpu</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>100</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>84ed68d7cf2b48a48fc44e9c7a0d9b92</uuid><expression>min(/Proxmox VE by HTTP/proxmox.qemu.cpu[{#QEMU.ID}],5m) &gt; {$PVE.VM.CPU.PUSE.MAX.WARN:&quot;{#QEMU.ID}&quot;}</expression><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})] high CPU usage</name><event_name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})] high CPU usage (over {$PVE.VM.CPU.PUSE.MAX.WARN:&quot;{#QEMU.ID}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>ffd3c0a6e9764d9ea0091d2fcf0234e2</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Disk read, rate</name><type>DEPENDENT</type><key>proxmox.qemu.diskread[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Disk read.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.diskread</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>7c02301822414849b8dc38ae26c74a7b</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Disk write, rate</name><type>DEPENDENT</type><key>proxmox.qemu.diskwrite[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Disk write.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.diskwrite</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>3c46d7e2f07049fc8f749157cf5627e9</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Memory total</name><type>DEPENDENT</type><key>proxmox.qemu.maxmem[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Total memory in Bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.maxmem</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>9f4402482af549288f32f108ab801950</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Memory usage</name><type>DEPENDENT</type><key>proxmox.qemu.mem[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Used memory in Bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.mem</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>c3cb5366103743c2823f522482e9f2e4</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Incoming data, rate</name><type>DEPENDENT</type><key>proxmox.qemu.netin[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Incoming data rate.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.netin</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>2cd398f1b9814551a7fad7e2bc66f6af</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Outgoing data, rate</name><type>DEPENDENT</type><key>proxmox.qemu.netout[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>Outgoing data rate.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.netout</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>name</tag><value>{#QEMU.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag><tag><tag>qemu</tag><value>{#QEMU.ID}</value></tag></tags></item_prototype><item_prototype><uuid>a3562f2f48834a88842da612fb6f464c</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME}]: Status</name><type>HTTP_AGENT</type><key>proxmox.qemu.status[{#QEMU.ID}]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Read VM status.</description><url>https://{HOST.CONN}:{$PVE.URL.PORT}/api2/json/nodes/{#NODE.NAME}/{#QEMU.ID}/status/current</url><headers><header><name>Authorization</name><value>PVEAPIToken={$PVE.TOKEN.ID}={$PVE.TOKEN.SECRET}</value></header></headers><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype><item_prototype><uuid>77ba70e0ce6f486585f870d3b57033ba</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Uptime</name><type>DEPENDENT</type><key>proxmox.qemu.uptime[{#QEMU.ID}]</key><delay>0</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>System uptime in 'N days, hh:mm:ss' format.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.uptime</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>d4ba1faeb67940a192c1b50460793813</uuid><expression>last(/Proxmox VE by HTTP/proxmox.qemu.uptime[{#QEMU.ID}])&lt;10m</expression><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME}]: has been restarted</name><event_name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME}]: has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes.</description><manual_close>YES</manual_close><dependencies><dependency><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Not running</name><expression>last(/Proxmox VE by HTTP/proxmox.qemu.vmstatus[{#QEMU.ID}])&lt;&gt;&quot;running&quot;</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>9b6de7e610c64950a3b477b9dc666751</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Status</name><type>DEPENDENT</type><key>proxmox.qemu.vmstatus[{#QEMU.ID}]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data.status</parameter></parameters></step></preprocessing><master_item><key>proxmox.qemu.status[{#QEMU.ID}]</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>8f57d13f278b459299c565846b4091f5</uuid><expression>last(/Proxmox VE by HTTP/proxmox.qemu.vmstatus[{#QEMU.ID}])&lt;&gt;&quot;running&quot;</expression><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Not running</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>VM state is not &quot;running&quot;.</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>5305bf2b71aa4b74917379c6e1b3c065</uuid><expression>min(/Proxmox VE by HTTP/proxmox.qemu.mem[{#QEMU.ID}],5m) / last(/Proxmox VE by HTTP/proxmox.qemu.maxmem[{#QEMU.ID}]) * 100 &gt;{$PVE.VM.MEMORY.PUSE.MAX.WARN:&quot;{#QEMU.ID}&quot;}</expression><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})] high memory usage</name><event_name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})] high memory usage (over {$PVE.VM.MEMORY.PUSE.MAX.WARN:&quot;{#QEMU.ID}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Memory usage.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>602ae1d9d65149ada7aa56cc2d7d9309</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: CPU usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.cpu[{#QEMU.ID}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>8522e98f30104f67bfdd1aff8b94d280</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Memory usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.mem[{#QEMU.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.maxmem[{#QEMU.ID}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>391421ce25c74c14abe35723965f3357</uuid><name>Proxmox: VM [{#NODE.NAME}/{#QEMU.NAME} ({#QEMU.ID})]: Network usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.diskwrite[{#QEMU.ID}]</key></item></graph_item><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.netin[{#QEMU.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.diskread[{#QEMU.ID}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.qemu.netout[{#QEMU.ID}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>proxmox.cluster.resources</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#NODE.NAME}</lld_macro><path>$.node</path></lld_macro_path><lld_macro_path><lld_macro>{#QEMU.ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#QEMU.NAME}</lld_macro><path>$.name</path></lld_macro_path><lld_macro_path><lld_macro>{#RESOURCE.TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><uuid>61faca6204854bc4af8dc6c5c63ddcd1</uuid><name>Storage discovery</name><type>DEPENDENT</type><key>proxmox.storage.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#RESOURCE.TYPE}</macro><value>^storage$</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>c803813b43f24390b7e0d79fda824a54</uuid><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}]: Content</name><type>DEPENDENT</type><key>proxmox.node.content[{#NODE.NAME},{#STORAGE.NAME}]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Allowed storage content types.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data[?(@.id == &quot;storage/{#NODE.NAME}/{#STORAGE.NAME}&quot;)].content.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.resources</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#STORAGE.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>0edb3506231648c9820103a337486d63</uuid><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}]: Used</name><type>DEPENDENT</type><key>proxmox.node.disk[{#NODE.NAME},{#STORAGE.NAME}]</key><delay>0</delay><history>7d</history><units>B</units><description>Used disk space in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data[?(@.id == &quot;storage/{#NODE.NAME}/{#STORAGE.NAME}&quot;)].disk.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.resources</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#STORAGE.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>ced02242ff46454f9c49f3d44bf0de9a</uuid><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}]: Size</name><type>DEPENDENT</type><key>proxmox.node.maxdisk[{#NODE.NAME},{#STORAGE.NAME}]</key><delay>0</delay><history>7d</history><units>B</units><description>Storage size in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data[?(@.id == &quot;storage/{#NODE.NAME}/{#STORAGE.NAME}&quot;)].maxdisk.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.resources</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#STORAGE.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype><item_prototype><uuid>4360858342254aecba7a77eb315cc2bb</uuid><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}]: Type</name><type>DEPENDENT</type><key>proxmox.node.plugintype[{#NODE.NAME},{#STORAGE.NAME}]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>More specific type, if available.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.data[?(@.id == &quot;storage/{#NODE.NAME}/{#STORAGE.NAME}&quot;)].plugintype.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><master_item><key>proxmox.cluster.resources</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>name</tag><value>{#STORAGE.NAME}</value></tag><tag><tag>node</tag><value>{#NODE.NAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>404d9a8a6fa54d8c880006c9ec32f55a</uuid><expression>min(/Proxmox VE by HTTP/proxmox.node.disk[{#NODE.NAME},{#STORAGE.NAME}],5m) / last(/Proxmox VE by HTTP/proxmox.node.maxdisk[{#NODE.NAME},{#STORAGE.NAME}]) * 100 &gt;{$PVE.STORAGE.PUSE.MAX.WARN:&quot;{#NODE.NAME}/{#STORAGE.NAME}&quot;}</expression><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}] high filesystem space usage</name><event_name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}] high filesystem space usage (over {$PVE.STORAGE.PUSE.MAX.WARN:&quot;{#NODE.NAME}/{#STORAGE.NAME}&quot;}% use)</event_name><opdata>Current use: {ITEM.LASTVALUE1} of {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Root filesystem space usage.</description><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>726dbf7dd13b40c8b240cb58f753a9bf</uuid><name>Proxmox: Storage [{#NODE.NAME}/{#STORAGE.NAME}]: Usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.disk[{#NODE.NAME},{#STORAGE.NAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Proxmox VE by HTTP</host><key>proxmox.node.maxdisk[{#NODE.NAME},{#STORAGE.NAME}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>proxmox.cluster.resources</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#NODE.NAME}</lld_macro><path>$.node</path></lld_macro_path><lld_macro_path><lld_macro>{#RESOURCE.TYPE}</lld_macro><path>$.type</path></lld_macro_path><lld_macro_path><lld_macro>{#STORAGE.NAME}</lld_macro><path>$.storage</path></lld_macro_path></lld_macro_paths></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>software</value></tag><tag><tag>target</tag><value>proxmox</value></tag></tags><macros><macro><macro>{$PVE.CPU.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used CPU in percentage.</description></macro><macro><macro>{$PVE.LXC.CPU.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used CPU in percentage.</description></macro><macro><macro>{$PVE.LXC.MEMORY.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used memory in percentage.</description></macro><macro><macro>{$PVE.MEMORY.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used memory in percentage.</description></macro><macro><macro>{$PVE.ROOT.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used root space in percentage.</description></macro><macro><macro>{$PVE.STORAGE.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used storage space in percentage.</description></macro><macro><macro>{$PVE.SWAP.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used swap space in percentage.</description></macro><macro><macro>{$PVE.TOKEN.ID}</macro><value>USER@REALM!TOKENID</value><description>API tokens allow stateless access to most parts of the REST API by another system, software or API client.</description></macro><macro><macro>{$PVE.TOKEN.SECRET}</macro><value>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</value><description>Secret key.</description></macro><macro><macro>{$PVE.URL.PORT}</macro><value>8006</value><description>The API uses the HTTPS protocol and the server listens to port 8006 by default.</description></macro><macro><macro>{$PVE.VM.CPU.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used CPU in percentage.</description></macro><macro><macro>{$PVE.VM.MEMORY.PUSE.MAX.WARN}</macro><value>90</value><description>Maximum used memory in percentage.</description></macro></macros><valuemaps><valuemap><uuid>d4bbd08f3a324a57af97a17f819cb3f3</uuid><name>Cluster quorate</name><mappings><mapping><value>1</value><newvalue>Yes</newvalue></mapping><mapping><value>0</value><newvalue>No</newvalue></mapping></mappings></valuemap><valuemap><uuid>87034fae192c44dba6c8bb568cd90bbd</uuid><name>HTTP response status code</name><mappings><mapping><value>100</value><newvalue>Continue</newvalue></mapping><mapping><value>101</value><newvalue>Switching Protocols</newvalue></mapping><mapping><value>102</value><newvalue>Processing</newvalue></mapping><mapping><value>200</value><newvalue>OK</newvalue></mapping><mapping><value>201</value><newvalue>Created</newvalue></mapping><mapping><value>202</value><newvalue>Accepted</newvalue></mapping><mapping><value>203</value><newvalue>Non-Authoritative Information</newvalue></mapping><mapping><value>204</value><newvalue>No Content</newvalue></mapping><mapping><value>205</value><newvalue>Reset Content</newvalue></mapping><mapping><value>206</value><newvalue>Partial Content</newvalue></mapping><mapping><value>207</value><newvalue>Multi-Status</newvalue></mapping><mapping><value>208</value><newvalue>Already Reported</newvalue></mapping><mapping><value>226</value><newvalue>IM Used</newvalue></mapping><mapping><value>300</value><newvalue>Multiple Choices</newvalue></mapping><mapping><value>301</value><newvalue>Moved Permanently</newvalue></mapping><mapping><value>302</value><newvalue>Found</newvalue></mapping><mapping><value>303</value><newvalue>See Other</newvalue></mapping><mapping><value>304</value><newvalue>Not Modified</newvalue></mapping><mapping><value>305</value><newvalue>Use Proxy</newvalue></mapping><mapping><value>306</value><newvalue>Switch Proxy</newvalue></mapping><mapping><value>307</value><newvalue>Temporary Redirect</newvalue></mapping><mapping><value>308</value><newvalue>Permanent Redirect/Resume Incomplete</newvalue></mapping><mapping><value>400</value><newvalue>Bad Request</newvalue></mapping><mapping><value>401</value><newvalue>Unauthorized</newvalue></mapping><mapping><value>402</value><newvalue>Payment Required</newvalue></mapping><mapping><value>403</value><newvalue>Forbidden</newvalue></mapping><mapping><value>404</value><newvalue>Not Found</newvalue></mapping><mapping><value>405</value><newvalue>Method Not Allowed</newvalue></mapping><mapping><value>406</value><newvalue>Not Acceptable</newvalue></mapping><mapping><value>407</value><newvalue>Proxy Authentication Required</newvalue></mapping><mapping><value>408</value><newvalue>Request Timeout</newvalue></mapping><mapping><value>409</value><newvalue>Conflict</newvalue></mapping><mapping><value>410</value><newvalue>Gone</newvalue></mapping><mapping><value>411</value><newvalue>Length Required</newvalue></mapping><mapping><value>412</value><newvalue>Precondition Failed</newvalue></mapping><mapping><value>413</value><newvalue>Payload Too Large</newvalue></mapping><mapping><value>414</value><newvalue>Request-URI Too Long</newvalue></mapping><mapping><value>415</value><newvalue>Unsupported Media Type</newvalue></mapping><mapping><value>416</value><newvalue>Requested Range Not Satisfiable</newvalue></mapping><mapping><value>417</value><newvalue>Expectation Failed</newvalue></mapping><mapping><value>418</value><newvalue>I'm a Teapot</newvalue></mapping><mapping><value>419</value><newvalue>Authentication Timeout</newvalue></mapping><mapping><value>420</value><newvalue>Method Failure/Enhance Your Calm</newvalue></mapping><mapping><value>421</value><newvalue>Misdirected Request</newvalue></mapping><mapping><value>422</value><newvalue>Unprocessable Entity</newvalue></mapping><mapping><value>423</value><newvalue>Locked</newvalue></mapping><mapping><value>424</value><newvalue>Failed Dependency</newvalue></mapping><mapping><value>426</value><newvalue>Upgrade Required</newvalue></mapping><mapping><value>428</value><newvalue>Precondition Required</newvalue></mapping><mapping><value>429</value><newvalue>Too Many Requests</newvalue></mapping><mapping><value>431</value><newvalue>Request Header Fields Too Large</newvalue></mapping><mapping><value>440</value><newvalue>Login Timeout</newvalue></mapping><mapping><value>444</value><newvalue>No Response</newvalue></mapping><mapping><value>449</value><newvalue>Retry With</newvalue></mapping><mapping><value>450</value><newvalue>Blocked by Windows Parental Controls</newvalue></mapping><mapping><value>451</value><newvalue>Unavailable for Legal Reasons/Redirect</newvalue></mapping><mapping><value>494</value><newvalue>Request Header Too Large</newvalue></mapping><mapping><value>495</value><newvalue>Cert Error</newvalue></mapping><mapping><value>496</value><newvalue>No Cert</newvalue></mapping><mapping><value>497</value><newvalue>HTTP to HTTPS</newvalue></mapping><mapping><value>498</value><newvalue>Token Expired/Invalid</newvalue></mapping><mapping><value>499</value><newvalue>Client Closed Request/Token Required</newvalue></mapping><mapping><value>500</value><newvalue>Internal Server Error</newvalue></mapping><mapping><value>501</value><newvalue>Not Implemented</newvalue></mapping><mapping><value>502</value><newvalue>Bad Gateway</newvalue></mapping><mapping><value>503</value><newvalue>Service Unavailable</newvalue></mapping><mapping><value>504</value><newvalue>Gateway Timeout</newvalue></mapping><mapping><value>505</value><newvalue>HTTP Version Not Supported</newvalue></mapping><mapping><value>506</value><newvalue>Variant Also Negotiates</newvalue></mapping><mapping><value>507</value><newvalue>Insufficient Storage</newvalue></mapping><mapping><value>508</value><newvalue>Loop Detected</newvalue></mapping><mapping><value>509</value><newvalue>Bandwidth Limit Exceeded</newvalue></mapping><mapping><value>510</value><newvalue>Not Extended</newvalue></mapping><mapping><value>511</value><newvalue>Network Authentication Required</newvalue></mapping><mapping><value>520</value><newvalue>Unknown Error</newvalue></mapping><mapping><value>598</value><newvalue>Network Read Timeout Error</newvalue></mapping><mapping><value>599</value><newvalue>Network Connect Timeout Error</newvalue></mapping></mappings></valuemap><valuemap><uuid>99c0bc65efb34d298586320bdcf14209</uuid><name>Node online</name><mappings><mapping><value>1</value><newvalue>Online</newvalue></mapping><mapping><value>0</value><newvalue>Offline</newvalue></mapping></mappings></valuemap></valuemaps></template></templates></zabbix_export>
