<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:32Z</date><groups><group><uuid>846977d1dfed4968bc5f8bdb363285bc</uuid><name>Templates/Operating systems</name></group></groups><templates><template><uuid>f895df5b37494f668cde1a2388d7af8b</uuid><template>macOS</template><name>macOS</name><description>It is an official macOS template. It requires Zabbix agent 4.0.0 or newer.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

Template tooling version used: 0.41</description><groups><group><name>Templates/Operating systems</name></group></groups><items><item><uuid>96c93b959e884934808b4d3c3b2f93d6</uuid><name>Host name of Zabbix agent running</name><key>agent.hostname</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>3e70e8cc76bb4099a3a6b96f5669f059</uuid><name>Zabbix agent ping</name><key>agent.ping</key><history>7d</history><description>The agent always returns 1 for this item. It could be used in combination with nodata() for the availability check.</description><valuemap><name>Zabbix agent ping status</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>32e67f37a30c4fb28db9119d9e26a996</uuid><name>Version of Zabbix agent running</name><key>agent.version</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>application</value></tag></tags></item><item><uuid>d25aa1f2eae445ceb18b7e4ee5383585</uuid><name>Maximum number of opened files</name><key>kernel.maxfiles</key><delay>1h</delay><history>7d</history><description>It could be increased by using sysctl utility or modifying the file /etc/sysctl.conf.</description><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>933b14ead0974a9c96d36c833da90ebb</uuid><expression>last(/macOS/kernel.maxfiles)&lt;1024</expression><name>Configured max number of opened files is too low</name><priority>INFO</priority><tags><tag><tag>scope</tag><value>notice</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>5c376cae54854613a1533eb804bcee56</uuid><name>Maximum number of processes</name><key>kernel.maxproc</key><delay>1h</delay><history>7d</history><description>It could be increased by using sysctl utility or modifying the file /etc/sysctl.conf.</description><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>0e89b2e0cad948c0b81bc223d2ed673c</uuid><expression>last(/macOS/kernel.maxproc)&lt;256</expression><name>Configured max number of processes is too low</name><priority>INFO</priority><tags><tag><tag>scope</tag><value>notice</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>951d874e6b644f9787c7a0d267bafcf8</uuid><name>Incoming network traffic on en0</name><key>net.if.in[en0]</key><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>ac875bd25d484d38b16cb02c30be6b67</uuid><name>Outgoing network traffic on en0</name><key>net.if.out[en0]</key><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>928f973c004447d099a79e09a8b98cee</uuid><name>Host boot time</name><key>system.boottime</key><delay>10m</delay><history>7d</history><units>unixtime</units><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>5abd63bb64114794ae6d253dcc12afb4</uuid><name>Processor load (1 min average per core)</name><key>system.cpu.load[percpu,avg1]</key><history>7d</history><value_type>FLOAT</value_type><description>The processor load is calculated as the system CPU load divided by the number of CPU cores.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>3cf40421e61b41bab7697bbf9a2649d6</uuid><expression>avg(/macOS/system.cpu.load[percpu,avg1],5m)&gt;5</expression><name>Processor load is too high</name><priority>WARNING</priority><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>7e569411a7b4415098d21aaa44068dee</uuid><name>Processor load (5 min average per core)</name><key>system.cpu.load[percpu,avg5]</key><history>7d</history><value_type>FLOAT</value_type><description>The processor load is calculated as the system CPU load divided by the number of CPU cores.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>1ddc219f824541ca9c9ef30afda56df2</uuid><name>Processor load (15 min average per core)</name><key>system.cpu.load[percpu,avg15]</key><history>7d</history><value_type>FLOAT</value_type><description>The processor load is calculated as the system CPU load divided by the number of CPU cores.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>9c0230c0bb944523bd781c37304bb87b</uuid><name>Host name</name><key>system.hostname</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>A host name of the system.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>ffb713a281a543879e4196e4207bdd62</uuid><expression>last(/macOS/system.hostname,#1)&lt;&gt;last(/macOS/system.hostname,#2)</expression><name>Hostname was changed</name><priority>INFO</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>5a7ce2c61d3a4696ac76e0406308e61b</uuid><name>Host local time</name><key>system.localtime</key><history>7d</history><units>unixtime</units><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>5c73ff0f28d24d92955c667e5245cfa0</uuid><name>System information</name><key>system.uname</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The information as normally returned by the 'uname -a'.</description><inventory_link>OS</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>55d8650af70d4aeea56345985e454df9</uuid><expression>last(/macOS/system.uname,#1)&lt;&gt;last(/macOS/system.uname,#2)</expression><name>Host information was changed</name><priority>INFO</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>34c001a77a904224aa90338590375870</uuid><name>System uptime</name><key>system.uptime</key><delay>10m</delay><history>7d</history><units>uptime</units><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>1f0cc03186cc4bb98483927f425df8e9</uuid><expression>change(/macOS/system.uptime)&lt;0</expression><name>Server has just been restarted</name><priority>INFO</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>31ea6bafabbe440ea1b8d1b6cea74444</uuid><name>Number of logged in users</name><key>system.users.num</key><history>7d</history><description>The number of users who are currently logged in.</description><tags><tag><tag>component</tag><value>os</value></tag><tag><tag>component</tag><value>security</value></tag></tags></item><item><uuid>6df0d9e8694d45dfa11e433d8de7be41</uuid><name>Checksum of /etc/passwd</name><key>vfs.file.cksum[/etc/passwd,sha256]</key><delay>15m</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>security</value></tag></tags><triggers><trigger><uuid>39cfe50a3d2a46ad9a53b9ec7443ec18</uuid><expression>last(/macOS/vfs.file.cksum[/etc/passwd,sha256],#1)&lt;&gt;last(/macOS/vfs.file.cksum[/etc/passwd,sha256],#2)</expression><name>/etc/passwd has been changed</name><priority>WARNING</priority><tags><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>daf35c33bb84443f893bb06bfe10f870</uuid><name>Available memory</name><key>vm.memory.size[available]</key><history>7d</history><units>B</units><description>The available memory is defined as free+cached+buffers memory.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags><triggers><trigger><uuid>c38dfc1b95d1463585d378f60d6a689a</uuid><expression>last(/macOS/vm.memory.size[available])&lt;20M</expression><name>Lack of available memory on server</name><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>83c0218324a548c4a01054801a4d8b0b</uuid><name>Total memory</name><key>vm.memory.size[total]</key><delay>1h</delay><history>7d</history><units>B</units><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>d00cf9691f6c446fa35dab03b2201aa4</uuid><name>Zabbix agent availability</name><type>INTERNAL</type><key>zabbix[host,agent,available]</key><history>7d</history><description>Monitoring the availability status of the agent.</description><valuemap><name>zabbix.host.available</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>0766e9c2a02f46e7adbb86dbef67556f</uuid><expression>max(/macOS/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0</expression><name>Zabbix agent is not available</name><event_name>Zabbix agent is not available (for {$AGENT.TIMEOUT})</event_name><priority>AVERAGE</priority><description>For passive checks only the availability of the agents and a host is used with {$AGENT.TIMEOUT} as the time threshold.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>c537fbe006d7434dab08add1dcf87537</uuid><name>Mounted filesystem discovery</name><key>vfs.fs.discovery</key><delay>1h</delay><filter><conditions><condition><macro>{#FSTYPE}</macro><value>@File systems for discovery</value><formulaid>A</formulaid></condition></conditions></filter><description>Discovery of different types of file systems as defined in the global regular expression &quot;File systems for discovery&quot;.</description><item_prototypes><item_prototype><uuid>b7560dc2b6f743458128961cc962bcd3</uuid><name>{#FSNAME}: Free inodes (percentage)</name><key>vfs.fs.inode[{#FSNAME},pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><tags><tag><tag>component</tag><value>filesystem</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>91cccd7935854a47bf4ca184b1d4d09a</uuid><expression>last(/macOS/vfs.fs.inode[{#FSNAME},pfree])&lt;20</expression><name>{#FSNAME}: Free inodes is less than 20%</name><priority>WARNING</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>29340ac4c5d3419cb4508641e85d787d</uuid><name>{#FSNAME}: Free disk space</name><key>vfs.fs.size[{#FSNAME},free]</key><history>7d</history><units>B</units><tags><tag><tag>component</tag><value>filesystem</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>6d9aa50bddb642499ad575a0cc71146b</uuid><name>{#FSNAME}: Free disk space (percentage)</name><key>vfs.fs.size[{#FSNAME},pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><tags><tag><tag>component</tag><value>filesystem</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>673dbc5aec474abda3a3b392d31b6c11</uuid><expression>last(/macOS/vfs.fs.size[{#FSNAME},pfree])&lt;20</expression><name>{#FSNAME}: Free disk space is less than 20%</name><priority>WARNING</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>c311ced2b4204b368af1c8a8c27f9c99</uuid><name>{#FSNAME}: Total disk space</name><key>vfs.fs.size[{#FSNAME},total]</key><delay>1h</delay><history>7d</history><units>B</units><tags><tag><tag>component</tag><value>filesystem</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>748612098b4e4befa0f39f11b99eced4</uuid><name>{#FSNAME}: Used disk space</name><key>vfs.fs.size[{#FSNAME},used]</key><history>7d</history><units>B</units><tags><tag><tag>component</tag><value>filesystem</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>6ce28b13df4e4494a4d39750afb25290</uuid><name>{#FSNAME}: Disk space usage</name><width>600</width><height>340</height><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><type>PIE</type><show_3d>YES</show_3d><graph_items><graph_item><color>C80000</color><type>GRAPH_SUM</type><item><host>macOS</host><key>vfs.fs.size[{#FSNAME},total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>macOS</host><key>vfs.fs.size[{#FSNAME},free]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><overrides><override><name>Skip metadata collection for dynamic FS</name><step>1</step><filter><conditions><condition><macro>{#FSTYPE}</macro><value>^(btrfs|zfs)$</value><formulaid>A</formulaid></condition></conditions></filter><operations><operation><operationobject>ITEM_PROTOTYPE</operationobject><operator>LIKE</operator><value>inode</value><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>os</value></tag><tag><tag>target</tag><value>macos</value></tag></tags><macros><macro><macro>{$AGENT.TIMEOUT}</macro><value>3m</value><description>The timeout after which the agent is considered unavailable. It works only for the agents reachable from Zabbix server/proxy (in passive mode).</description></macro></macros><dashboards><dashboard><uuid>d66f39e86e2047289acea0bc9a218807</uuid><name>System performance</name><pages><page><widgets><widget><type>GRAPH_CLASSIC</type><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>macOS</host><name>CPU load</name></value></field></fields></widget><widget><type>GRAPH_CLASSIC</type><y>5</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>macOS</host><name>Memory usage</name></value></field></fields></widget></widgets></page></pages></dashboard></dashboards><valuemaps><valuemap><uuid>0355844b2bee4fb59bddda6175ef4810</uuid><name>zabbix.host.available</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>a72caf871acf4776a891a612932fbf2e</uuid><name>Zabbix agent ping status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><graphs><graph><uuid>f0e648fb4c5345748b11a7bdb05f6526</uuid><name>CPU load</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>009900</color><item><host>macOS</host><key>system.cpu.load[percpu,avg1]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>000099</color><item><host>macOS</host><key>system.cpu.load[percpu,avg5]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>990000</color><item><host>macOS</host><key>system.cpu.load[percpu,avg15]</key></item></graph_item></graph_items></graph><graph><uuid>5c942cb1fe5b440aa9428d45ee85e09c</uuid><name>Memory usage</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>ITEM</ymax_type_1><ymax_item_1><host>macOS</host><key>vm.memory.size[total]</key></ymax_item_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00C800</color><item><host>macOS</host><key>vm.memory.size[available]</key></item></graph_item></graph_items></graph><graph><uuid>5c4b08f992c541dbb02835bbd4f0a55e</uuid><name>Network traffic on en0</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00AA00</color><item><host>macOS</host><key>net.if.in[en0]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>3333FF</color><item><host>macOS</host><key>net.if.out[en0]</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
