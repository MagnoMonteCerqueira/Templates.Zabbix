<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:15:09Z</date><groups><group><uuid>7c2cb727f85b492d88cd56e17127c64d</uuid><name>Templates/SAN</name></group></groups><templates><template><uuid>b8750c02b5624c6889979b129735bd56</uuid><template>HPE Primera by HTTP</template><name>HPE Primera by HTTP</name><description>The template to monitor HPE Primera by HTTP.
It works without any external scripts and uses the script item.

Setup:
  1. Create user zabbix on the storage with browse role and enable it for all domains.
  2. The WSAPI server does not start automatically.
     - Log in to the CLI as Super, Service, or any role granted the wsapi_set right.
     - Start the WSAPI server by command: `startwsapi`.
     - To check WSAPI state use command: `showwsapi`.
  3. Link template to the host.
  4. Configure macros {$HPE.PRIMERA.USERNAME} and {$HPE.PRIMERA.PASSWORD}.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

Template tooling version used: 0.41</description><groups><group><name>Templates/SAN</name></group></groups><items><item><uuid>d5b8a74991d34652973a78d58203d5fd</uuid><name>HPE Primera: Disks total</name><type>DEPENDENT</type><key>hpe.primera.disks.total</key><delay>0</delay><history>7d</history><description>Number of physical disks.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.total</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.disks</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>89aa29280dc349a2acaae520849857e0</uuid><name>HPE Primera: Get CPGs data</name><type>DEPENDENT</type><key>hpe.primera.get.cpgs</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Common provisioning groups data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.cpgs</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>530e20083da8423e9d30c8342f1b7da3</uuid><name>HPE Primera: Get data</name><type>SCRIPT</type><key>hpe.primera.get.data</key><history>0d</history><trends>0</trends><value_type>TEXT</value_type><params>var Primera = {
    params: {},
    session_key: null,

    setParams: function (params) {
        ['username', 'password', 'base_url'].forEach(function (field) {
            if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
                throw 'Required param is not set: ' + field + '.';
            }
        });

        Primera.params = params;
        if (typeof Primera.params.base_url === 'string' &amp;&amp; !Primera.params.base_url.endsWith('/')) {
            Primera.params.base_url += '/';
        }
    },

    login: function () {
        if (Primera.session_key !== null) {
            return;
        }

        var response, request = new HttpRequest();
        request.addHeader('Content-Type: application/json');

        response = request.post(Primera.params.base_url + 'api/v1/credentials', JSON.stringify({
            'user': Primera.params.username,
            'password': Primera.params.password
        }));

        if (request.getStatus() &lt; 200 || request.getStatus() &gt;= 300) {
            throw 'Auth request failed with status code ' + request.getStatus() + ': ' + response;
        }

        if (response !== null) {
            try {
                auth_data = JSON.parse(response);
            }
            catch (error) {
                throw 'Failed to parse auth response received from device API.';
            }
        }
        else {
            throw 'No data received by auth request.'
        }

        if ('key' in auth_data) {
            Primera.session_key = auth_data['key'];
        } else {
            throw 'Auth response does not contain session key.'
        }
    },

    logout: function () {
        if (Primera.session_key !== null) {
            (new HttpRequest()).delete(Primera.params.base_url + 'api/v1/credentials/' + Primera.session_key);
        }
    },

    requestData: function (method) {
        if (Primera.session_key === null) {
            return;
        }

        request = new HttpRequest();
        request.addHeader('X-HP3PAR-WSAPI-SessionKey: ' + Primera.session_key);

        raw_data = request.get(Primera.params.base_url + 'api/v1/' + method);

        if (request.getStatus() &lt; 200 || request.getStatus() &gt;= 300) {
            throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
        }

        if (raw_data !== null) {
            try {
                return JSON.parse(raw_data);
            }
            catch (error) {
                throw 'Failed to parse response received from device API.';
            }
        }
        else {
            throw 'No data received by ' + method + ' request.';
        }
    }
};

var methods = ['disks', 'cpgs', 'hosts', 'ports', 'system', 'tasks', 'volumes'],
    data = {};

data['errors'] = {};

try {
    Primera.setParams(JSON.parse(value));

    try {
        Primera.login();
    }
    catch (error) {
        data.errors.auth = error.toString();
    }

    if (!('auth' in data.errors)) {
        for (var i in methods) {
            try {
                if (methods[i] === 'tasks') {
                    var result = [],
                        tmp_tasks = {};

                    tasks = Primera.requestData(methods[i]);

                    tasks.members.forEach(function (task) {
                        tmp_tasks[task.name] = task;
                    });

                    for (var task in tmp_tasks) {
                        result.push(tmp_tasks[task]);
                    }

                    data[methods[i]] = result;
                }
                else {
                    data[methods[i]] = Primera.requestData(methods[i]);
                }
            }
            catch (error) {
                data.errors[methods[i]] = error.toString();
            }
        }
    }
}
catch (error) {
    data.errors.params = error.toString();
}

try {
    Primera.logout();
}
catch (error) {
}

if (Object.keys(data.errors).length !== 0) {
    errors = 'Failed to receive data:';
    for (var error in data.errors) {
        errors += '\n' + error + ' : ' + data.errors[error];
    }
    data.errors = errors;
}
else {
    data.errors = '';
}

return JSON.stringify(data);</params><description>The JSON with result of WSAPI requests.</description><timeout>{$HPE.PRIMERA.DATA.TIMEOUT}</timeout><parameters><parameter><name>base_url</name><value>{$HPE.PRIMERA.API.SCHEME}://{HOST.CONN}</value></parameter><parameter><name>password</name><value>{$HPE.PRIMERA.API.PASSWORD}</value></parameter><parameter><name>username</name><value>{$HPE.PRIMERA.API.USERNAME}</value></parameter></parameters><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>3940a3313b354d64924fc93be9b9db04</uuid><name>HPE Primera: Get disks data</name><type>DEPENDENT</type><key>hpe.primera.get.disks</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Disks data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.disks</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>484a6b9568234bbca9b4bcae2833bbf1</uuid><name>HPE Primera: Get errors</name><type>DEPENDENT</type><key>hpe.primera.get.errors</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>TEXT</value_type><description>A list of errors from WSAPI requests.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.errors</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags><triggers><trigger><uuid>570d440e7ec9445585003208eca06e63</uuid><expression>length(last(/HPE Primera by HTTP/hpe.primera.get.errors))&gt;0</expression><name>HPE Primera: There are errors in requests to WSAPI</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Zabbix has received errors in requests to WSAPI.</description><dependencies><dependency><name>HPE Primera: Service is unavailable</name><expression>max(/HPE Primera by HTTP/net.tcp.service[&quot;{$HPE.PRIMERA.API.SCHEME}&quot;,&quot;{HOST.CONN}&quot;,&quot;{$HPE.PRIMERA.API.PORT}&quot;],5m)=0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>c027fd5d976d42bd90126edb46ddfe88</uuid><name>HPE Primera: Get hosts data</name><type>DEPENDENT</type><key>hpe.primera.get.hosts</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Hosts data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.hosts</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>1569a51d018345b390d3e2b3c368ba85</uuid><name>HPE Primera: Get ports data</name><type>DEPENDENT</type><key>hpe.primera.get.ports</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Ports data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.ports</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>6baed792c06444f598aec830f90f2f4c</uuid><name>HPE Primera: Get system data</name><type>DEPENDENT</type><key>hpe.primera.get.system</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>System data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.system</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>9d5697db544f4f3993e6df499ad51b49</uuid><name>HPE Primera: Get tasks data</name><type>DEPENDENT</type><key>hpe.primera.get.tasks</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Tasks data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.tasks</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>7faad091257b44f1a7ecf2c9156c83ca</uuid><name>HPE Primera: Get volumes data</name><type>DEPENDENT</type><key>hpe.primera.get.volumes</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Volumes data.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.volumes</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>hpe.primera.get.data</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>efc450d0682c4c5d93df41d05c10eceb</uuid><name>HPE Primera: Capacity allocated</name><type>DEPENDENT</type><key>hpe.primera.system.capacity.allocated</key><delay>0</delay><history>7d</history><units>B</units><description>Allocated capacity in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.allocatedCapacityMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>e3842eec2e45443681670d3c1d194900</uuid><name>HPE Primera: Capacity failed</name><type>DEPENDENT</type><key>hpe.primera.system.capacity.failed</key><delay>0</delay><history>7d</history><units>B</units><description>Failed capacity in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.failedCapacityMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>d23e888299d344238468481689f55e2d</uuid><name>HPE Primera: Capacity free</name><type>DEPENDENT</type><key>hpe.primera.system.capacity.free</key><delay>0</delay><history>7d</history><units>B</units><description>Free capacity in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.freeCapacityMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>1e6fc0d68d18474e84b4fe2e4d3374d1</uuid><name>HPE Primera: Capacity total</name><type>DEPENDENT</type><key>hpe.primera.system.capacity.total</key><delay>0</delay><history>7d</history><units>B</units><description>Total capacity in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalCapacityMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>65bcf3fb456a45358795d2f9d8249e16</uuid><name>HPE Primera: Chunklet size</name><type>DEPENDENT</type><key>hpe.primera.system.chunklet.size</key><delay>0</delay><history>7d</history><units>B</units><description>Chunklet size.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.chunkletSizeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>dd6fd61256cc4eeeb94f50d0c86fc51f</uuid><name>HPE Primera: System contact</name><type>DEPENDENT</type><key>hpe.primera.system.contact</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Contact of the system.</description><inventory_link>CONTACT</inventory_link><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.contact</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>dd61f3a680284893801c96bdbd445645</uuid><name>HPE Primera: System location</name><type>DEPENDENT</type><key>hpe.primera.system.location</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Location of the system.</description><inventory_link>LOCATION</inventory_link><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.location</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>5f28ec66be1f43208139476af3653997</uuid><name>HPE Primera: Model</name><type>DEPENDENT</type><key>hpe.primera.system.model</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>System model.</description><inventory_link>MODEL</inventory_link><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.model</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>45281453bf204365a8a8ac2ba7255e54</uuid><name>HPE Primera: System name</name><type>DEPENDENT</type><key>hpe.primera.system.name</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>System name.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.name</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>acf6d37022884dc99a3b55c95f6b19c8</uuid><name>HPE Primera: Nodes online</name><type>DEPENDENT</type><key>hpe.primera.system.nodes.online</key><delay>0</delay><history>7d</history><description>Number of online nodes in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.onlineNodes.length()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>65b22e04d7334aaf970a8961a46c22c9</uuid><name>HPE Primera: Nodes total</name><type>DEPENDENT</type><key>hpe.primera.system.nodes.total</key><delay>0</delay><history>7d</history><description>Total number of nodes in the system.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalNodes</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>d194672ea7f64dd58296d7fb2537f35b</uuid><name>HPE Primera: Serial number</name><type>DEPENDENT</type><key>hpe.primera.system.serial_number</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>System serial number.</description><inventory_link>SERIALNO_A</inventory_link><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.serialNumber</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>e0f0ff7657784c8eab1a71a68ceefc19</uuid><name>HPE Primera: Software version number</name><type>DEPENDENT</type><key>hpe.primera.system.sw_version</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Storage system software version number.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.systemVersion</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.system</key></master_item><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>a0b4fdee38a64c5f82fd051ea74a7b2d</uuid><name>HPE Primera: Service ping</name><type>SIMPLE</type><key>net.tcp.service[&quot;{$HPE.PRIMERA.API.SCHEME}&quot;,&quot;{HOST.CONN}&quot;,&quot;{$HPE.PRIMERA.API.PORT}&quot;]</key><history>7d</history><description>Checks if the service is running and accepting TCP connections.</description><valuemap><name>Service state</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>health</value></tag><tag><tag>component</tag><value>network</value></tag></tags><triggers><trigger><uuid>8e7aa46322c643878e509461dbb9169d</uuid><expression>max(/HPE Primera by HTTP/net.tcp.service[&quot;{$HPE.PRIMERA.API.SCHEME}&quot;,&quot;{HOST.CONN}&quot;,&quot;{$HPE.PRIMERA.API.PORT}&quot;],5m)=0</expression><name>HPE Primera: Service is unavailable</name><priority>HIGH</priority><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>b9132b095eb349c99e868ea40364596d</uuid><name>Common provisioning groups discovery</name><type>DEPENDENT</type><key>hpe.primera.cpg.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.CPG.NAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.CPG.NAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>List of CPGs resources.</description><item_prototypes><item_prototype><uuid>6d070a747a01498b94c56da721a63192</uuid><name>CPG [{#NAME}]: Number of FPVVs</name><type>DEPENDENT</type><key>hpe.primera.cpg.fpvv[&quot;{#ID}&quot;,count]</key><delay>0</delay><history>7d</history><description>Number of FPVVs (Fully Provisioned Virtual Volumes) allocated in the CPG.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.numFPVVs</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a7fccd5afcf5469ca11a9436240eab5c</uuid><name>CPG [{#NAME}]: Raw space: Free</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,free]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw free space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.rawFreeSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>8f26a54327f54e968f422081e6045217</uuid><name>CPG [{#NAME}]: Raw space: Shared</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,shared]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw shared space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.rawSharedSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>e3ac07e2707a44fd8c166f4618fd79a1</uuid><name>CPG [{#NAME}]: Raw space: Total</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,total]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw total space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.rawTotalSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>6dfd722ad85b481a9c2b04a4a5eb91fe</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot administration: Total (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,raw_total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total physical (raw) logical disk space in snapshot administration.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SAUsage.rawTotalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>8b2dc75fdcfa48908ece97768641f055</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot administration: Used (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,raw_used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of physical (raw) logical disk used in snapshot administration.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SAUsage.rawUsedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>d55f0eab811641fdbb9a8bc8c54815ee</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot administration: Total</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total logical disk space in snapshot administration.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SAUsage.totalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>cf467bc7d9ac45259f284eeab6ae7f6a</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot administration: Used</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of logical disk used in snapshot administration.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SAUsage.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>61dd9aa18c714863b606d18b2fff6c57</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot data: Total (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,raw_total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total physical (raw) logical disk space in snapshot data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SDUsage.rawTotalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>f95ee3c4c0c64d46a47dd68b346f2fa5</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot data: Used (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,raw_used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of physical (raw) logical disk used in snapshot data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SDUsage.rawUsedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>797f3335d8704d4bb8b53e34b3e6589e</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot data: Total</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total logical disk space in snapshot data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SDUsage.totalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>51e40f6a1eb249d58bd79948d403d4f7</uuid><name>CPG [{#NAME}]: Logical disk space: Snapshot data: Used</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of logical disk used in snapshot data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.SDUsage.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>b7a8880bdafe4f0da4dd8cee6d4fdfa4</uuid><name>CPG [{#NAME}]: Logical disk space: User space: Total (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,raw_total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total physical (raw) logical disk space in user data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.UsrUsage.rawTotalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>1feabd57f12a48b98dab098435179725</uuid><name>CPG [{#NAME}]: Logical disk space: User space: Used (raw)</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,raw_used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of physical (raw) logical disk used in user data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.UsrUsage.rawUsedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>6f85014bc639420aa409d97d42cb75b2</uuid><name>CPG [{#NAME}]: Logical disk space: User space: Total</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total logical disk space in user data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.UsrUsage.totalMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>c21f77a45ab443099bf957fbb39478f3</uuid><name>CPG [{#NAME}]: Logical disk space: User space: Used</name><type>DEPENDENT</type><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Amount of logical disk used in user data space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.UsrUsage.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a6cd977f27a8463cb385715327e34955</uuid><name>CPG [{#NAME}]: CPG space: Free</name><type>DEPENDENT</type><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,free]</key><delay>0</delay><history>7d</history><units>B</units><description>Free CPG space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.freeSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>17cf1cddafd444f8a5616a472c1a019b</uuid><name>CPG [{#NAME}]: CPG space: Shared</name><type>DEPENDENT</type><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,shared]</key><delay>0</delay><history>7d</history><units>B</units><description>Shared CPG space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.sharedSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3950d779a0394615b8ec311525ed4168</uuid><name>CPG [{#NAME}]: CPG space: Total</name><type>DEPENDENT</type><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,total]</key><delay>0</delay><history>7d</history><units>B</units><description>Total CPG space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalSpaceMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a7e2188d600a4715a58deba46f3b46ac</uuid><name>CPG [{#NAME}]: Degraded state</name><type>DEPENDENT</type><key>hpe.primera.cpg.state[&quot;{#ID}&quot;,degraded]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Detailed state of the CPG:

LDS_NOT_STARTED (1) - LDs not started.
NOT_STARTED (2) - VV not started.
NEEDS_CHECK (3) - check for consistency.
NEEDS_MAINT_CHECK (4) - maintenance check is required.
INTERNAL_CONSISTENCY_ERROR (5) - internal consistency error.
SNAPDATA_INVALID (6) - invalid snapshot data.
PRESERVED (7) - unavailable LD sets due to missing chunklets. Preserved remaining VV data.
STALE (8) - parts of the VV contain old data because of a copy-on-write operation.
COPY_FAILED (9) - a promote or copy operation to this volume failed.
DEGRADED_AVAIL (10) - degraded due to availability.
DEGRADED_PERF (11) - degraded due to performance.
PROMOTING (12) - volume is the current target of a promote operation.
COPY_TARGET (13) - volume is the current target of a physical copy operation.
RESYNC_TARGET (14) - volume is the current target of a resynchronized copy operation.
TUNING (15) - volume tuning is in progress.
CLOSING (16) - volume is closing.
REMOVING (17) - removing the volume.
REMOVING_RETRY (18) - retrying a volume removal operation.
CREATING (19) - creating a volume.
COPY_SOURCE (20) - copy source.
IMPORTING (21) - importing a volume.
CONVERTING (22) - converting a volume.
INVALID (23) - invalid.
EXCLUSIVE (24) - local storage system has exclusive access to the volume.
CONSISTENT (25) - volume is being imported consistently along with other volumes in the VV set.
STANDBY (26) - volume in standby mode.
SD_META_INCONSISTENT (27) - SD Meta Inconsistent.
SD_NEEDS_FIX (28) - SD needs fix.
SD_META_FIXING (29) - SD meta fix.
UNKNOWN (999) - unknown state.
NOT_SUPPORTED_BY_WSAPI (1000) - state not supported by WSAPI.</description><valuemap><name>Volume detailed state enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.degradedStates</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>837b48053400487885bf051a78f2200a</uuid><name>CPG [{#NAME}]: Failed state</name><type>DEPENDENT</type><key>hpe.primera.cpg.state[&quot;{#ID}&quot;,failed]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Detailed state of the CPG:

LDS_NOT_STARTED (1) - LDs not started.
NOT_STARTED (2) - VV not started.
NEEDS_CHECK (3) - check for consistency.
NEEDS_MAINT_CHECK (4) - maintenance check is required.
INTERNAL_CONSISTENCY_ERROR (5) - internal consistency error.
SNAPDATA_INVALID (6) - invalid snapshot data.
PRESERVED (7) - unavailable LD sets due to missing chunklets. Preserved remaining VV data.
STALE (8) - parts of the VV contain old data because of a copy-on-write operation.
COPY_FAILED (9) - a promote or copy operation to this volume failed.
DEGRADED_AVAIL (10) - degraded due to availability.
DEGRADED_PERF (11) - degraded due to performance.
PROMOTING (12) - volume is the current target of a promote operation.
COPY_TARGET (13) - volume is the current target of a physical copy operation.
RESYNC_TARGET (14) - volume is the current target of a resynchronized copy operation.
TUNING (15) - volume tuning is in progress.
CLOSING (16) - volume is closing.
REMOVING (17) - removing the volume.
REMOVING_RETRY (18) - retrying a volume removal operation.
CREATING (19) - creating a volume.
COPY_SOURCE (20) - copy source.
IMPORTING (21) - importing a volume.
CONVERTING (22) - converting a volume.
INVALID (23) - invalid.
EXCLUSIVE (24) - local storage system has exclusive access to the volume.
CONSISTENT (25) - volume is being imported consistently along with other volumes in the VV set.
STANDBY (26) - volume in standby mode.
SD_META_INCONSISTENT (27) - SD Meta Inconsistent.
SD_NEEDS_FIX (28) - SD needs fix.
SD_META_FIXING (29) - SD meta fix.
UNKNOWN (999) - unknown state.
NOT_SUPPORTED_BY_WSAPI (1000) - state not supported by WSAPI.</description><valuemap><name>Volume detailed state enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.failedStates</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(JSON.parse(value));</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3fe9b7c875c248e3b09c98162e30ebf8</uuid><name>CPG [{#NAME}]: State</name><type>DEPENDENT</type><key>hpe.primera.cpg.state[&quot;{#ID}&quot;]</key><delay>0</delay><history>7d</history><description>Overall state of the CPG:

NORMAL (1) - normal operation;
DEGRADED (2) - degraded state;
FAILED (3) - abnormal operation;
UNKNOWN (99) - unknown state.</description><valuemap><name>State enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.state</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>32a29b7a4bf340ef8ab07a8db3bef309</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.cpg.state[&quot;{#ID}&quot;])=2</expression><name>CPG [{#NAME}]: Degraded</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>CPG [{#NAME}] is in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>85c26e64c8074e8b9ab52f20394afeee</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.cpg.state[&quot;{#ID}&quot;])=3</expression><name>CPG [{#NAME}]: Failed</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>CPG [{#NAME}] is in failed state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>18544a7742af4678bd8c37ad84a8d137</uuid><name>CPG [{#NAME}]: Number of TDVVs</name><type>DEPENDENT</type><key>hpe.primera.cpg.tdvv[&quot;{#ID}&quot;,count]</key><delay>0</delay><history>7d</history><description>Number of TDVVs (Thinly Deduplicated Virtual Volume) created in the CPG.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.numTDVVs</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>f93dc70fa63a47da9253a447a67df685</uuid><name>CPG [{#NAME}]: Number of TPVVs</name><type>DEPENDENT</type><key>hpe.primera.cpg.tpvv[&quot;{#ID}&quot;,count]</key><delay>0</delay><history>7d</history><description>Number of TPVVs (Thinly Provisioned Virtual Volumes) allocated in the CPG.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.numTPVVs</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>54afd11ca82b4f94861cc145ca681291</uuid><name>CPG [{#NAME}]: Get CPG data</name><type>DEPENDENT</type><key>hpe.primera.cpg[&quot;{#ID}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>CPG {#NAME} data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members[?(@.id == &quot;{#ID}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.cpgs</key></master_item><tags><tag><tag>component</tag><value>cpg</value></tag><tag><tag>component</tag><value>raw</value></tag><tag><tag>cpg</tag><value>{#NAME}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>c5d1e864f752465eae8822c06d635aeb</uuid><name>CPG [{#NAME}]: CPG space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,shared]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space[&quot;{#ID}&quot;,total]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>1ef5d5b0090c4f168da6f842972af688</uuid><name>CPG [{#NAME}]: Number of virtual volumes</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.fpvv[&quot;{#ID}&quot;,count]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.tpvv[&quot;{#ID}&quot;,count]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.tdvv[&quot;{#ID}&quot;,count]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>4c15694d488f42d6bc5b9caf4fe9e049</uuid><name>CPG [{#NAME}]: Raw space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,shared]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.raw[&quot;{#ID}&quot;,total]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>0ffb02e0b9144e0583489ca1d1c8d2dd</uuid><name>CPG [{#NAME}]: Snapshot administration space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,used]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,raw_total]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sa[&quot;{#ID}&quot;,raw_used]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>d64484828dda48cbbf7dc0f8a9c2f34d</uuid><name>CPG [{#NAME}]: Snapshot data space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,used]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,raw_total]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.sd[&quot;{#ID}&quot;,raw_used]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>dd590898a3644130b897f57e8837cb3a</uuid><name>CPG [{#NAME}]: User data space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,used]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,raw_total]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.cpg.space.usr[&quot;{#ID}&quot;,raw_used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>hpe.primera.get.cpgs</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#NAME}</lld_macro><path>$.name</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>a83ed573e6ab40e8b7306178ddd2658b</uuid><name>Disks discovery</name><type>DEPENDENT</type><key>hpe.primera.disks.discovery</key><delay>0</delay><description>List of physical disk resources.</description><item_prototypes><item_prototype><uuid>811d27264b5e41e3a9e9f397888cda47</uuid><name>Disk [{#POSITION}]: Get disk data</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Disk [{#POSITION}] data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members[?(@.id == &quot;{#ID}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.disks</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>raw</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>40e074af5d7f44bb8691290971fc7c5c</uuid><name>Disk [{#POSITION}]: Free size</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,free_size]</key><delay>0</delay><history>7d</history><units>B</units><description>Physical disk free size.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.freeSizeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>9bb7a86118614d339b4dee3238b261ff</uuid><name>Disk [{#POSITION}]: Firmware version</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,fw_version]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Physical disk firmware version.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.fwVersion</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>288f7eef0a7c43afa7a3623471c92097</uuid><name>Disk [{#POSITION}]: Path A0 degraded</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,loop_a0_degraded]</key><delay>0</delay><history>7d</history><description>Indicates if this is a degraded path for the disk.</description><valuemap><name>Boolean</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.loopA0.degraded</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>f1672a33f9404216a1ffdbe3fcefd0bf</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,loop_a0_degraded])=1</expression><name>Disk [{#POSITION}]: Path A0 degraded</name><priority>AVERAGE</priority><description>Disk [{#POSITION}] path A0 in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>1e89322b49fb46bdacd22a562995f2fc</uuid><name>Disk [{#POSITION}]: Path A1 degraded</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,loop_a1_degraded]</key><delay>0</delay><history>7d</history><description>Indicates if this is a degraded path for the disk.</description><valuemap><name>Boolean</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.loopA1.degraded</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>a28b1b4cdc5d4cb4afd9b7dd5e5f4f46</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,loop_a1_degraded])=1</expression><name>Disk [{#POSITION}]: Path A1 degraded</name><priority>AVERAGE</priority><description>Disk [{#POSITION}] path A1 in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>2b56e5a6ffbd4e6189fff707d508f955</uuid><name>Disk [{#POSITION}]: Path B0 degraded</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,loop_b0_degraded]</key><delay>0</delay><history>7d</history><description>Indicates if this is a degraded path for the disk.</description><valuemap><name>Boolean</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.loopB0.degraded</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>0ff32326e7784111842198ac6457c5cc</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,loop_b0_degraded])=1</expression><name>Disk [{#POSITION}]: Path B0 degraded</name><priority>AVERAGE</priority><description>Disk [{#POSITION}] path B0 in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>cfb88804564d4e0c914760daec53276f</uuid><name>Disk [{#POSITION}]: Path B1 degraded</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,loop_b1_degraded]</key><delay>0</delay><history>7d</history><description>Indicates if this is a degraded path for the disk.</description><valuemap><name>Boolean</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.loopB1.degraded</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>d55532408f3c40408dbd05671c66b5f3</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,loop_b1_degraded])=1</expression><name>Disk [{#POSITION}]: Path B1 degraded</name><priority>AVERAGE</priority><description>Disk [{#POSITION}] path B1 in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>1387d1129e4a418e91fb0e99179116f5</uuid><name>Disk [{#POSITION}]: Manufacturer</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,manufacturer]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Physical disk manufacturer.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.manufacturer</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>1892d6230e244e1089a5eca8654ba2fa</uuid><name>Disk [{#POSITION}]: Model</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,model]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Manufacturer's device ID for disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.model</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>495ceedbdf1644fdb56cf56123c1ec01</uuid><name>Disk [{#POSITION}]: RPM</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,rpm]</key><delay>0</delay><history>7d</history><units>!rpm</units><description>RPM of the physical disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.RPM</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>07fa233e273d4d6e9813705d0afc82f5</uuid><name>Disk [{#POSITION}]: Serial number</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,serial_number]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Disk drive serial number.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.serialNumber</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype><item_prototype><uuid>acb23a0dc2674f57bada95dd12972662</uuid><name>Disk [{#POSITION}]: State</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,state]</key><delay>0</delay><history>7d</history><description>State of the physical disk:

Normal (1) - physical disk is in Normal state;
Degraded (2) - physical disk is not operating normally;
New (3) - physical disk is new, needs to be admitted;
Failed (4) - physical disk has failed;
Unknown (99) - physical disk state is unknown.</description><valuemap><name>diskState enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.state</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>99</error_handler_params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>d8991103e26b4ffea5fb64dc3519eb63</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,state])=2</expression><name>Disk [{#POSITION}]: Degraded</name><priority>AVERAGE</priority><description>Disk [{#POSITION}] in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>bc8c8281c3ac4742ba8f570a56753dd3</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,state])=3</expression><name>Disk [{#POSITION}]: Failed</name><priority>HIGH</priority><description>Disk [{#POSITION}] in failed state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>d4bda084df0b4a489fac08d1acae4e17</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.disk[&quot;{#ID}&quot;,state])=99</expression><name>Disk [{#POSITION}]: Unknown issue</name><priority>INFO</priority><description>Disk [{#POSITION}] in unknown state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>83395e3165c949e8997e93bfce0ac1d0</uuid><name>Disk [{#POSITION}]: Total size</name><type>DEPENDENT</type><key>hpe.primera.disk[&quot;{#ID}&quot;,total_size]</key><delay>0</delay><history>7d</history><units>B</units><description>Physical disk total size.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalSizeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.disk[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>disk</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#POSITION}</value></tag></tags></item_prototype></item_prototypes><master_item><key>hpe.primera.get.disks</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#POSITION}</lld_macro><path>$.position</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>77ae172949044c148ac8f56f05d3af33</uuid><name>Hosts discovery</name><type>DEPENDENT</type><key>hpe.primera.hosts.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#NAME}</macro><operator>EXISTS</operator><formulaid>A</formulaid></condition></conditions></filter><description>List of host properties.</description><item_prototypes><item_prototype><uuid>142a03a36dbf477ebbcb99994efe4246</uuid><name>Host [{#NAME}]: Comment</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,comment]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Additional information for the host.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.comment</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>44a06761b5174c67ace5487b7ec9f0e5</uuid><name>Host [{#NAME}]: Contact</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,contact]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The host's owner and contact.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.contact</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>dfa476d826d34f6bb0f2015b06b6c272</uuid><name>Host [{#NAME}]: Get host data</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Host [{#NAME}] data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members[?(@.id == &quot;{#ID}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.hosts</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>component</tag><value>raw</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>b3bd017e96d843248bbb9cb2240e861b</uuid><name>Host [{#NAME}]: IP address</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,ipaddress]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The host's IP address.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.IPAddr</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>367466a0f7084e579f3c11d820dc7f04</uuid><name>Host [{#NAME}]: Location</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,location]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The host's location.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.location</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>997e52f8f50e47738a1aefbcedaa5a82</uuid><name>Host [{#NAME}]: Model</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,model]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The host's model.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.model</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>4db5068c8aea4940adb5f8863d50ef47</uuid><name>Host [{#NAME}]: OS</name><type>DEPENDENT</type><key>hpe.primera.host[&quot;{#ID}&quot;,os]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The operating system running on the host.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.descriptors.os</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.host[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>host</value></tag><tag><tag>host</tag><value>{#NAME}</value></tag></tags></item_prototype></item_prototypes><master_item><key>hpe.primera.get.hosts</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#NAME}</lld_macro><path>$.name</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>3c9222777f2649749df76cbf61601557</uuid><name>Ports discovery</name><type>DEPENDENT</type><key>hpe.primera.ports.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#TYPE}</macro><value>3</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>List of ports.</description><item_prototypes><item_prototype><uuid>3b3d82c9c161429294a69774ec0daf5d</uuid><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Get port data</name><type>DEPENDENT</type><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Port [{#NODE}:{#SLOT}:{#CARD.PORT}] data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members[?(@.portPos.node == &quot;{#NODE}&quot; &amp;&amp; @.portPos.slot == &quot;{#SLOT}&quot; &amp;&amp; @.portPos.cardPort == &quot;{#CARD.PORT}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.ports</key></master_item><tags><tag><tag>component</tag><value>port</value></tag><tag><tag>component</tag><value>raw</value></tag><tag><tag>port</tag><value>{#NODE}:{#SLOT}:{#CARD.PORT}</value></tag></tags></item_prototype><item_prototype><uuid>9241e0b26de74ea49f28e1c09e15a2cd</uuid><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Failover state</name><type>DEPENDENT</type><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,failover_state]</key><delay>0</delay><history>7d</history><description>The state of the failover operation, shown for the two ports indicated in the N:S:P and Partner columns. The value can be one of the following:

none (1) - no failover in operation;
failover_pending (2) - in the process of failing over to partner;
failed_over (3) - failed over to partner;
active (4) - the partner port is failed over to this port;
active_down (5) - the partner port is failed over to this port, but this port is down;
active_failed (6) - the partner port is failed over to this port, but this port is down;
failback_pending (7) - in the process of failing back from partner.</description><valuemap><name>portFailOverState enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.failoverState</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>port</value></tag><tag><tag>port</tag><value>{#NODE}:{#SLOT}:{#CARD.PORT}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>65f3f3b098984842b5246bfb5842bc78</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,failover_state])&lt;&gt;1 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,failover_state])&lt;&gt;4</expression><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Failover state is {ITEM.VALUE1}</name><priority>AVERAGE</priority><description>Port [{#NODE}:{#SLOT}:{#CARD.PORT}] has failover error.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>8abba6d6f6e749b0be277056421a1958</uuid><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Hardware type</name><type>DEPENDENT</type><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,hw_type]</key><delay>0</delay><history>7d</history><description>Hardware type:

FC (1) - Fibre channel HBA;
ETH (2) - Ethernet NIC;
iSCSI (3) - iSCSI HBA;
CNA (4) - Converged network adapter;
SAS (5) - SAS HBA;
COMBO (6) - Combo card;
NVME (7) - NVMe drive;
UNKNOWN (99) - unknown hardware type.</description><valuemap><name>hardwareType enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.hardwareType</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>port</value></tag><tag><tag>port</tag><value>{#NODE}:{#SLOT}:{#CARD.PORT}</value></tag></tags></item_prototype><item_prototype><uuid>55119ce474024203ac039f4aa797dd4c</uuid><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Link state</name><type>DEPENDENT</type><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state]</key><delay>0</delay><history>7d</history><description>Port link state:

CONFIG_WAIT (1) - configuration wait;
ALPA_WAIT (2) - ALPA wait;
LOGIN_WAIT (3) - login wait;
READY (4) - link is ready;
LOSS_SYNC (5) - link is loss sync;
ERROR_STATE (6) - in error state;
XXX (7) - xxx;
NONPARTICIPATE (8) - link did not participate;
COREDUMP (9) - taking coredump;
OFFLINE (10) - link is offline;
FWDEAD (11) - firmware is dead;
IDLE_FOR_RESET (12) - link is idle for reset;
DHCP_IN_PROGRESS (13) - DHCP is in progress;
PENDING_RESET (14) - link reset is pending;
NEW (15) - link in new. This value is applicable for only virtual ports;
DISABLED (16) - link in disabled. This value is applicable for only virtual ports;
DOWN (17) - link in down. This value is applicable for only virtual ports;
FAILED (18) - link in failed. This value is applicable for only virtual ports;
PURGING (19) - link in purging. This value is applicable for only virtual ports.</description><valuemap><name>portLinkState enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.linkState</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>port</value></tag><tag><tag>port</tag><value>{#NODE}:{#SLOT}:{#CARD.PORT}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>c7ee19ea175d4c63a9ae67e0ab59253b</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;4 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;1 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;3 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;13 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;15 and last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])&lt;&gt;16</expression><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Link state is {ITEM.VALUE1}</name><priority>HIGH</priority><description>Port [{#NODE}:{#SLOT}:{#CARD.PORT}] not in ready state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>f0c8851f843e41dcb6820c943efcbe2f</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])=1 or last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])=3 or last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])=13 or last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])=15 or last(/HPE Primera by HTTP/hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,link_state])=16</expression><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Link state is {ITEM.VALUE1}</name><priority>AVERAGE</priority><description>Port [{#NODE}:{#SLOT}:{#CARD.PORT}] not in ready state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>c049e53b25bb4cb58cabbff1d91b3e88</uuid><name>Port [{#NODE}:{#SLOT}:{#CARD.PORT}]: Type</name><type>DEPENDENT</type><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,type]</key><delay>0</delay><history>7d</history><description>Port connection type:

HOST (1) - FC port connected to hosts or fabric;
DISK (2) - FC port connected to disks;
FREE (3) - port is not connected to hosts or disks;
IPORT (4) - port is in iport mode;
RCFC (5) - FC port used for remote copy;
PEER (6) - FC port used for data migration;
RCIP (7) - IP (Ethernet) port used for remote copy;
ISCSI (8) - iSCSI (Ethernet) port connected to hosts;
CNA (9) - CNA port, which can be FCoE or iSCSI;
FS (10) - Ethernet File Persona ports.</description><valuemap><name>portConnType enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.type</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.port[&quot;{#NODE}:{#SLOT}:{#CARD.PORT}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>port</value></tag><tag><tag>port</tag><value>{#NODE}:{#SLOT}:{#CARD.PORT}</value></tag></tags></item_prototype></item_prototypes><master_item><key>hpe.primera.get.ports</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#CARD.PORT}</lld_macro><path>$.portPos.cardPort</path></lld_macro_path><lld_macro_path><lld_macro>{#NODE}</lld_macro><path>$.portPos.node</path></lld_macro_path><lld_macro_path><lld_macro>{#SLOT}</lld_macro><path>$.portPos.slot</path></lld_macro_path><lld_macro_path><lld_macro>{#TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>b47a6afafca6486ea4ffb12dd3322bab</uuid><name>Tasks discovery</name><type>DEPENDENT</type><key>hpe.primera.tasks.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition><condition><macro>{#TYPE}</macro><value>{$HPE.PRIMERA.LLD.FILTER.TASK.TYPE.MATCHES}</value><formulaid>C</formulaid></condition><condition><macro>{#TYPE}</macro><value>{$HPE.PRIMERA.LLD.FILTER.TASK.TYPE.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>D</formulaid></condition></conditions></filter><lifetime>1d</lifetime><description>List of tasks started within last 24 hours.</description><item_prototypes><item_prototype><uuid>8c64d0364b0f40c8a73f51fe74962934</uuid><name>Task [{#NAME}]: Get task data</name><type>DEPENDENT</type><key>hpe.primera.task[&quot;{#ID}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Task [{#NAME}] data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.id == &quot;{#ID}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.tasks</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag><tag><tag>component</tag><value>task</value></tag><tag><tag>task</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>cbcdf169dcf646cb959206bbb6cf3642</uuid><name>Task [{#NAME}]: Finish time</name><type>DEPENDENT</type><key>hpe.primera.task[&quot;{#ID}&quot;,finish_time]</key><delay>0</delay><history>7d</history><units>unixtime</units><description>Task finish time.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.finishTime</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step><step><type>NOT_MATCHES_REGEX</type><parameters><parameter>^-$</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>raw_date = value.split(' ');

return Date.parse(raw_date[0] + 'T' + raw_date[1] + raw_date[2] + ':00')/1000;</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.task[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>task</value></tag><tag><tag>task</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>66140b134d954319a96eb17750da6b7c</uuid><name>Task [{#NAME}]: Start time</name><type>DEPENDENT</type><key>hpe.primera.task[&quot;{#ID}&quot;,start_time]</key><delay>0</delay><history>7d</history><units>unixtime</units><description>Task start time.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.startTime</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>raw_date = value.split(' ');

return Date.parse(raw_date[0] + 'T' + raw_date[1] + raw_date[2] + ':00')/1000;</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.task[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>task</value></tag><tag><tag>task</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>e01b3c84a6594e419c358c7ea297159b</uuid><name>Task [{#NAME}]: Status</name><type>DEPENDENT</type><key>hpe.primera.task[&quot;{#ID}&quot;,status]</key><delay>0</delay><history>7d</history><description>Task status:

DONE (1) - task is finished;
ACTIVE (2) - task is in progress;
CANCELLED (3) - task is canceled;
FAILED (4) - task failed.</description><valuemap><name>taskStatus enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.status</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.task[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>task</value></tag><tag><tag>task</tag><value>{#NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>63340c376d86492198e00d7ae10f063c</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.task[&quot;{#ID}&quot;,status])=3</expression><name>Task [{#NAME}]: Cancelled</name><priority>INFO</priority><description>Task [{#NAME}] is cancelled.</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype><trigger_prototype><uuid>af326c0f259144d28ebeb60e19bae903</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.task[&quot;{#ID}&quot;,status])=4</expression><name>Task [{#NAME}]: Failed</name><priority>AVERAGE</priority><description>Task [{#NAME}] is failed.</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>a67262cd7be642b9b56194d8bbb7e928</uuid><name>Task [{#NAME}]: Type</name><type>DEPENDENT</type><key>hpe.primera.task[&quot;{#ID}&quot;,type]</key><delay>0</delay><history>7d</history><description>Task type:

VV_COPY (1) - track the physical copy operations;
PHYS_COPY_RESYNC (2) - track physical copy resynchronization operations;
MOVE_REGIONS (3) - track region move operations;
PROMOTE_SV (4) - track virtual-copy promotions;
REMOTE_COPY_SYNC (5) - track remote copy group synchronizations;
REMOTE_COPY_REVERSE (6) - track the reversal of a remote copy group;
REMOTE_COPY_FAILOVER (7) - track the change-over of a secondary volume group to a primaryvolume group;REMOTE_COPY_RECOVER (8) - track synchronization start after a failover operation from originalsecondary cluster to original primary cluster;
REMOTE_COPY_RESTORE (9) - tracks the restoration process for groups that have already beenrecovered;
COMPACT_CPG (10) - track space consolidation in CPGs;
COMPACT_IDS (11) - track space consolidation in logical disks;
SNAPSHOT_ACCOUNTING (12) - track progress of snapshot space usage accounting;
CHECK_VV (13) - track the progress of the check-volume operation;
SCHEDULED_TASK (14) - track tasks that have been executed by the system scheduler;
SYSTEM_TASK (15) - track tasks that are periodically run by the storage system;
BACKGROUND_TASK (16) - track commands started using the starttask command;
IMPORT_VV (17) - track tasks that migrate data to the local storage system;
ONLINE_COPY (18) - track physical copy of the volume while online (createvvcopy-online command);
CONVERT_VV (19) - track tasks that convert a volume from an FPVV to a TPVV, and the reverse;
BACKGROUND_COMMAND (20) - track background command tasks;
CLX_SYNC (21) - track CLX synchronization tasks;
CLX_RECOVERY (22) - track CLX recovery tasks;
TUNE_SD (23) - tune copy space;
TUNE_VV (24) - tune virtual volume;
TUNE_VV_ROLLBACK (25) - tune virtual volume rollback;
TUNE_VV_RESTART (26) - tune virtual volume restart;
SYSTEM_TUNING (27) - system tuning;
NODE_RESCUE (28) - node rescue;
REPAIR_SYNC (29) - remote copy repair sync;
REMOTE_COPY_SWOVER (30) - remote copy switchover;
DEFRAGMENTATION (31) - defragmentation;
ENCRYPTION_CHANGE (32) - encryption change;
REMOTE_COPY_FAILSAFE (33) - remote copy failsafe;
TUNE_TPVV (34) - tune thin virtual volume;
REMOTE_COPY_CHG_MODE (35) - remote copy change mode;
ONLINE_PROMOTE (37) - online promote snap;
RELOCATE_PD (38) - relocate PD;
PERIODIC_CSS (39) - remote copy periodic CSS;
TUNEVV_LARGE (40) - tune large virtual volume;
SD_META_FIXER (41) - compression SD meta fixer;
DEDUP_DRYRUN (42) - preview dedup ratio;
COMPR_DRYRUN (43) - compression estimation;
DEDUP_COMPR_DRYRUN (44) - compression and dedup estimation;
UNKNOWN (99) - unknown task type.</description><valuemap><name>taskType enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.type</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.task[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>task</value></tag><tag><tag>task</tag><value>{#NAME}</value></tag></tags></item_prototype></item_prototypes><master_item><key>hpe.primera.get.tasks</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#NAME}</lld_macro><path>$.name</path></lld_macro_path><lld_macro_path><lld_macro>{#TYPE}</lld_macro><path>$.type</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>eb73fcc415c54ac18840d2655f048f6c</uuid><name>Volumes discovery</name><type>DEPENDENT</type><key>hpe.primera.volumes.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.VOLUME.NAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#NAME}</macro><value>{$HPE.PRIMERA.VOLUME.NAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>List of storage volume resources.</description><item_prototypes><item_prototype><uuid>40db4c8f6d85414e843c97770225f93d</uuid><name>Volume [{#NAME}]: Compaction ratio</name><type>DEPENDENT</type><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,compaction]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The compaction ratio indicates the overall amount of storage space saved with thin technology.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.capacityEfficiency.compaction</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>ab2a583c4b4049a6ac8b7bbc02bda8f5</uuid><name>Volume [{#NAME}]: Storage space saved using compression</name><type>DEPENDENT</type><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,compression]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Indicates the amount of storage space saved using compression.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.capacityEfficiency.compression</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>1c4d78b2dcd64efbbf710ef602a94573</uuid><name>Volume [{#NAME}]: Storage space saved using deduplication</name><type>DEPENDENT</type><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,deduplication]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Indicates the amount of storage space saved using deduplication.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.capacityEfficiency.deduplication</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3b88e49e88484fe4a77e2a96f6d48322</uuid><name>Volume [{#NAME}]: Overprovisioning ratio</name><type>DEPENDENT</type><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,overprovisioning]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Overprovisioning capacity efficiency ratio.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.capacityEfficiency.overProvisioning</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>f584938e60f94c46b4ed28cc614c797d</uuid><name>Volume [{#NAME}]: Storage space saved using deduplication and compression</name><type>DEPENDENT</type><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,reduction]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Indicates the amount of storage space saved using deduplication and compression together.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.capacityEfficiency.dataReduction</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>bb78eda6a941407581f78cf29ef2b647</uuid><name>Volume [{#NAME}]: Administrative space: Free</name><type>DEPENDENT</type><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,free]</key><delay>0</delay><history>7d</history><units>B</units><description>Free administrative space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.adminSpace.freeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>e4f9f8f5c1cd494896eba973b072fc57</uuid><name>Volume [{#NAME}]: Administrative space: Raw reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,raw_reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw reserved administrative space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.adminSpace.rawReservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>e5a93a042a3b41bab4cf59dc71ec66bf</uuid><name>Volume [{#NAME}]: Administrative space: Reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Reserved administrative space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.adminSpace.reservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>67e182afc0124cf5913b0499317a7966</uuid><name>Volume [{#NAME}]: Administrative space: Used</name><type>DEPENDENT</type><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Used administrative space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.adminSpace.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>5d4659c72ed3492da143ad9c37e71360</uuid><name>Volume [{#NAME}]: Snapshot space: Free</name><type>DEPENDENT</type><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,free]</key><delay>0</delay><history>7d</history><units>B</units><description>Free snapshot space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.snapshotSpace.freeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a2c22eed1c004bcc9292b945b5038858</uuid><name>Volume [{#NAME}]: Snapshot space: Raw reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,raw_reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw reserved snapshot space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.snapshotSpace.rawReservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a37265c4598f4179bdcfd816769a1d9b</uuid><name>Volume [{#NAME}]: Snapshot space: Reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Reserved snapshot space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.snapshotSpace.reservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>a278f5ec08c747b085ec53a36357539c</uuid><name>Volume [{#NAME}]: Snapshot space: Used</name><type>DEPENDENT</type><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Used snapshot space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.snapshotSpace.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>64825e4092c6450a8ea7fb7bce2d85ce</uuid><name>Volume [{#NAME}]: Total reserved space</name><type>DEPENDENT</type><key>hpe.primera.volume.space.total[&quot;{#ID}&quot;,reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Total reserved space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalReservedMiB</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>af15ec5befd146afbfb2b9cc017d03be</uuid><name>Volume [{#NAME}]: Total space</name><type>DEPENDENT</type><key>hpe.primera.volume.space.total[&quot;{#ID}&quot;,size]</key><delay>0</delay><history>7d</history><units>B</units><description>Virtual size of volume.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.sizeMiB</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>6000ab524b394e65afe111b65f7b6fd8</uuid><name>Volume [{#NAME}]: Total used space</name><type>DEPENDENT</type><key>hpe.primera.volume.space.total[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Total used space. Sum of used user space and used snapshot space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.totalUsedMiB</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>43c278563b174005ac5302ee48e0cd30</uuid><name>Volume [{#NAME}]: User space: Free</name><type>DEPENDENT</type><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,free]</key><delay>0</delay><history>7d</history><units>B</units><description>Free user space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.userSpace.freeMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>97aaefe8dffd4d2eb83f908ac8ad775b</uuid><name>Volume [{#NAME}]: User space: Raw reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,raw_reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Raw reserved user space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.userSpace.rawReservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>135ad5457781492db1cec36787151a71</uuid><name>Volume [{#NAME}]: User space: Reserved</name><type>DEPENDENT</type><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,reserved]</key><delay>0</delay><history>7d</history><units>B</units><description>Reserved user space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.userSpace.reservedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3adf03216c4f442693fccbb991c0de3d</uuid><name>Volume [{#NAME}]: User space: Used</name><type>DEPENDENT</type><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,used]</key><delay>0</delay><history>7d</history><units>B</units><description>Used user space.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.userSpace.usedMiB</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>10m</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>1048576</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>beb17415bd07492d83944da714c492e7</uuid><name>Volume [{#NAME}]: Compression state</name><type>DEPENDENT</type><key>hpe.primera.volume.state[&quot;{#ID}&quot;,compression]</key><delay>0</delay><history>7d</history><description>Volume compression state:

YES (1) - compression is enabled on the volume;
NO (2) - compression is disabled on the volume;
OFF (3) - compression is turned off;
NA (4) - compression is not available on the volume.</description><valuemap><name>Volume compressionState enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.compressionState</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>3962d07122a0460fa36c1b151a87717b</uuid><name>Volume [{#NAME}]: Deduplication state</name><type>DEPENDENT</type><key>hpe.primera.volume.state[&quot;{#ID}&quot;,deduplication]</key><delay>0</delay><history>7d</history><description>Volume deduplication state:

YES (1) - enables deduplication on the volume;
NO (2) - disables deduplication on the volume;
NA (3) - deduplication is not available;
OFF (4) - deduplication is turned off.</description><valuemap><name>Volume deduplicationState enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.deduplicationState</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>83222faf4e3e414789e028e0b17350c6</uuid><name>Volume [{#NAME}]: Degraded state</name><type>DEPENDENT</type><key>hpe.primera.volume.state[&quot;{#ID}&quot;,degraded]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Volume detailed state:

LDS_NOT_STARTED (1) - LDs not started.
NOT_STARTED (2) - VV not started.
NEEDS_CHECK (3) - check for consistency.
NEEDS_MAINT_CHECK (4) - maintenance check is required.
INTERNAL_CONSISTENCY_ERROR (5) - internal consistency error.
SNAPDATA_INVALID (6) - invalid snapshot data.
PRESERVED (7) - unavailable LD sets due to missing chunklets. Preserved remaining VV data.
STALE (8) - parts of the VV contain old data because of a copy-on-write operation.
COPY_FAILED (9) - a promote or copy operation to this volume failed.
DEGRADED_AVAIL (10) - degraded due to availability.
DEGRADED_PERF (11) - degraded due to performance.
PROMOTING (12) - volume is the current target of a promote operation.
COPY_TARGET (13) - volume is the current target of a physical copy operation.
RESYNC_TARGET (14) - volume is the current target of a resynchronized copy operation.
TUNING (15) - volume tuning is in progress.
CLOSING (16) - volume is closing.
REMOVING (17) - removing the volume.
REMOVING_RETRY (18) - retrying a volume removal operation.
CREATING (19) - creating a volume.
COPY_SOURCE (20) - copy source.
IMPORTING (21) - importing a volume.
CONVERTING (22) - converting a volume.
INVALID (23) - invalid.
EXCLUSIVE (24) -lLocal storage system has exclusive access to the volume.
CONSISTENT (25) - volume is being imported consistently along with other volumes in the VV set.
STANDBY (26) - volume in standby mode.
SD_META_INCONSISTENT (27) - SD Meta Inconsistent.
SD_NEEDS_FIX (28) - SD needs fix.
SD_META_FIXING (29) - SD meta fix.
UNKNOWN (999) - unknown state.
NOT_SUPPORTED_BY_WSAPI (1000) - state not supported by WSAPI.</description><valuemap><name>Volume detailed state enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.degradedStates</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>462e4b491dd94c78b299178af6d34ca0</uuid><name>Volume [{#NAME}]: Failed state</name><type>DEPENDENT</type><key>hpe.primera.volume.state[&quot;{#ID}&quot;,failed]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Volume detailed state:

LDS_NOT_STARTED (1) - LDs not started.
NOT_STARTED (2) - VV not started.
NEEDS_CHECK (3) - check for consistency.
NEEDS_MAINT_CHECK (4) - maintenance check is required.
INTERNAL_CONSISTENCY_ERROR (5) - internal consistency error.
SNAPDATA_INVALID (6) - invalid snapshot data.
PRESERVED (7) - unavailable LD sets due to missing chunklets. Preserved remaining VV data.
STALE (8) - parts of the VV contain old data because of a copy-on-write operation.
COPY_FAILED (9) - a promote or copy operation to this volume failed.
DEGRADED_AVAIL (10) - degraded due to availability.
DEGRADED_PERF (11) - degraded due to performance.
PROMOTING (12) - volume is the current target of a promote operation.
COPY_TARGET (13) - volume is the current target of a physical copy operation.
RESYNC_TARGET (14) - volume is the current target of a resynchronized copy operation.
TUNING (15) - volume tuning is in progress.
CLOSING (16) - volume is closing.
REMOVING (17) - removing the volume.
REMOVING_RETRY (18) - retrying a volume removal operation.
CREATING (19) - creating a volume.
COPY_SOURCE (20) - copy source.
IMPORTING (21) - importing a volume.
CONVERTING (22) - converting a volume.
INVALID (23) - invalid.
EXCLUSIVE (24) - local storage system has exclusive access to the volume.
CONSISTENT (25) - volume is being imported consistently along with other volumes in the VV set.
STANDBY (26) - volume in standby mode.
SD_META_INCONSISTENT (27) - SD Meta Inconsistent.
SD_NEEDS_FIX (28) - SD needs fix.
SD_META_FIXING (29) - SD meta fix.
UNKNOWN (999) - unknown state.
NOT_SUPPORTED_BY_WSAPI (1000) - state not supported by WSAPI.</description><valuemap><name>Volume detailed state enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.failedStates</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(JSON.parse(value));</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>4d4e34fdbac84cada109cbfe9b69812c</uuid><name>Volume [{#NAME}]: State</name><type>DEPENDENT</type><key>hpe.primera.volume.state[&quot;{#ID}&quot;]</key><delay>0</delay><history>7d</history><description>State of the volume:

NORMAL (1) - normal operation;
DEGRADED (2) - degraded state;
FAILED (3) - abnormal operation;
UNKNOWN (99) - unknown state.</description><valuemap><name>State enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.state</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>c91920ca3ceb457cb9e2db0bb70d7fe0</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.volume.state[&quot;{#ID}&quot;])=2</expression><name>Volume [{#NAME}]: Degraded</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Volume [{#NAME}] is in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>394b5bd072ac41acb0702601c5d5f049</uuid><expression>last(/HPE Primera by HTTP/hpe.primera.volume.state[&quot;{#ID}&quot;])=3</expression><name>Volume [{#NAME}]: Failed</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>Volume [{#NAME}] is in failed state.</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>582544eb48d04a35ab03a9d01901feb9</uuid><name>Volume [{#NAME}]: Remote copy status</name><type>DEPENDENT</type><key>hpe.primera.volume.status[&quot;{#ID}&quot;,rcopy]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Remote copy status of the volume:

NONE (1) - volume is not associated with remote copy;
PRIMARY (2) - volume is the primary copy;
SECONDARY (3) - volume is the secondary copy;
SNAP (4) - volume is the remote copy snapshot;
SYNC (5) - volume is a remote copy snapshot being used for synchronization;
DELETE (6) - volume is a remote copy snapshot that is marked for deletion;
UNKNOWN (99) - remote copy status is unknown for this volume.</description><valuemap><name>rcopyStatus enum</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.rcopyStatus</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype><item_prototype><uuid>37c200429b414e149fb970c269721154</uuid><name>Volume [{#NAME}]: Get volume data</name><type>DEPENDENT</type><key>hpe.primera.volume[&quot;{#ID}&quot;,data]</key><delay>0</delay><history>0d</history><trends>0</trends><value_type>TEXT</value_type><description>Volume [{#NAME}] data</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members[?(@.id == &quot;{#ID}&quot;)].first()</parameter></parameters></step></preprocessing><master_item><key>hpe.primera.get.volumes</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag><tag><tag>component</tag><value>volume</value></tag><tag><tag>volume</tag><value>{#NAME}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>8c7139d2b7d94773ad6ef813c7fa59c9</uuid><name>Volume [{#NAME}]: Administrative space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,raw_reserved]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,reserved]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.admin[&quot;{#ID}&quot;,used]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>c74b88d4e61d4264b804965854eb1da1</uuid><name>Volume [{#NAME}]: Capacity efficiency: Ratio</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,compaction]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,overprovisioning]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>d2a75ebb20c94eb4ab5e6a9b13d1d439</uuid><name>Volume [{#NAME}]: Capacity efficiency: Space saved</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,compression]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,deduplication]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.capacity.efficiency[&quot;{#ID}&quot;,reduction]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>7214605009354fd382368ec8699d5474</uuid><name>Volume [{#NAME}]: Snapshot space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,raw_reserved]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,reserved]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.snapshot[&quot;{#ID}&quot;,used]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>0ad9f609419340168bf7f49de98e0135</uuid><name>Volume [{#NAME}]: User space</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,raw_reserved]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,reserved]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.volume.space.user[&quot;{#ID}&quot;,used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>hpe.primera.get.volumes</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ID}</lld_macro><path>$.id</path></lld_macro_path><lld_macro_path><lld_macro>{#NAME}</lld_macro><path>$.name</path></lld_macro_path></lld_macro_paths><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.members</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>storage</value></tag><tag><tag>target</tag><value>hpe</value></tag><tag><tag>target</tag><value>primera</value></tag></tags><macros><macro><macro>{$HPE.PRIMERA.API.PASSWORD}</macro><type>SECRET_TEXT</type><description>Specify password for WSAPI.</description></macro><macro><macro>{$HPE.PRIMERA.API.PORT}</macro><value>443</value><description>The WSAPI port.</description></macro><macro><macro>{$HPE.PRIMERA.API.SCHEME}</macro><value>https</value><description>The WSAPI scheme (http/https).</description></macro><macro><macro>{$HPE.PRIMERA.API.USERNAME}</macro><value>zabbix</value><description>Specify user name for WSAPI.</description></macro><macro><macro>{$HPE.PRIMERA.CPG.NAME.MATCHES}</macro><value>.*</value><description>This macro is used in filters of CPGs discovery rule.</description></macro><macro><macro>{$HPE.PRIMERA.CPG.NAME.NOT_MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>This macro is used in filters of CPGs discovery rule.</description></macro><macro><macro>{$HPE.PRIMERA.DATA.TIMEOUT}</macro><value>15s</value><description>Response timeout for WSAPI.</description></macro><macro><macro>{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Filter of discoverable tasks by name.</description></macro><macro><macro>{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.NOT_MATCHES}</macro><value>.*</value><description>Filter to exclude discovered tasks by name.</description></macro><macro><macro>{$HPE.PRIMERA.LLD.FILTER.TASK.TYPE.MATCHES}</macro><value>.*</value><description>Filter of discoverable tasks by type.</description></macro><macro><macro>{$HPE.PRIMERA.LLD.FILTER.TASK.TYPE.NOT_MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Filter to exclude discovered tasks by type.</description></macro><macro><macro>{$HPE.PRIMERA.VOLUME.NAME.MATCHES}</macro><value>.*</value><description>This macro is used in filters of volume discovery rule.</description></macro><macro><macro>{$HPE.PRIMERA.VOLUME.NAME.NOT_MATCHES}</macro><value>^(admin|.srdata|.mgmtdata)$</value><description>This macro is used in filters of volume discovery rule.</description></macro></macros><valuemaps><valuemap><uuid>79ba0611293541f29f8b43b34e64465d</uuid><name>Boolean</name><mappings><mapping><value>0</value><newvalue>No</newvalue></mapping><mapping><value>1</value><newvalue>Yes</newvalue></mapping></mappings></valuemap><valuemap><uuid>fd9a3483b02f45c6836b9a126b669402</uuid><name>diskState enum</name><mappings><mapping><value>1</value><newvalue>Normal</newvalue></mapping><mapping><value>2</value><newvalue>Degraded</newvalue></mapping><mapping><value>3</value><newvalue>New</newvalue></mapping><mapping><value>4</value><newvalue>Failed</newvalue></mapping><mapping><value>99</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>7513c4c923884ed4b8e35ee9cdf4f627</uuid><name>hardwareType enum</name><mappings><mapping><value>1</value><newvalue>FC</newvalue></mapping><mapping><value>2</value><newvalue>Eth</newvalue></mapping><mapping><value>3</value><newvalue>iSCSI</newvalue></mapping><mapping><value>4</value><newvalue>CNA</newvalue></mapping><mapping><value>5</value><newvalue>SAS</newvalue></mapping><mapping><value>6</value><newvalue>Combo</newvalue></mapping><mapping><value>7</value><newvalue>NVMe</newvalue></mapping><mapping><value>8</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>5d243add5b534ebfac8ef95d55c4c8c9</uuid><name>portConnType enum</name><mappings><mapping><value>1</value><newvalue>Host</newvalue></mapping><mapping><value>2</value><newvalue>Disk</newvalue></mapping><mapping><value>3</value><newvalue>Free</newvalue></mapping><mapping><value>4</value><newvalue>Iport</newvalue></mapping><mapping><value>5</value><newvalue>RCFC</newvalue></mapping><mapping><value>6</value><newvalue>Peer</newvalue></mapping><mapping><value>7</value><newvalue>RCIP</newvalue></mapping><mapping><value>8</value><newvalue>ISCSI</newvalue></mapping><mapping><value>9</value><newvalue>CNA</newvalue></mapping><mapping><value>10</value><newvalue>FS</newvalue></mapping></mappings></valuemap><valuemap><uuid>5762248dd10143a3945c989f0fb73b47</uuid><name>portFailOverState enum</name><mappings><mapping><value>1</value><newvalue>None</newvalue></mapping><mapping><value>2</value><newvalue>Failover pending</newvalue></mapping><mapping><value>3</value><newvalue>Failed over</newvalue></mapping><mapping><value>4</value><newvalue>Active</newvalue></mapping><mapping><value>5</value><newvalue>Active down</newvalue></mapping><mapping><value>6</value><newvalue>Active failed</newvalue></mapping><mapping><value>7</value><newvalue>Failback_pending</newvalue></mapping></mappings></valuemap><valuemap><uuid>5a6cdc765c254f17b136c4267fc71349</uuid><name>portLinkState enum</name><mappings><mapping><value>1</value><newvalue>Config wait</newvalue></mapping><mapping><value>2</value><newvalue>ALPA wait</newvalue></mapping><mapping><value>3</value><newvalue>Login wait</newvalue></mapping><mapping><value>4</value><newvalue>Link is ready</newvalue></mapping><mapping><value>5</value><newvalue>Link is loss sync</newvalue></mapping><mapping><value>6</value><newvalue>In error state</newvalue></mapping><mapping><value>7</value><newvalue>xxx</newvalue></mapping><mapping><value>8</value><newvalue>Non participate</newvalue></mapping><mapping><value>9</value><newvalue>Core dump</newvalue></mapping><mapping><value>10</value><newvalue>Offline</newvalue></mapping><mapping><value>11</value><newvalue>FW dead</newvalue></mapping><mapping><value>12</value><newvalue>Idle for reset</newvalue></mapping><mapping><value>13</value><newvalue>DHCP in progress</newvalue></mapping><mapping><value>14</value><newvalue>Pending reset</newvalue></mapping><mapping><value>15</value><newvalue>New</newvalue></mapping><mapping><value>16</value><newvalue>Disabled</newvalue></mapping><mapping><value>17</value><newvalue>Down</newvalue></mapping><mapping><value>18</value><newvalue>Failed</newvalue></mapping><mapping><value>19</value><newvalue>Purging</newvalue></mapping></mappings></valuemap><valuemap><uuid>eb36574d642d4f9ea51688b4ff971c91</uuid><name>rcopyStatus enum</name><mappings><mapping><value>1</value><newvalue>None</newvalue></mapping><mapping><value>2</value><newvalue>Primary</newvalue></mapping><mapping><value>3</value><newvalue>Secondary</newvalue></mapping><mapping><value>4</value><newvalue>Snap</newvalue></mapping><mapping><value>5</value><newvalue>Sync</newvalue></mapping><mapping><value>6</value><newvalue>Delete</newvalue></mapping><mapping><value>99</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>aaa5a863e8524a7088e64a51f5976c98</uuid><name>Service state</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap><valuemap><uuid>86e4337cbc86423fb9f605a9fb3b25b1</uuid><name>State enum</name><mappings><mapping><value>1</value><newvalue>Normal</newvalue></mapping><mapping><value>2</value><newvalue>Degraded</newvalue></mapping><mapping><value>3</value><newvalue>Failed</newvalue></mapping><mapping><value>99</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>5cfd4442b6244399b7aa8b57e9816a4e</uuid><name>taskStatus enum</name><mappings><mapping><value>1</value><newvalue>Done</newvalue></mapping><mapping><value>2</value><newvalue>Active</newvalue></mapping><mapping><value>3</value><newvalue>Cancelled</newvalue></mapping><mapping><value>4</value><newvalue>Failed</newvalue></mapping></mappings></valuemap><valuemap><uuid>9a8e1dbbb8f7497c9492fc941fde7177</uuid><name>taskType enum</name><mappings><mapping><value>1</value><newvalue>VV copy</newvalue></mapping><mapping><value>2</value><newvalue>Phys copy resync</newvalue></mapping><mapping><value>3</value><newvalue>Move regions</newvalue></mapping><mapping><value>4</value><newvalue>Promote SV</newvalue></mapping><mapping><value>5</value><newvalue>Remote copy sync</newvalue></mapping><mapping><value>6</value><newvalue>Remote copy reverse</newvalue></mapping><mapping><value>7</value><newvalue>Remote copy failover</newvalue></mapping><mapping><value>8</value><newvalue>Remote copy recover</newvalue></mapping><mapping><value>9</value><newvalue>Remote copy restore</newvalue></mapping><mapping><value>10</value><newvalue>Compact CPG</newvalue></mapping><mapping><value>11</value><newvalue>Compact IDS</newvalue></mapping><mapping><value>12</value><newvalue>Snapshot accounting</newvalue></mapping><mapping><value>13</value><newvalue>Check VV</newvalue></mapping><mapping><value>14</value><newvalue>Scheduled task</newvalue></mapping><mapping><value>15</value><newvalue>System task</newvalue></mapping><mapping><value>16</value><newvalue>Background task</newvalue></mapping><mapping><value>17</value><newvalue>Import VV</newvalue></mapping><mapping><value>18</value><newvalue>Online copy</newvalue></mapping><mapping><value>19</value><newvalue>Convert VV</newvalue></mapping><mapping><value>20</value><newvalue>Background command</newvalue></mapping><mapping><value>21</value><newvalue>CLX sync</newvalue></mapping><mapping><value>22</value><newvalue>CLX recovery</newvalue></mapping><mapping><value>23</value><newvalue>Tune SD</newvalue></mapping><mapping><value>24</value><newvalue>Tune VV</newvalue></mapping><mapping><value>25</value><newvalue>Tune VV rollback</newvalue></mapping><mapping><value>26</value><newvalue>Tune VV restart</newvalue></mapping><mapping><value>27</value><newvalue>System tuning</newvalue></mapping><mapping><value>28</value><newvalue>Node rescue</newvalue></mapping><mapping><value>29</value><newvalue>Repair sync</newvalue></mapping><mapping><value>30</value><newvalue>Remote copy switchover</newvalue></mapping><mapping><value>31</value><newvalue>Defragmentation</newvalue></mapping><mapping><value>32</value><newvalue>Encryption change</newvalue></mapping><mapping><value>33</value><newvalue>Remote copy failsafe</newvalue></mapping><mapping><value>34</value><newvalue>Tune TPVV</newvalue></mapping><mapping><value>35</value><newvalue>Remote copy change mode</newvalue></mapping><mapping><value>37</value><newvalue>Online promote</newvalue></mapping><mapping><value>38</value><newvalue>Relocate PD</newvalue></mapping><mapping><value>39</value><newvalue>Periodic CSS</newvalue></mapping><mapping><value>40</value><newvalue>Tune VV large</newvalue></mapping><mapping><value>41</value><newvalue>SD meta fixer</newvalue></mapping><mapping><value>42</value><newvalue>Dedup dryrun</newvalue></mapping><mapping><value>43</value><newvalue>Compr dryrun</newvalue></mapping><mapping><value>44</value><newvalue>Dedup compr dryrun</newvalue></mapping><mapping><value>99</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>f529111642364bb3a23637adc554e592</uuid><name>Volume compressionState enum</name><mappings><mapping><value>1</value><newvalue>Yes</newvalue></mapping><mapping><value>2</value><newvalue>No</newvalue></mapping><mapping><value>3</value><newvalue>Off</newvalue></mapping><mapping><value>4</value><newvalue>NA</newvalue></mapping></mappings></valuemap><valuemap><uuid>716912c7b7d94f8e97fbf911edc9578e</uuid><name>Volume deduplicationState enum</name><mappings><mapping><value>1</value><newvalue>Yes</newvalue></mapping><mapping><value>2</value><newvalue>No</newvalue></mapping><mapping><value>3</value><newvalue>NA</newvalue></mapping><mapping><value>4</value><newvalue>Off</newvalue></mapping></mappings></valuemap><valuemap><uuid>6a2355e32bf54483b252f1aaf170aa45</uuid><name>Volume detailed state enum</name><mappings><mapping><value>1</value><newvalue>LDS not started</newvalue></mapping><mapping><value>2</value><newvalue>VV not started</newvalue></mapping><mapping><value>3</value><newvalue>Needs check</newvalue></mapping><mapping><value>4</value><newvalue>Needs maint check</newvalue></mapping><mapping><value>5</value><newvalue>Internal consistency error</newvalue></mapping><mapping><value>6</value><newvalue>Snapdata invalid</newvalue></mapping><mapping><value>7</value><newvalue>Preserved</newvalue></mapping><mapping><value>8</value><newvalue>Stale</newvalue></mapping><mapping><value>9</value><newvalue>Copy failed</newvalue></mapping><mapping><value>10</value><newvalue>Degraded avail</newvalue></mapping><mapping><value>11</value><newvalue>Degraded perf</newvalue></mapping><mapping><value>12</value><newvalue>Promoting</newvalue></mapping><mapping><value>13</value><newvalue>Copy target</newvalue></mapping><mapping><value>14</value><newvalue>Resync target</newvalue></mapping><mapping><value>15</value><newvalue>Tuning</newvalue></mapping><mapping><value>16</value><newvalue>Closing</newvalue></mapping><mapping><value>17</value><newvalue>Removing</newvalue></mapping><mapping><value>18</value><newvalue>Removing retry</newvalue></mapping><mapping><value>19</value><newvalue>Creating</newvalue></mapping><mapping><value>20</value><newvalue>Copy source</newvalue></mapping><mapping><value>21</value><newvalue>Importing</newvalue></mapping><mapping><value>22</value><newvalue>Converting</newvalue></mapping><mapping><value>23</value><newvalue>Invalid</newvalue></mapping><mapping><value>24</value><newvalue>Exclusive</newvalue></mapping><mapping><value>25</value><newvalue>Consistent</newvalue></mapping><mapping><value>26</value><newvalue>Standby</newvalue></mapping><mapping><value>27</value><newvalue>SD Meta inconsistent</newvalue></mapping><mapping><value>28</value><newvalue>SD needs fix</newvalue></mapping><mapping><value>29</value><newvalue>SD meta fix</newvalue></mapping><mapping><value>999</value><newvalue>Unknown state</newvalue></mapping><mapping><value>1000</value><newvalue>State not supported by WSAPI</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><graphs><graph><uuid>79e292a64d9247c486812db7a62c0eda</uuid><name>HPE Primera: Capacity</name><graph_items><graph_item><color>1A7C11</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.system.capacity.allocated</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.system.capacity.failed</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.system.capacity.free</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>HPE Primera by HTTP</host><key>hpe.primera.system.capacity.total</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
