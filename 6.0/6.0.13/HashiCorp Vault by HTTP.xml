<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:49Z</date><groups><group><uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid><name>Templates/Applications</name></group></groups><templates><template><uuid>2f82248e411340429d390e8389850401</uuid><template>HashiCorp Vault by HTTP</template><name>HashiCorp Vault by HTTP</name><description>Get HashiCorp Vault metrics from Vault API HTTP Prometheus metrics endpoint.

Some metrics may not be collected depending on your Vault instance version and configuration.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Template tooling version used: 0.41</description><groups><group><name>Templates/Applications</name></group></groups><items><item><uuid>cd948f4219164c77a17b56f1b01767d0</uuid><name>Vault: Check mountpoint discovery</name><type>DEPENDENT</type><key>vault.check_mountpoint_discovery</key><delay>0</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>{__name__=~&quot;^vault_rollback_attempt_(?:.+?)_count$&quot;}</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>var name,
    output = [];

JSON.parse(value).forEach(function (v) {
    if (name = v.name.match(/^vault_(rollback_attempt|route_rollback)_(.+?)_count$/)) {
        output.push(
            {
                '{#MOUNTPOINT}': name[2].replace(/_/g, '/'),
                '{#PATTERN_C}': 'vault_' + name[1] + '_' + name[2] + '_count',
                '{#PATTERN_Q}': 'vault_' + name[1] + '_' + name[2]
            }
        );
    }
});

return JSON.stringify(output);</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>15m</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>discovery</value></tag><tag><tag>component</tag><value>mountpoint</value></tag></tags></item><item><uuid>940cacdb967c40a1b9fba1c143c8589b</uuid><name>Vault: Check replication discovery</name><type>DEPENDENT</type><key>vault.check_replication_discovery</key><delay>0</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>{__name__=~&quot;^replication_(?:.+)$&quot;}</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(value !== &quot;[]&quot; ? [{'{#SINGLETON}': ''}] : []);</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>15m</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>discovery</value></tag><tag><tag>component</tag><value>replication</value></tag></tags></item><item><uuid>f9c8f0ec3a5640af8464f69d1cebbd42</uuid><name>Vault: Check storage discovery</name><type>DEPENDENT</type><key>vault.check_storage_discovery</key><delay>0</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>{__name__=~&quot;^vault_(?:.+)_(?:get|put|list|delete)_count$&quot;}</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>var name,
    output = [];

JSON.parse(value).forEach(function (v) {
    if (name = v.name.match(/^vault_((?!barrier).+?)_(get|put|list|delete)_count$/)) {
        output.push(
            {
                '{#STORAGE}': name[1],
                '{#OPERATION}': name[2].toUpperCase(),
                '{#PATTERN_C}': 'vault_' + name[1] + '_' + name[2] + '_count',
                '{#PATTERN_Q}': 'vault_' + name[1] + '_' + name[2]
            }
        );
    }
});

return JSON.stringify(output);</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>15m</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>discovery</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>febb5558b1944187a0ac6e87ed153267</uuid><name>Vault: Check WAL discovery</name><type>DEPENDENT</type><key>vault.check_wal_discovery</key><delay>0</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>{__name__=~&quot;^vault_wal_(?:.+)$&quot;}</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(value !== &quot;[]&quot; ? [{'{#SINGLETON}': ''}] : []);</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>15m</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>discovery</value></tag><tag><tag>component</tag><value>wal</value></tag></tags></item><item><uuid>9607f909cfed4515bed2e0ea16749e0d</uuid><name>Vault: Clear metrics</name><type>DEPENDENT</type><key>vault.clear_metrics</key><delay>0</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>CHECK_JSON_ERROR</type><parameters><parameter>$.errors</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.get_metrics</key></master_item><tags><tag><tag>component</tag><value>metrics</value></tag><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>a78063c1186540fb88d3b958b14250bf</uuid><name>Vault: Get health</name><type>HTTP_AGENT</type><key>vault.get_health</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>{&quot;healthcheck&quot;: 0}</error_handler_params></step></preprocessing><url>{$VAULT.API.SCHEME}://{$VAULT.HOST}:{$VAULT.API.PORT}/v1/sys/health</url><status_codes>200,429,472,473,503,501</status_codes><headers><header><name>X-Vault-Token</name><value>{$VAULT.TOKEN}</value></header></headers><tags><tag><tag>component</tag><value>health</value></tag><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>f92c90b99edc42d9b170d775c714fa0a</uuid><name>Vault: Get leader</name><type>HTTP_AGENT</type><key>vault.get_leader</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters></step></preprocessing><url>{$VAULT.API.SCHEME}://{$VAULT.HOST}:{$VAULT.API.PORT}/v1/sys/leader</url><headers><header><name>X-Vault-Token</name><value>{$VAULT.TOKEN}</value></header></headers><tags><tag><tag>component</tag><value>leader</value></tag><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>4ccc4256252f4345a264db340f4ddbf5</uuid><name>Vault: Get metrics</name><type>HTTP_AGENT</type><key>vault.get_metrics</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters></step></preprocessing><url>{$VAULT.API.SCHEME}://{$VAULT.HOST}:{$VAULT.API.PORT}/v1/sys/metrics?format=prometheus</url><status_codes>200,503,403</status_codes><headers><header><name>X-Vault-Token</name><value>{$VAULT.TOKEN}</value></header></headers><tags><tag><tag>component</tag><value>metrics</value></tag><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>cf264b78e4c44d49a81eac141a86d011</uuid><name>Vault: Get metrics error</name><type>DEPENDENT</type><key>vault.get_metrics.error</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Get metrics error.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.errors[0]</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_metrics</key></master_item><tags><tag><tag>component</tag><value>health</value></tag><tag><tag>component</tag><value>metrics</value></tag></tags><triggers><trigger><uuid>a43a4139d225461289d16b7a78002cb0</uuid><expression>length(last(/HashiCorp Vault by HTTP/vault.get_metrics.error))&gt;0</expression><name>Vault: Failed to get metrics</name><event_name>Vault: Failed to get metrics (error: {ITEM.VALUE})</event_name><priority>WARNING</priority><dependencies><dependency><name>Vault: Vault server is sealed</name><expression>last(/HashiCorp Vault by HTTP/vault.health.sealed)=1</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>e8cb015d45ad4e3b9f87d3cbbae3a980</uuid><name>Vault: Get tokens</name><type>SCRIPT</type><key>vault.get_tokens</key><delay>15m</delay><history>0</history><trends>0</trends><value_type>TEXT</value_type><params>var params = JSON.parse(value);

params['url'] = params.scheme + '://'
    + params.host + ':'
    + params.port + '/v1/auth/token/lookup-accessor';

var request = new HttpRequest(),
    output = [];

request.addHeader('X-Vault-Token: ' + params.token);

params.accessors.trim().split(/\x20+/).forEach(function (accessor) {
    if (!accessor) {
        return;
    }

    var response,
        data = {},
        error_msg = '';

    try {
        response = request.post(params.url, JSON.stringify({ accessor: accessor }));
        Zabbix.log(4, '[ Vault API ] Received response with status code ' + request.getStatus() + ': ' + response);

        if (response !== null) {
            try {
                response = JSON.parse(response);
            }
            catch (error) {
                throw 'Failed to parse response received from Vault API. Check debug log for more information.';
            }
        }

        if (request.getStatus() !== 200) {
            throw response.errors &amp;&amp; response.errors[0] || JSON.stringify(response);
        }

        if (typeof response !== 'object' || typeof response.data === 'undefined') {
            throw 'Cannot lookup token from Vault API. Check debug log for more information.';
        }

        data = response.data;
    }
    catch (error) {
        error_msg = error;
    }

    output.push({
        'accessor': accessor,
        'token_name': data.display_name || 'null',
        'ttl': data.ttl || 0,
        'has_ttl': !!data.expire_time,
        'error': error_msg.toString()
    });
});

return JSON.stringify(output);</params><description>Get information about tokens via their accessors. Accessors are defined in the macro &quot;{$VAULT.TOKEN.ACCESSORS}&quot;.</description><parameters><parameter><name>host</name><value>{$VAULT.HOST}</value></parameter><parameter><name>accessors</name><value>{$VAULT.TOKEN.ACCESSORS}</value></parameter><parameter><name>token</name><value>{$VAULT.TOKEN}</value></parameter><parameter><name>scheme</name><value>{$VAULT.API.SCHEME}</value></parameter><parameter><name>port</name><value>{$VAULT.API.PORT}</value></parameter></parameters><tags><tag><tag>component</tag><value>raw</value></tag><tag><tag>component</tag><value>tokens</value></tag></tags></item><item><uuid>df395f64c8fc45d2a9442bb655474b4a</uuid><name>Vault: Healthcheck</name><type>DEPENDENT</type><key>vault.health.check</key><delay>0</delay><history>7d</history><description>Vault healthcheck.</description><valuemap><name>Service state</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.healthcheck</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>1</error_handler_params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags><triggers><trigger><uuid>93b4ae5089834a87ae41091fc9773501</uuid><expression>last(/HashiCorp Vault by HTTP/vault.health.check)=0</expression><name>Vault: Vault server is not responding</name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>05c46e931d29415f9a6a32f4dadd1eed</uuid><name>Vault: Initialized</name><type>DEPENDENT</type><key>vault.health.initialized</key><delay>0</delay><history>7d</history><description>Initialization status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.initialized</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>75a3c56f1bb24646927cf9b490471cae</uuid><name>Vault: Performance standby</name><type>DEPENDENT</type><key>vault.health.performance_standby</key><delay>0</delay><history>7d</history><description>Performance standby status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.performance_standby</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>488a43102a304f7ab4d2586088a2fded</uuid><name>Vault: Disaster Recovery replication</name><type>DEPENDENT</type><key>vault.health.replication_dr_mode</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Disaster recovery replication mode
https://www.vaultproject.io/docs/enterprise/replication</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.replication_dr_mode</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>509982bde325478a9d77f99c256f1068</uuid><name>Vault: Performance replication</name><type>DEPENDENT</type><key>vault.health.replication_performance_mode</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Performance replication mode
https://www.vaultproject.io/docs/enterprise/replication</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.replication_performance_mode</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>e6d2183bb8b14fa3a647d5cea1f56d4c</uuid><name>Vault: Sealed</name><type>DEPENDENT</type><key>vault.health.sealed</key><delay>0</delay><history>7d</history><description>Seal status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.sealed</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags><triggers><trigger><uuid>3f4ebf7094914c219ac32132400f90c8</uuid><expression>last(/HashiCorp Vault by HTTP/vault.health.sealed)=1</expression><name>Vault: Vault server is sealed</name><priority>AVERAGE</priority><description>https://www.vaultproject.io/docs/concepts/seal</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>0641c979cf774d97a9bc52dbaffe8a0f</uuid><name>Vault: Standby</name><type>DEPENDENT</type><key>vault.health.standby</key><delay>0</delay><history>7d</history><description>Standby status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.standby</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>e7e79cc09faa409dbe3fa74e1db4cb5f</uuid><name>Vault: Version</name><type>DEPENDENT</type><key>vault.health.version</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Server version.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.version</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_health</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags><triggers><trigger><uuid>ee9a561165b847c2a0719a767e5c4fe9</uuid><expression>last(/HashiCorp Vault by HTTP/vault.health.version,#1)&lt;&gt;last(/HashiCorp Vault by HTTP/vault.health.version,#2) and length(last(/HashiCorp Vault by HTTP/vault.health.version))&gt;0</expression><name>Vault: Version has changed</name><event_name>Vault: Version has changed (new version: {ITEM.VALUE})</event_name><priority>INFO</priority><description>Vault version has changed. Ack to close.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>77da3cf43b0d4a449399f3de6d5e8477</uuid><name>Vault: HA enabled</name><type>DEPENDENT</type><key>vault.leader.ha_enabled</key><delay>0</delay><history>7d</history><description>HA enabled status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.ha_enabled</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_leader</key></master_item><tags><tag><tag>component</tag><value>leader</value></tag></tags></item><item><uuid>ea6a7f625c144dc6beff71d3a19004ab</uuid><name>Vault: Is leader</name><type>DEPENDENT</type><key>vault.leader.is_self</key><delay>0</delay><history>7d</history><description>Leader status.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.is_self</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_leader</key></master_item><tags><tag><tag>component</tag><value>leader</value></tag></tags></item><item><uuid>f23cbc80bf2d4064bf45cc27f6ec752e</uuid><name>Vault: Audit log request failures, rate</name><type>DEPENDENT</type><key>vault.metrics.audit.log.request.failure.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of audit log request failures.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_audit_log_request_failure</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>audit_log</value></tag></tags></item><item><uuid>33f2ce934ae5451dace5f880b3a2e6b7</uuid><name>Vault: Audit log requests, rate</name><type>DEPENDENT</type><key>vault.metrics.audit.log.request.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>rps</units><description>Number of all audit log requests across all audit log devices.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_audit_log_request_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>audit_log</value></tag></tags></item><item><uuid>6b8b37e62e374bc38994c5dcc6f0fc6d</uuid><name>Vault: Audit log response failures, rate</name><type>DEPENDENT</type><key>vault.metrics.audit.log.response.failure.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of audit log response failures.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_audit_log_response_failure</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>audit_log</value></tag></tags></item><item><uuid>c336a5cecd4641b58be6ab1ba511f6ef</uuid><name>Vault: Audit log response, rate</name><type>DEPENDENT</type><key>vault.metrics.audit.log.response.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>rps</units><description>Number of audit log responses across all audit log devices.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_audit_log_response_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>audit_log</value></tag></tags></item><item><uuid>e1d11f77e8394b22b88ddcf9a1b8159b</uuid><name>Vault: Barrier DELETE ops, rate</name><type>DEPENDENT</type><key>vault.metrics.barrier.delete.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of DELETE operations at the barrier.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_barrier_delete_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>barrier</value></tag></tags></item><item><uuid>8a854323d051485091917391c630cc28</uuid><name>Vault: Barrier LIST ops, rate</name><type>DEPENDENT</type><key>vault.metrics.barrier.list.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of LIST operations at the barrier.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_barrier_list_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>barrier</value></tag></tags></item><item><uuid>1dbf0413b1574f6e9b04abe5d06ab8aa</uuid><name>Vault: Barrier PUT ops, rate</name><type>DEPENDENT</type><key>vault.metrics.barrier.put.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of PUT operations at the barrier.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_barrier_put_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>barrier</value></tag></tags></item><item><uuid>f0069229811749e5b399f1214176ae11</uuid><name>Vault: Cache hit, rate</name><type>DEPENDENT</type><key>vault.metrics.cache.hit.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of times a value was retrieved from the LRU cache.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_cache_hit</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>cache</value></tag></tags></item><item><uuid>4df07a4ea4a048c7bc11b21b56cf96c6</uuid><name>Vault: Cache miss, rate</name><type>DEPENDENT</type><key>vault.metrics.cache.miss.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of times a value was not in the LRU cache. The results in a read from the configured storage.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_cache_miss</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>cache</value></tag></tags></item><item><uuid>d99841c57aa349ae8676072e12add35c</uuid><name>Vault: Cache write, rate</name><type>DEPENDENT</type><key>vault.metrics.cache.write.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of times a value was written to the LRU cache.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_cache_write</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>cache</value></tag></tags></item><item><uuid>004f1eebd08c46d4bbdab7a6c6e3f3ec</uuid><name>Vault: Check token, rate</name><type>DEPENDENT</type><key>vault.metrics.core.check.token.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of token checks handled by Vault core.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_check_token_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>77bf09bd2b554e5a8d0dde53045f05c7</uuid><name>Vault: Fetch ACL and token, rate</name><type>DEPENDENT</type><key>vault.metrics.core.fetch.acl_and_token</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of ACL and corresponding token entry fetches handled by Vault core.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_fetch_acl_and_token_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>4ddf18c7768147a396fe13608b5508fb</uuid><name>Vault: Requests, rate</name><type>DEPENDENT</type><key>vault.metrics.core.handle.request</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of requests handled by Vault core.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_handle_request_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>2aa54d38cc2541e3ae4df89e86d63d20</uuid><name>Vault: Leadership setup failed, counter</name><type>DEPENDENT</type><key>vault.metrics.core.leadership.setup_failed</key><delay>0</delay><history>7d</history><description>Cluster leadership setup failures which have occurred in a highly available Vault cluster.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_core_leadership_setup_failed</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_core_leadership_setup_failed&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags><triggers><trigger><uuid>c68ab0c784314291bde1cc8693fd5959</uuid><expression>(max(/HashiCorp Vault by HTTP/vault.metrics.core.leadership.setup_failed,1h)-min(/HashiCorp Vault by HTTP/vault.metrics.core.leadership.setup_failed,1h))&gt;{$VAULT.LEADERSHIP.SETUP.FAILED.MAX.WARN}</expression><name>Vault: High frequency of leadership setup failures</name><event_name>Vault: High frequency of leadership setup failures (over {$VAULT.LEADERSHIP.SETUP.FAILED.MAX.WARN} for 1h)</event_name><priority>AVERAGE</priority><description>There have been more than {$VAULT.LEADERSHIP.SETUP.FAILED.MAX.WARN} Vault leadership setup failures in the past 1h.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>f0ca68774b5842d7803d2c2619958184</uuid><name>Vault: Leadership setup lost, counter</name><type>DEPENDENT</type><key>vault.metrics.core.leadership_lost</key><delay>0</delay><history>7d</history><description>Cluster leadership losses which have occurred in a highly available Vault cluster.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_core_leadership_lost_count</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_core_leadership_lost_count&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags><triggers><trigger><uuid>8d7f4f51272a4ce5a3a7ab9642e51d63</uuid><expression>(max(/HashiCorp Vault by HTTP/vault.metrics.core.leadership_lost,1h)-min(/HashiCorp Vault by HTTP/vault.metrics.core.leadership_lost,1h))&gt;{$VAULT.LEADERSHIP.LOSSES.MAX.WARN}</expression><name>Vault: High frequency of leadership losses</name><event_name>Vault: High frequency of leadership losses (over {$VAULT.LEADERSHIP.LOSSES.MAX.WARN} for 1h)</event_name><priority>AVERAGE</priority><description>There have been more than {$VAULT.LEADERSHIP.LOSSES.MAX.WARN} Vault leadership losses in the past 1h.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>2bdb273b513d4a06914cd6ea11ac2368</uuid><name>Vault: Post-unseal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.post_unseal</key><delay>0</delay><history>7d</history><description>Duration of time taken by post-unseal operations handled by Vault core.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_post_unseal_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>81738d2323a94aa8a7f2b1d9721ac9f9</uuid><name>Vault: Pre-seal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.pre_seal</key><delay>0</delay><history>7d</history><description>Duration of time taken by pre-seal operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_pre_seal_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>42d7e5c3d5b24a65b9821e1aaf0df2a0</uuid><name>Vault: Seal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.seal</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Duration of time taken by seal operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_seal_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>95f6ab7294c547e7976a292447ef31fb</uuid><name>Vault: Internal seal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.seal_internal</key><delay>0</delay><history>7d</history><description>Duration of time taken by internal seal operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_seal_internal_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>e0ecf5aa8c2a4e0886b5a12588839efd</uuid><name>Vault: Requested seal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.seal_with_request</key><delay>0</delay><history>7d</history><description>Duration of time taken by requested seal operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_seal_with_request_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>1d66f20a1d594b4fa7c81849b83a4ef9</uuid><name>Vault: Leadership step downs, counter</name><type>DEPENDENT</type><key>vault.metrics.core.step_down</key><delay>0</delay><history>7d</history><description>Cluster leadership step down.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_core_step_down_count</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_core_step_down_count&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags><triggers><trigger><uuid>5f2895eb5a94441f858c573584ec8b19</uuid><expression>(max(/HashiCorp Vault by HTTP/vault.metrics.core.step_down,1h)-min(/HashiCorp Vault by HTTP/vault.metrics.core.step_down,1h))&gt;{$VAULT.LEADERSHIP.STEPDOWNS.MAX.WARN}</expression><name>Vault: High frequency of leadership step downs</name><event_name>Vault: High frequency of leadership step downs (over {$VAULT.LEADERSHIP.STEPDOWNS.MAX.WARN} for 1h)</event_name><priority>AVERAGE</priority><description>There have been more than {$VAULT.LEADERSHIP.STEPDOWNS.MAX.WARN} Vault leadership step downs in the past 1h.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>075c83114d1746b6b773579404e0268d</uuid><name>Vault: Unseal ops, counter</name><type>DEPENDENT</type><key>vault.metrics.core.unseal</key><delay>0</delay><history>7d</history><description>Duration of time taken by unseal operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_core_unseal_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>core</value></tag></tags></item><item><uuid>5edebc9e295844ee8716d2b17152bdd9</uuid><name>Vault: Fetch lease times, counter</name><type>DEPENDENT</type><key>vault.metrics.expire.fetch.lease.times</key><delay>0</delay><history>7d</history><description>Time taken to fetch lease times.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_fetch_lease_times_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>7f3ab929e48848e294cfa68b8e1783ad</uuid><name>Vault: Fetch lease times by token, counter</name><type>DEPENDENT</type><key>vault.metrics.expire.fetch.lease.times.by_token</key><delay>0</delay><history>7d</history><description>Time taken to fetch lease times by token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_fetch_lease_times_by_token_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>66f1855a47624f10ae69735053e326f1</uuid><name>Vault: Number of expiring leases</name><type>DEPENDENT</type><key>vault.metrics.expire.num_leases</key><delay>0</delay><history>7d</history><description>Number of all leases which are eligible for eventual expiry.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_num_leases</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>b160780f06c846809f7aca043777754f</uuid><name>Vault: Register ops, count</name><type>DEPENDENT</type><key>vault.metrics.expire.register</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken for register operations.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_register_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>89dcbfb69b8a44dcbf330d16d292ec1b</uuid><name>Vault: Register auth ops, count</name><type>DEPENDENT</type><key>vault.metrics.expire.register.auth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken for register authentication operations which create lease entries without lease ID.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_register_auth_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>2d418cd62ada44c6bd527db8da0731e1</uuid><name>Vault: Expire renew, count</name><type>DEPENDENT</type><key>vault.metrics.expire.renew</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to renew a lease.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_renew_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>091c66e0f2794a72a97ddfc3a7142b72</uuid><name>Vault: Renew token, count</name><type>DEPENDENT</type><key>vault.metrics.expire.renew_token</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to renew a token which does not need to invoke a logical backend.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_renew_token_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>21a1b8470a31484da1e3fd76d3c8094b</uuid><name>Vault: Expire revoke, count</name><type>DEPENDENT</type><key>vault.metrics.expire.revoke</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to revoke a token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_revoke_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>bc023bdad9504a86b17d2308db62e98f</uuid><name>Vault: Revoke secrets by token, count</name><type>DEPENDENT</type><key>vault.metrics.expire.revoke.by_token</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to revoke all secrets issued with a given token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_revoke_by_token_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>6bed679f33b4415d833cb5033c5f824c</uuid><name>Vault: Expire revoke force, count</name><type>DEPENDENT</type><key>vault.metrics.expire.revoke.force</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to forcibly revoke a token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_revoke_force_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>93041bd251d148c39e6e2e162f6f1078</uuid><name>Vault: Expire revoke prefix, count</name><type>DEPENDENT</type><key>vault.metrics.expire.revoke.prefix</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Tokens revoke on a prefix.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_expire_revoke_prefix_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>expire</value></tag></tags></item><item><uuid>5c3e5032315e466e81fca67ea880b33a</uuid><name>Vault: Policy DELETE ops, rate</name><type>DEPENDENT</type><key>vault.metrics.policy.delete_policy.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to delete a policy.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_policy_delete_policy_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>policy</value></tag></tags></item><item><uuid>bd790a83c48e4ea6bcc9271703036101</uuid><name>Vault: Policy GET ops, rate</name><type>DEPENDENT</type><key>vault.metrics.policy.get_policy.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to get a policy.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_policy_get_policy_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>policy</value></tag></tags></item><item><uuid>6650bc3487934dcebc2e1f4da2e1db13</uuid><name>Vault: Policy LIST ops, rate</name><type>DEPENDENT</type><key>vault.metrics.policy.list_policies.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to list policies.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_policy_list_policies_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>policy</value></tag></tags></item><item><uuid>c8010706f8274e898812b722a82e9add</uuid><name>Vault: Policy SET ops, rate</name><type>DEPENDENT</type><key>vault.metrics.policy.set_policy.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to set a policy.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_policy_set_policy_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>policy</value></tag></tags></item><item><uuid>d7602cb55879403982afeabecb4c130a</uuid><name>Vault: Process CPU seconds, total</name><type>DEPENDENT</type><key>vault.metrics.process.cpu.seconds.total</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>s</units><description>Total user and system CPU time spent in seconds.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_cpu_seconds_total</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>095af4564c5445c0be7ad38811404535</uuid><name>Vault: Open file descriptors, max</name><type>DEPENDENT</type><key>vault.metrics.process.max.fds</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Maximum number of open file descriptors.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_max_fds</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>0b2c6c947c46409b93acea8e67a0f058</uuid><name>Vault: Open file descriptors, current</name><type>DEPENDENT</type><key>vault.metrics.process.open.fds</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of open file descriptors.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_open_fds</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>ddd6b5b8206442a7b5f0026e82bc2bd2</uuid><name>Vault: Process resident memory</name><type>DEPENDENT</type><key>vault.metrics.process.resident_memory.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Resident memory size in bytes.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_resident_memory_bytes</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>241f8503d30c41df9e902cf31ddf715e</uuid><name>Vault: Uptime</name><type>DEPENDENT</type><key>vault.metrics.process.uptime</key><delay>0</delay><history>7d</history><units>s</units><description>Server uptime.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_start_time_seconds</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>return Math.floor(Date.now()/1000 - Number(value));</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags><triggers><trigger><uuid>a60eed70ecbc44fa935ec87d83fe4793</uuid><expression>last(/HashiCorp Vault by HTTP/vault.metrics.process.uptime)&lt;10m</expression><name>Vault: has been restarted</name><event_name>Vault: has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>bf3a561bc96b46fc9a818a9f43c57be5</uuid><name>Vault: Process virtual memory, current</name><type>DEPENDENT</type><key>vault.metrics.process.virtual_memory.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Virtual memory size in bytes.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_virtual_memory_bytes</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>17c568d745534c218dc292043234b215</uuid><name>Vault: Process virtual memory, max</name><type>DEPENDENT</type><key>vault.metrics.process.virtual_memory.max.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Maximum amount of virtual memory available in bytes.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>process_virtual_memory_max_bytes</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>process</value></tag></tags></item><item><uuid>58e6fbc8a6084008b08c7fc03ad4a703</uuid><name>Vault: Runtime allocated bytes</name><type>DEPENDENT</type><key>vault.metrics.runtime.alloc.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Number of bytes allocated by the Vault process. This could burst from time to time, but should return to a steady state value.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_alloc_bytes</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>3b2208b0248b4288ad91a8a5e3090b29</uuid><name>Vault: Runtime freed objects</name><type>DEPENDENT</type><key>vault.metrics.runtime.free.count</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of freed objects.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_free_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>c1a159a37d4e4130a4a19d0ded2b0b72</uuid><name>Vault: Runtime heap objects</name><type>DEPENDENT</type><key>vault.metrics.runtime.heap.objects</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of objects on the heap. This is a good general memory pressure indicator worth establishing a baseline and thresholds for alerting.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_heap_objects</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>f8f0f80be7514fe5b085f04858ac4d7a</uuid><name>Vault: Runtime malloc count</name><type>DEPENDENT</type><key>vault.metrics.runtime.malloc.count</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Cumulative count of allocated heap objects.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_malloc_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>b728e92f88db47308272eff7e3bb8c08</uuid><name>Vault: Runtime num goroutines</name><type>DEPENDENT</type><key>vault.metrics.runtime.num_goroutines</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of goroutines. This serves as a general system load indicator worth establishing a baseline and thresholds for alerting.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_num_goroutines</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>9af322bade374b45b78d949e632747a8</uuid><name>Vault: Runtime sys bytes</name><type>DEPENDENT</type><key>vault.metrics.runtime.sys.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>B</units><description>Number of bytes allocated to Vault. This includes what is being used by Vault's heap and what has been reclaimed but not given back to the operating system.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_sys_bytes</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>38f50f3173c346cebe6e321347e0270f</uuid><name>Vault: Runtime GC runs, total</name><type>DEPENDENT</type><key>vault.metrics.runtime.total.gc.runs</key><delay>0</delay><history>7d</history><description>Total number of garbage collection runs since Vault was last started.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_total_gc_runs</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>20f0708b63784c4190e8e6256f2d57f3</uuid><name>Vault: Secret kv entries</name><type>DEPENDENT</type><key>vault.metrics.secret.kv.count</key><delay>0</delay><history>7d</history><description>Number of entries in each key-value secret engine.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_secret_kv_count</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_secret_kv_count&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>secret</value></tag></tags></item><item><uuid>568b4b77ae58468da7bb407d349bd330</uuid><name>Vault: Token secret lease creation, rate</name><type>DEPENDENT</type><key>vault.metrics.secret.lease.creation.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Counts the number of leases created by secret engines.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_secret_lease_creation</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_secret_lease_creation&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>secret</value></tag></tags></item><item><uuid>37576dbac47349fca97fe27c4906124d</uuid><name>Vault: Token count, total</name><type>DEPENDENT</type><key>vault.metrics.token</key><delay>0</delay><history>7d</history><description>Total number of service tokens available for use; counts all un-expired and un-revoked tokens in Vault's token store. This measurement is performed every 10 minutes.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_token_count</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_token_count&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>4c7ae38abae146fdbaf334501b3644f1</uuid><name>Vault: Token count by auth, total</name><type>DEPENDENT</type><key>vault.metrics.token.by_auth</key><delay>0</delay><history>7d</history><description>Total number of service tokens that were created by a auth method.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_token_count_by_auth</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_token_count_by_auth&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>2f9011a7dd6f4b078402dbb50256ee0a</uuid><name>Vault: Token count by policy, total</name><type>DEPENDENT</type><key>vault.metrics.token.by_policy</key><delay>0</delay><history>7d</history><description>Total number of service tokens that have a policy attached.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_token_count_by_policy</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_token_count_by_policy&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>c5b512233ae745c390d85e604bf7449e</uuid><name>Vault: Token count by ttl, total</name><type>DEPENDENT</type><key>vault.metrics.token.by_ttl</key><delay>0</delay><history>7d</history><description>Number of service tokens, grouped by the TTL range they were assigned at creation.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_token_count_by_ttl</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_token_count_by_ttl&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>1a203f57eb0647ca98a848913bb5b707</uuid><name>Vault: Token create, count</name><type>DEPENDENT</type><key>vault.metrics.token.create</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The time taken to create a token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_create_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>0033d69a310041e58107e06a296492bd</uuid><name>Vault: Token createAccessor, count</name><type>DEPENDENT</type><key>vault.metrics.token.createAccessor</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The time taken to create a token accessor.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_createAccessor_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>3c73e0cdfe4147abb86ce939189e4cec</uuid><name>Vault: Token creation, rate</name><type>DEPENDENT</type><key>vault.metrics.token.creation.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of service or batch tokens created.</description><preprocessing><step><type>PROMETHEUS_TO_JSON</type><parameters><parameter>vault_token_creation</parameter></parameters></step><step><type>JSONPATH</type><parameters><parameter>$[?(@.name==&quot;vault_token_creation&quot;)].value.sum()</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>ad0c38837e774d9b8164bad51ae9fd4c</uuid><name>Vault: Token lookup, rate</name><type>DEPENDENT</type><key>vault.metrics.token.lookup.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of token look up.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_lookup_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>0d30ca2565b24659839e7e31fc8f6739</uuid><name>Vault: Token revoke, count</name><type>DEPENDENT</type><key>vault.metrics.token.revoke</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The time taken to look up a token.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_revoke_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>c851263be6d94ab39b548a57bbad4eab</uuid><name>Vault: Token revoke tree, count</name><type>DEPENDENT</type><key>vault.metrics.token.revoke.tree</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to revoke a token tree.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_revoke_tree_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>830ff368911c4532b10ff1e8c6c9e59b</uuid><name>Vault: Token store, count</name><type>DEPENDENT</type><key>vault.metrics.token.store</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to store an updated token entry without writing to the secondary index.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_token_store_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>token</value></tag></tags></item><item><uuid>2f0e733e6b1c406b88d012e727ab0169</uuid><name>Vault: Runtime GC pause, total</name><type>DEPENDENT</type><key>vault.metrics.total.gc.pause</key><delay>0</delay><history>7d</history><units>s</units><description>The total garbage collector pause time since Vault was last started.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_runtime_total_gc_pause_ns</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>MULTIPLIER</type><parameters><parameter>1.0E-9</parameter></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>runtime</value></tag></tags></item><item><uuid>f616fbcd3d20456bb34cde735cf7fad5</uuid><name>Vault: Barrier GET ops, rate</name><type>DEPENDENT</type><key>vault.metrics.vault.barrier.get.rate</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of GET operations at the barrier.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_barrier_get_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>barrier</value></tag></tags></item></items><discovery_rules><discovery_rule><uuid>ca7bbea60da54770b164ee11d9cd325f</uuid><name>Mountpoint metrics discovery</name><type>DEPENDENT</type><key>vault.mountpoint.discovery</key><delay>0</delay><description>Mountpoint metrics discovery.</description><item_prototypes><item_prototype><uuid>3956d1e526d944c7b68d09a1cf52f11e</uuid><name>Vault: Rollback attempt [{#MOUNTPOINT}] ops, rate</name><type>DEPENDENT</type><key>vault.metrics.rollback.attempt.rate[{#MOUNTPOINT}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to perform a rollback operation on the given mount point.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>{#PATTERN_C}</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>mountpoint</value></tag><tag><tag>mountpoint</tag><value>{#MOUNTPOINT}</value></tag></tags></item_prototype><item_prototype><uuid>e0a4232e6a20433ba26e4313ff9ec1bc</uuid><name>Vault: Route rollback [{#MOUNTPOINT}] ops, rate</name><type>DEPENDENT</type><key>vault.metrics.route.rollback.rate[{#MOUNTPOINT}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of operations to dispatch a rollback operation to a backend, and for that backend to process it. Rollback operations are automatically scheduled to clean up partial errors.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>{#PATTERN_C}</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>mountpoint</value></tag><tag><tag>mountpoint</tag><value>{#MOUNTPOINT}</value></tag></tags></item_prototype></item_prototypes><master_item><key>vault.check_mountpoint_discovery</key></master_item></discovery_rule><discovery_rule><uuid>f2015f2394a64e7e923a2030400bcd69</uuid><name>Replication metrics discovery</name><type>DEPENDENT</type><key>vault.replication.discovery</key><delay>0</delay><description>Discovery for replication metrics.</description><item_prototypes><item_prototype><uuid>af047eca9606472680288e5b5703bca9</uuid><name>Vault: Stream WAL guard found, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.logshipper.streamWALs.guard_found[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of incidences where the starting Merkle Tree index used to begin streaming WAL entries is matched/found.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>logshipper_streamWALs_guard_found</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>df61d6db369540fd9934648189e9175a</uuid><name>Vault: Stream WAL missing guard, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.logshipper.streamWALs.missing_guard[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of incidences where the starting Merkle Tree index used to begin streaming WAL entries is not matched/found.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>logshipper_streamWALs_missing_guard</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>288ffb2cd8bc45f39a7e6d98a2100022</uuid><name>Vault: Last remote WAL{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.replication.fsm.last_remote_wal[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The index of the last remote WAL.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>replication_fsm_last_remote_wal</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>ca9c56e53093436f99a6a80f499aac45</uuid><name>Vault: Merkle commit index{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.replication.merkle.commit_index[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The last committed index in the Merkle Tree.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>replication_merkle_commit_index</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>854a4541b78c4df6b9d4971d71c7df49</uuid><name>Vault: Last DR WAL{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.replication.wal.last_dr_wal[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The index of the last DR WAL.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>replication_wal_last_dr_wal</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>5aed3273a8c24236817f8bd3b5860f87</uuid><name>Vault: Last performance WAL{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.replication.wal.last_performance_wal[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The index of the last Performance WAL.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>replication_wal_last_performance_wal</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype><item_prototype><uuid>f5bcef9569f44212b813cc0ec821b1ea</uuid><name>Vault: Last WAL{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.replication.wal.last_wal[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The index of the last WAL.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>replication_wal_last_wal</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>replication</value></tag></tags></item_prototype></item_prototypes><master_item><key>vault.check_replication_discovery</key></master_item></discovery_rule><discovery_rule><uuid>ef703fedc3b347e9bb878d159d6756d8</uuid><name>Storage metrics discovery</name><type>DEPENDENT</type><key>vault.storage.discovery</key><delay>0</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#STORAGE}</macro><value>{$VAULT.LLD.FILTER.STORAGE.MATCHES}</value><formulaid>A</formulaid></condition></conditions></filter><description>Storage backend metrics discovery.</description><item_prototypes><item_prototype><uuid>0cdb0bcf0ff448ff8c5d673f9b66d17a</uuid><name>Vault: Storage [{#STORAGE}] {#OPERATION} ops, rate</name><type>DEPENDENT</type><key>vault.metrics.storage.rate[{#STORAGE}, {#OPERATION}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of a {#OPERATION} operation against the {#STORAGE} storage backend.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>{#PATTERN_C}</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>operation</tag><value>{#OPERATION}</value></tag><tag><tag>storage</tag><value>{#STORAGE}</value></tag></tags></item_prototype></item_prototypes><master_item><key>vault.check_storage_discovery</key></master_item></discovery_rule><discovery_rule><uuid>d580dee4c0bc4a0db91c9c5af70965af</uuid><name>Token metrics discovery</name><type>DEPENDENT</type><key>vault.tokens.discovery</key><delay>0</delay><description>Tokens metrics discovery.</description><item_prototypes><item_prototype><uuid>9a9359e74c3a48b1bbada84d772e665a</uuid><name>Vault: Token [{#TOKEN_NAME}] error</name><type>DEPENDENT</type><key>vault.token_via_accessor.error[&quot;{#ACCESSOR}&quot;]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Token lookup error text.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.accessor == &quot;{#ACCESSOR}&quot;)].error.first()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_tokens</key></master_item><tags><tag><tag>component</tag><value>token</value></tag><tag><tag>token</tag><value>{#TOKEN_NAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>8cd5d903d4e74974a8469554b737ee3d</uuid><expression>length(last(/HashiCorp Vault by HTTP/vault.token_via_accessor.error[&quot;{#ACCESSOR}&quot;]))&gt;0</expression><name>Vault: Token [{#TOKEN_NAME}] lookup error occurred</name><priority>WARNING</priority><dependencies><dependency><name>Vault: Vault server is sealed</name><expression>last(/HashiCorp Vault by HTTP/vault.health.sealed)=1</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>caa3f9ca96b14b929dd75238602fead9</uuid><name>Vault: Token [{#TOKEN_NAME}] has TTL</name><type>DEPENDENT</type><key>vault.token_via_accessor.has_ttl[&quot;{#ACCESSOR}&quot;]</key><delay>0</delay><history>7d</history><description>The Token has TTL.</description><valuemap><name>Vault flag</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.accessor == &quot;{#ACCESSOR}&quot;)].has_ttl.first()</parameter></parameters></step><step><type>BOOL_TO_DECIMAL</type><parameters><parameter/></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>vault.get_tokens</key></master_item><tags><tag><tag>component</tag><value>token</value></tag><tag><tag>token</tag><value>{#TOKEN_NAME}</value></tag></tags></item_prototype><item_prototype><uuid>0f872d9d811c44f6a9a9f8f5089ca0a1</uuid><name>Vault: Token [{#TOKEN_NAME}] TTL</name><type>DEPENDENT</type><key>vault.token_via_accessor.ttl[&quot;{#ACCESSOR}&quot;]</key><delay>0</delay><history>7d</history><units>s</units><description>The TTL period of the token.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.accessor == &quot;{#ACCESSOR}&quot;)].ttl.first()</parameter></parameters></step></preprocessing><master_item><key>vault.get_tokens</key></master_item><tags><tag><tag>component</tag><value>token</value></tag><tag><tag>token</tag><value>{#TOKEN_NAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>f4f0db7e26d9470a86d11e86d1ae26e2</uuid><expression>last(/HashiCorp Vault by HTTP/vault.token_via_accessor.has_ttl[&quot;{#ACCESSOR}&quot;])=1 and last(/HashiCorp Vault by HTTP/vault.token_via_accessor.ttl[&quot;{#ACCESSOR}&quot;])&lt;{$VAULT.TOKEN.TTL.MIN.CRIT}</expression><name>Vault: Token [{#TOKEN_NAME}] will expire soon</name><event_name>Vault: Token [{#TOKEN_NAME}] will expire soon (less than {$VAULT.TOKEN.TTL.MIN.CRIT})</event_name><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>security</value></tag></tags></trigger_prototype><trigger_prototype><uuid>0e2143a2a46d44778db34ac9af69bbfc</uuid><expression>last(/HashiCorp Vault by HTTP/vault.token_via_accessor.has_ttl[&quot;{#ACCESSOR}&quot;])=1 and last(/HashiCorp Vault by HTTP/vault.token_via_accessor.ttl[&quot;{#ACCESSOR}&quot;])&lt;{$VAULT.TOKEN.TTL.MIN.WARN}</expression><name>Vault: Token [{#TOKEN_NAME}] will expire soon</name><event_name>Vault: Token [{#TOKEN_NAME}] will expire soon (less than {$VAULT.TOKEN.TTL.MIN.WARN})</event_name><priority>WARNING</priority><dependencies><dependency><name>Vault: Token [{#TOKEN_NAME}] will expire soon</name><expression>last(/HashiCorp Vault by HTTP/vault.token_via_accessor.has_ttl[&quot;{#ACCESSOR}&quot;])=1 and last(/HashiCorp Vault by HTTP/vault.token_via_accessor.ttl[&quot;{#ACCESSOR}&quot;])&lt;{$VAULT.TOKEN.TTL.MIN.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>security</value></tag></tags></trigger_prototype></trigger_prototypes><master_item><key>vault.get_tokens</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#ACCESSOR}</lld_macro><path>$.accessor</path></lld_macro_path><lld_macro_path><lld_macro>{#TOKEN_NAME}</lld_macro><path>$.token_name</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><uuid>ce7b2bb4c09c42d5a4b9e92c1c3dee23</uuid><name>WAL metrics discovery</name><type>DEPENDENT</type><key>vault.wal.discovery</key><delay>0</delay><description>Discovery for WAL metrics.</description><item_prototypes><item_prototype><uuid>7e21309d1778466cae08e6424108d0e9</uuid><name>Vault: Delete WALs, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.deletewals[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to delete a Write Ahead Log (WAL).</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_deletewals_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype><item_prototype><uuid>80d5a79d35bc4b3a970f311b0c8c3fbf</uuid><name>Vault: Flush ready WAL, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.flushready[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to flush a ready Write Ahead Log (WAL) to storage.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_flushready_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype><item_prototype><uuid>daee033751164b6591d326d2d59b7e3a</uuid><name>Vault: GC deleted WAL{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.gc.deleted[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Number of Write Ahead Logs (WAL) deleted during each garbage collection run.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_gc_deleted</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype><item_prototype><uuid>b45b43ac739246719e517d04eb384787</uuid><name>Vault: WALs on disk, total{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.gc.total[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Total Number of Write Ahead Logs (WAL) on disk.</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_gc_total</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype><item_prototype><uuid>b1e306d6136a4b6d933bd2154b3d5d6e</uuid><name>Vault: Load WALs, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.loadWAL[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to load a Write Ahead Log (WAL).</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_loadWAL_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype><item_prototype><uuid>de8fea26aa1546d2bdf1ec7dd5205a3b</uuid><name>Vault: Persist WALs, count{#SINGLETON}</name><type>DEPENDENT</type><key>vault.metrics.wal.persistwals[{#SINGLETON}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Time taken to persist a Write Ahead Log (WAL).</description><preprocessing><step><type>PROMETHEUS_PATTERN</type><parameters><parameter>vault_wal_persistwals_count</parameter><parameter>value</parameter><parameter/></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>vault.clear_metrics</key></master_item><tags><tag><tag>component</tag><value>wal</value></tag></tags></item_prototype></item_prototypes><master_item><key>vault.check_wal_discovery</key></master_item></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>software</value></tag><tag><tag>target</tag><value>vault</value></tag></tags><macros><macro><macro>{$VAULT.API.PORT}</macro><value>8200</value><description>Vault port.</description></macro><macro><macro>{$VAULT.API.SCHEME}</macro><value>http</value><description>Vault API scheme.</description></macro><macro><macro>{$VAULT.HOST}</macro><value>&lt;PUT YOUR VAULT HOST&gt;</value><description>Vault host name.</description></macro><macro><macro>{$VAULT.LEADERSHIP.LOSSES.MAX.WARN}</macro><value>5</value><description>Maximum number of Vault leadership losses.</description></macro><macro><macro>{$VAULT.LEADERSHIP.SETUP.FAILED.MAX.WARN}</macro><value>5</value><description>Maximum number of Vault leadership setup failed.</description></macro><macro><macro>{$VAULT.LEADERSHIP.STEPDOWNS.MAX.WARN}</macro><value>5</value><description>Maximum number of Vault leadership step downs.</description></macro><macro><macro>{$VAULT.LLD.FILTER.STORAGE.MATCHES}</macro><value>.+</value><description>Filter of discoverable storage backends.</description></macro><macro><macro>{$VAULT.OPEN.FDS.MAX.WARN}</macro><value>90</value><description>Maximum percentage of used file descriptors for trigger expression.</description></macro><macro><macro>{$VAULT.TOKEN}</macro><value>&lt;PUT YOUR AUTH TOKEN&gt;</value><description>Vault auth token.</description></macro><macro><macro>{$VAULT.TOKEN.ACCESSORS}</macro><description>Vault accessors separated by spaces for monitoring token expiration time.</description></macro><macro><macro>{$VAULT.TOKEN.TTL.MIN.CRIT}</macro><value>3d</value><description>Token TTL critical threshold.</description></macro><macro><macro>{$VAULT.TOKEN.TTL.MIN.WARN}</macro><value>7d</value><description>Token TTL warning threshold.</description></macro></macros><valuemaps><valuemap><uuid>547a6b8002d44a8f8f363023c6097b1e</uuid><name>Service state</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap><valuemap><uuid>46edbd58c7384b53bb31775244c23343</uuid><name>Vault flag</name><mappings><mapping><value>0</value><newvalue>False</newvalue></mapping><mapping><value>1</value><newvalue>True</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>ebe6f65e82ed4f00bd7c5be30841a25c</uuid><expression>min(/HashiCorp Vault by HTTP/vault.metrics.process.open.fds,5m)/last(/HashiCorp Vault by HTTP/vault.metrics.process.max.fds)*100&gt;{$VAULT.OPEN.FDS.MAX.WARN}</expression><name>Vault: Current number of open files is too high</name><event_name>Vault: Current number of open files is too high (over {$VAULT.OPEN.FDS.MAX.WARN}% for 5m)</event_name><priority>WARNING</priority><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger></triggers><graphs><graph><uuid>b4fc517d099340558fe813c6fb8c6be2</uuid><name>Vault: Cache rate</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.cache.hit.rate</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>2774A4</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.cache.miss.rate</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>BOLD_LINE</drawtype><color>F63100</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.cache.write.rate</key></item></graph_item></graph_items></graph><graph><uuid>81fa6888cef7496eb46a15f11e8a238c</uuid><name>Vault: Expiring leases</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.expire.num_leases</key></item></graph_item></graph_items></graph><graph><uuid>a96e30071bef4da6839e405ae5b183c5</uuid><name>Vault: K/V secret engine entries</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.secret.kv.count</key></item></graph_item></graph_items></graph><graph><uuid>e7e470ee9e914d4d9fc81b598889f873</uuid><name>Vault: Requests rate</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>34bdeb</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.core.handle.request</key></item></graph_item></graph_items></graph><graph><uuid>2e4eda3a71b74e14a0c4843a96a53dbc</uuid><name>Vault: Runtime memory</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.runtime.alloc.bytes</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.process.resident_memory.bytes</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>BOLD_LINE</drawtype><color>F63100</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.process.virtual_memory.bytes</key></item></graph_item></graph_items></graph><graph><uuid>db2043aa454a440995a178e342d3eca5</uuid><name>Vault: Token checks</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.core.check.token.rate</key></item></graph_item></graph_items></graph><graph><uuid>39770778f73c49b0a333d313b76f4020</uuid><name>Vault: Token lookup</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.token.lookup.rate</key></item></graph_item></graph_items></graph><graph><uuid>6b23dff0bd364416b520cca9dab56b47</uuid><name>Vault: Tokens count</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>HashiCorp Vault by HTTP</host><key>vault.metrics.token</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
