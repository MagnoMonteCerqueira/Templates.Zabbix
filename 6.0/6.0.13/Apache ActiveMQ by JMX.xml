<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:48Z</date><groups><group><uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid><name>Templates/Applications</name></group></groups><templates><template><uuid>c87e0a2e0683483ab7c6f3c380e9f840</uuid><template>Apache ActiveMQ by JMX</template><name>Apache ActiveMQ by JMX</name><description>The template to monitor Apache ActiveMQ by Zabbix that work without any external scripts.
The metrics are collected by JMX.
You can set macro values and add macros with context for specific brokers or destinations following macro description.


You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/411049-discussion-thread-for-official-zabbix-template-amq

Template tooling version used: 0.41</description><groups><group><name>Templates/Applications</name></group></groups><discovery_rules><discovery_rule><uuid>cbd9f98c2c1e412081a546e18066a868</uuid><name>Brokers discovery</name><type>JMX</type><key>jmx.discovery[beans,&quot;org.apache.activemq:type=Broker,brokerName=*&quot;]</key><delay>1h</delay><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><filter><evaltype>FORMULA</evaltype><formula>A and B</formula><conditions><condition><macro>{#JMXBROKERNAME}</macro><value>{$ACTIVEMQ.LLD.FILTER.BROKER.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#JMXBROKERNAME}</macro><value>{$ACTIVEMQ.LLD.FILTER.BROKER.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of brokers</description><item_prototypes><item_prototype><uuid>29a0f197bfe847d596dad4923364490e</uuid><name>Broker {#JMXBROKERNAME}: Version</name><type>JMX</type><key>jmx[{#JMXOBJ},BrokerVersion]</key><history>7d</history><trends>0</trends><value_type>TEXT</value_type><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>The version of the broker.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>3h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>inventory</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>7902d81681874aa3acf33d90316f9864</uuid><expression>last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},BrokerVersion],#1)&lt;&gt;last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},BrokerVersion],#2) and length(last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},BrokerVersion]))&gt;0</expression><name>Broker {#JMXBROKERNAME}: Version has been changed</name><event_name>Broker {#JMXBROKERNAME}: Version has changed (new version: {ITEM.VALUE})</event_name><priority>INFO</priority><description>Broker {#JMXBROKERNAME} version has changed. Ack to close.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>85c19ccb8b6a4242a8ba699e76836427</uuid><name>Broker {#JMXBROKERNAME}: Memory limit</name><type>JMX</type><key>jmx[{#JMXOBJ},MemoryLimit]</key><history>7d</history><units>B</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Memory limit, in bytes, used for holding undelivered messages before paging to temporary storage.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>memory</value></tag></tags></item_prototype><item_prototype><uuid>5e2a5638adf6405087014bfcfc8ffc93</uuid><name>Broker {#JMXBROKERNAME}: Memory usage in percents</name><type>JMX</type><key>jmx[{#JMXOBJ}, MemoryPercentUsage]</key><history>7d</history><units>%</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Percent of memory limit used.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>memory</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>e805b8cca9744940affc3bdd234a7587</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ}, MemoryPercentUsage],{$ACTIVEMQ.MEM.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.MEM.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Memory usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Memory usage is too high (over {$ACTIVEMQ.MEM.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>3e741e339fff422fae67b5333faa1e20</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ}, MemoryPercentUsage],{$ACTIVEMQ.MEM.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.MEM.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Memory usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Memory usage is too high (over {$ACTIVEMQ.MEM.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>AVERAGE</priority><dependencies><dependency><name>Broker {#JMXBROKERNAME}: Memory usage is too high</name><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ}, MemoryPercentUsage],{$ACTIVEMQ.MEM.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.MEM.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>78806476b5cb4ce48f8ca8dbd173c7c3</uuid><name>Broker {#JMXBROKERNAME}: Storage limit</name><type>JMX</type><key>jmx[{#JMXOBJ},StoreLimit]</key><history>7d</history><units>B</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Disk limit, in bytes, used for persistent messages before producers are blocked.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>storage</value></tag></tags></item_prototype><item_prototype><uuid>fc4c79543a6f4b7b9c22f11b61b644c9</uuid><name>Broker {#JMXBROKERNAME}: Storage usage in percents</name><type>JMX</type><key>jmx[{#JMXOBJ},StorePercentUsage]</key><history>7d</history><units>%</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Percent of store limit used.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>storage</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>2e1c9f92c87f446ebab68ac638c713c5</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},StorePercentUsage],{$ACTIVEMQ.STORE.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.STORE.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Storage usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Storage usage is too high (over {$ACTIVEMQ.STORE.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>271b33edce84439a91d6a253f45e5bf6</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},StorePercentUsage],{$ACTIVEMQ.STORE.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.STORE.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Storage usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Storage usage is too high (over {$ACTIVEMQ.STORE.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>AVERAGE</priority><dependencies><dependency><name>Broker {#JMXBROKERNAME}: Storage usage is too high</name><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},StorePercentUsage],{$ACTIVEMQ.STORE.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.STORE.MAX.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>09db80ee80ea47189142130d35a8e1c2</uuid><name>Broker {#JMXBROKERNAME}: Temp limit</name><type>JMX</type><key>jmx[{#JMXOBJ},TempLimit]</key><history>7d</history><units>B</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Disk limit, in bytes, used for non-persistent messages and temporary data before producers are blocked.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>storage</value></tag></tags></item_prototype><item_prototype><uuid>95354144839e4d22a82c4e9a1fab83d9</uuid><name>Broker {#JMXBROKERNAME}: Temp usage in percents</name><type>JMX</type><key>jmx[{#JMXOBJ},TempPercentUsage]</key><history>7d</history><units>%</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Percent of temp limit used.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>storage</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>422252a81e3e4261bbd7f331f48c6257</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TempPercentUsage],{$ACTIVEMQ.TEMP.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.TEMP.MAX.HIGH}</expression><name>Broker {#JMXBROKERNAME}: Temp usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Temp usage is too high (over {$ACTIVEMQ.TEMP.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>acb8f6e0762f48c2bd4c03f2a55b2f44</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TempPercentUsage],{$ACTIVEMQ.TEMP.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.TEMP.MAX.WARN}</expression><name>Broker {#JMXBROKERNAME}: Temp usage is too high</name><event_name>Broker {#JMXBROKERNAME}: Temp usage is too high (over {$ACTIVEMQ.TEMP.MAX.WARN:&quot;{#JMXBROKERNAME}&quot;}%)</event_name><priority>AVERAGE</priority><dependencies><dependency><name>Broker {#JMXBROKERNAME}: Temp usage is too high</name><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TempPercentUsage],{$ACTIVEMQ.TEMP.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;{$ACTIVEMQ.TEMP.MAX.HIGH}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>64ab04e456804e10a6c78c3190807506</uuid><name>Broker {#JMXBROKERNAME}: Consumers count total</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalConsumerCount]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of consumers attached to this broker.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>broker</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>6906f0a1ef804da4a1203ca9d96ab8a0</uuid><expression>max(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TotalConsumerCount],{$ACTIVEMQ.BROKER.CONSUMERS.MIN.TIME:&quot;{#JMXBROKERNAME}&quot;})&lt;{$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Consumers count is too low</name><event_name>Broker {#JMXBROKERNAME}: Consumers count is too low (below {$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;} for {$ACTIVEMQ.BROKER.CONSUMERS.MIN.TIME:&quot;{#JMXBROKERNAME}&quot;})</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>48bc7dab4a1a40d8a823e880018cf8e7</uuid><name>Broker {#JMXBROKERNAME}: Messages dequeue rate</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalDequeueCount]</key><history>7d</history><units>messages/sec</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Rate of messages that have been delivered by the broker and acknowledged by consumers.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>broker</value></tag></tags></item_prototype><item_prototype><uuid>a462499eecbd443e931a9aa831240f65</uuid><name>Broker {#JMXBROKERNAME}: Messages enqueue rate</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalEnqueueCount]</key><history>7d</history><units>messages/sec</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Rate of messages that have been sent to the broker.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>broker</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>a3ab7bca031c45059418fa82a3c67369</uuid><expression>avg(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TotalEnqueueCount],{$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXBROKERNAME}&quot;})&gt;avg(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TotalEnqueueCount],{$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXBROKERNAME}&quot;})</expression><name>Broker {#JMXBROKERNAME}: Message enqueue rate is higher than dequeue rate</name><event_name>Broker {#JMXBROKERNAME}: Message enqueue rate is higher than dequeue rate for {$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXBROKERNAME}&quot;}</event_name><priority>AVERAGE</priority><description>Enqueue rate is higher than dequeue rate. It may indicate performance problems.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>2453d8221cec4e1ead6622c001ac9a8c</uuid><name>Broker {#JMXBROKERNAME}: Producers count total</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalProducerCount]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of producers attached to this broker.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>broker</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>2ee6ad72a98143b59d8d1136fffdbe50</uuid><expression>max(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},TotalProducerCount],{$ACTIVEMQ.BROKER.PRODUCERS.MIN.TIME:&quot;{#JMXBROKERNAME}&quot;})&lt;{$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><name>Broker {#JMXBROKERNAME}: Producers count is too low</name><event_name>Broker {#JMXBROKERNAME}: Producers count is too low (below {$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;} for {$ACTIVEMQ.BROKER.PRODUCERS.MIN.TIME:&quot;{#JMXBROKERNAME}&quot;})</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>a46d7281cb234ccaadacbb7d311cbd39</uuid><name>Broker {#JMXBROKERNAME}: Uptime</name><type>JMX</type><key>jmx[{#JMXOBJ},UptimeMillis]</key><history>7d</history><units>s</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>The uptime of the broker.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>system</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>6abb3813bb52465aa4a5f4bebfe999c3</uuid><expression>last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},UptimeMillis])&lt;10m</expression><name>Broker {#JMXBROKERNAME}: Broker has been restarted</name><event_name>Broker {#JMXBROKERNAME}: Broker has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>465b9319e0dc4728a2733c69521e9e81</uuid><name>Broker {#JMXBROKERNAME}: Messages rate</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},TotalEnqueueCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},TotalDequeueCount]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>9cdb5b2bed724f45a305a8434d28c105</uuid><name>Broker {#JMXBROKERNAME}: Producers and consumers</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},TotalProducerCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},TotalConsumerCount]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>6b018bbe9d154d2d865b7922eaa7ae28</uuid><name>Broker {#JMXBROKERNAME}: Resources usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ}, MemoryPercentUsage]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},StorePercentUsage]</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},TempPercentUsage]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></discovery_rule><discovery_rule><uuid>14432547793d42d2b75c7b08fcbb3545</uuid><name>Destinations discovery</name><type>JMX</type><key>jmx.discovery[beans,&quot;org.apache.activemq:type=Broker,brokerName=*,destinationType=*,destinationName=*&quot;]</key><delay>1h</delay><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><filter><evaltype>FORMULA</evaltype><formula>A and B</formula><conditions><condition><macro>{#JMXDESTINATIONNAME}</macro><value>{$ACTIVEMQ.LLD.FILTER.DESTINATION.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#JMXDESTINATIONNAME}</macro><value>{$ACTIVEMQ.LLD.FILTER.DESTINATION.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of destinations</description><item_prototypes><item_prototype><uuid>fd8129c9a66043d896a70c91c8b0d471</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Consumers count total on {#JMXBROKERNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={#JMXBROKERNAME}&quot;,{$ACTIVEMQ.TOTAL.CONSUMERS.COUNT: &quot;{#JMXDESTINATIONNAME}&quot;}]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of consumers attached to the broker of this destination. Used to suppress destination's triggers when the count of consumers on the broker is lower than threshold.</description><preprocessing><step><type>IN_RANGE</type><parameters><parameter>0</parameter><parameter>{$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH}</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>{$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH}</error_handler_params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>3h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>99f2094b02f848e785e40296958c5450</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Producers count total on {#JMXBROKERNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={#JMXBROKERNAME}&quot;,{$ACTIVEMQ.TOTAL.PRODUCERS.COUNT: &quot;{#JMXDESTINATIONNAME}&quot;}]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of producers attached to the broker of this destination. Used to suppress destination's triggers when the count of producers on the broker is lower than threshold.</description><preprocessing><step><type>IN_RANGE</type><parameters><parameter>0</parameter><parameter>{$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH}</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>{$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH}</error_handler_params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>3h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>5e93e53a0c2d49a49d421ded87b6b1f8</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Consumers count</name><type>JMX</type><key>jmx[{#JMXOBJ},ConsumerCount]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of consumers attached to this destination.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>3536ec77069a434e854415f0a3270e67</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Messages dequeue rate</name><type>JMX</type><key>jmx[{#JMXOBJ},DequeueCount]</key><history>7d</history><units>messages/sec</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Rate of messages that has been acknowledged (and removed) from the destination.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>a6dacc8c4d1f4724bf49c63449992035</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Messages enqueue rate</name><type>JMX</type><key>jmx[{#JMXOBJ},EnqueueCount]</key><history>7d</history><units>messages/sec</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Rate of messages that have been sent to the destination.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>1c4ea913a9564d74b31ef82314203a15</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Expired messages count</name><type>JMX</type><key>jmx[{#JMXOBJ},ExpiredCount]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of messages that have been expired.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>3h</parameter></parameters></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>a498405c5b764c1ea9f0e151adf94ed7</uuid><expression>last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},ExpiredCount])&gt;{$ACTIVEMQ.EXPIRED.WARN:&quot;{#JMXDESTINATIONNAME}&quot;}</expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Expired messages count is high</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Expired messages count higher than {$ACTIVEMQ.EXPIRED.WARN:&quot;{#JMXDESTINATIONNAME}&quot;}</event_name><priority>AVERAGE</priority><description>This metric represents the number of messages that expired before they could be delivered. If you expect all messages to be delivered and acknowledged within a certain amount of time, you can set an expiration for each message, and investigate if your ExpiredCount metric rises above zero.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>158fac5a1b3c4f07a4004a733f9b6995</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage in percents</name><type>JMX</type><key>jmx[{#JMXOBJ},MemoryPercentUsage]</key><history>7d</history><units>%</units><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>The percentage of the memory limit used.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>memory</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>197ab32730a84f79ba1b1e827a10e175</uuid><expression>last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},MemoryPercentUsage])&gt;{$ACTIVEMQ.MEM.MAX.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;}</expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage is too high</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage is too high (over {$ACTIVEMQ.MEM.MAX.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;}%)</event_name><priority>HIGH</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>1e4e3a969b434c6d972251f8c9b3f2a7</uuid><expression>last(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},MemoryPercentUsage])&gt;{$ACTIVEMQ.MEM.MAX.WARN:&quot;{#JMXDESTINATIONNAME}&quot;}</expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage is too high</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage is too high (over {$ACTIVEMQ.MEM.MAX.WARN:&quot;{#JMXDESTINATIONNAME}&quot;}%)</event_name><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>82ee74872f6e46efbf16ae0705bcf2a6</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Producers count</name><type>JMX</type><key>jmx[{#JMXOBJ},ProducerCount]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of producers attached to this destination.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags></item_prototype><item_prototype><uuid>fdc1e26fbe6545d3bdfc86f6f8c91b8b</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Queue size</name><type>JMX</type><key>jmx[{#JMXOBJ},QueueSize]</key><history>7d</history><username>{$ACTIVEMQ.USER}</username><password>{$ACTIVEMQ.PASSWORD}</password><description>Number of messages on this destination, including any that have been dispatched but not acknowledged.</description><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><tags><tag><tag>component</tag><value>destination</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>f1c49943152c407088e3bf288b650b41</uuid><expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},QueueSize],{$ACTIVEMQ.QUEUE.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&gt;{$ACTIVEMQ.QUEUE.WARN:&quot;{#JMXDESTINATIONNAME}&quot;} and {$ACTIVEMQ.QUEUE.ENABLED:&quot;{#JMXDESTINATIONNAME}&quot;}=1</expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Queue size is high</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Queue size higher than {$ACTIVEMQ.QUEUE.WARN:&quot;{#JMXDESTINATIONNAME}&quot;} for {$ACTIVEMQ.QUEUE.TIME:&quot;{#JMXDESTINATIONNAME}&quot;}</event_name><priority>AVERAGE</priority><description>Queue size is higher than threshold. It may indicate performance problems.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>c366d4b329c0471386566d6795c5787f</uuid><expression>max(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},ConsumerCount],{$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&lt;{$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;} and last(/Apache ActiveMQ by JMX/jmx[&quot;org.apache.activemq:type=Broker,brokerName={#JMXBROKERNAME}&quot;,{$ACTIVEMQ.TOTAL.CONSUMERS.COUNT: &quot;{#JMXDESTINATIONNAME}&quot;}])&gt;{$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},ConsumerCount],{$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&gt;={$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;}</recovery_expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Consumers count is too low</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Consumers count is too low (below {$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;} for {$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})</event_name><priority>AVERAGE</priority><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype><trigger_prototype><uuid>344a0b83a5444d009aa56e97c1c0171b</uuid><expression>avg(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},EnqueueCount],{$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&gt;avg(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},DequeueCount],{$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})</expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Message enqueue rate is higher than dequeue rate</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Message enqueue rate is higher than dequeue rate for {$ACTIVEMQ.MSG.RATE.WARN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;}</event_name><priority>AVERAGE</priority><description>Enqueue rate is higher than dequeue rate. It may indicate performance problems.</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype><trigger_prototype><uuid>725d0270554e4fe59d138becfa3e6377</uuid><expression>max(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},ProducerCount],{$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&lt;{$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;} and last(/Apache ActiveMQ by JMX/jmx[&quot;org.apache.activemq:type=Broker,brokerName={#JMXBROKERNAME}&quot;,{$ACTIVEMQ.TOTAL.PRODUCERS.COUNT: &quot;{#JMXDESTINATIONNAME}&quot;}])&gt;{$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH:&quot;{#JMXBROKERNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>min(/Apache ActiveMQ by JMX/jmx[{#JMXOBJ},ProducerCount],{$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})&gt;={$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;}</recovery_expression><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Producers count is too low</name><event_name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Producers count is too low (below {$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.HIGH:&quot;{#JMXDESTINATIONNAME}&quot;} for {$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.TIME:&quot;{#JMXDESTINATIONNAME}&quot;})</event_name><priority>AVERAGE</priority><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>006f397fbb664f9981b9228808870239</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Memory usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},MemoryPercentUsage]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>1c9a999ec2b94942ad10f408b470b1a2</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Messages rate</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},EnqueueCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},DequeueCount]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>0854230a67bc4d29b3b3dc2cb7eeaefa</uuid><name>{#JMXBROKERNAME}: {#JMXDESTINATIONTYPE} {#JMXDESTINATIONNAME}: Producers and consumers</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},ProducerCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Apache ActiveMQ by JMX</host><key>jmx[{#JMXOBJ},ConsumerCount]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>application</value></tag><tag><tag>target</tag><value>apache-activemq</value></tag></tags><macros><macro><macro>{$ACTIVEMQ.BROKER.CONSUMERS.MIN.HIGH}</macro><value>1</value><description>Minimum amount of consumers for broker. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.BROKER.CONSUMERS.MIN.TIME}</macro><value>5m</value><description>Time during which there may be no consumers on destination. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.BROKER.PRODUCERS.MIN.HIGH}</macro><value>1</value><description>Minimum amount of producers for broker. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.BROKER.PRODUCERS.MIN.TIME}</macro><value>5m</value><description>Time during which there may be no producers on broker. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.HIGH}</macro><value>1</value><description>Minimum amount of consumers for destination. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.DESTINATION.CONSUMERS.MIN.TIME}</macro><value>10m</value><description>Time during which there may be no consumers in destination. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.HIGH}</macro><value>1</value><description>Minimum amount of producers for destination. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.DESTINATION.PRODUCERS.MIN.TIME}</macro><value>10m</value><description>Time during which there may be no producers on destination. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.EXPIRED.WARN}</macro><value>0</value><description>Threshold for expired messages count. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.LLD.FILTER.BROKER.MATCHES}</macro><value>.*</value><description>Filter of discoverable discovered brokers</description></macro><macro><macro>{$ACTIVEMQ.LLD.FILTER.BROKER.NOT_MATCHES}</macro><value>CHANGE IF NEEDED</value><description>Filter to exclude discovered brokers</description></macro><macro><macro>{$ACTIVEMQ.LLD.FILTER.DESTINATION.MATCHES}</macro><value>.*</value><description>Filter of discoverable discovered destinations</description></macro><macro><macro>{$ACTIVEMQ.LLD.FILTER.DESTINATION.NOT_MATCHES}</macro><value>CHANGE IF NEEDED</value><description>Filter to exclude discovered destinations</description></macro><macro><macro>{$ACTIVEMQ.MEM.MAX.HIGH}</macro><value>90</value><description>Memory threshold for HIGH trigger. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.MEM.MAX.WARN}</macro><value>75</value><description>Memory threshold for AVERAGE trigger. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.MEM.TIME}</macro><value>5m</value><description>Time during which the metric can be above the threshold. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.MSG.RATE.WARN.TIME}</macro><value>15m</value><description>The time for message enqueue/dequeue rate. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.PASSWORD}</macro><value>activemq</value><description>Password for JMX</description></macro><macro><macro>{$ACTIVEMQ.PORT}</macro><value>1099</value><description>Port for JMX</description></macro><macro><macro>{$ACTIVEMQ.QUEUE.ENABLED}</macro><value>1</value><description>Use this to disable alerting for specific destination. 1 = enabled, 0 = disabled. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.QUEUE.TIME}</macro><value>10m</value><description>Time during which the QueueSize can be higher than threshold. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.QUEUE.WARN}</macro><value>100</value><description>Threshold for QueueSize. Can be used with destination name as context.</description></macro><macro><macro>{$ACTIVEMQ.STORE.MAX.HIGH}</macro><value>90</value><description>Storage threshold for HIGH trigger. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.STORE.MAX.WARN}</macro><value>75</value><description>Storage threshold for AVERAGE trigger. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.STORE.TIME}</macro><value>5m</value><description>Time during which the metric can be above the threshold. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.TEMP.MAX.HIGH}</macro><value>90</value><description>Temp threshold for HIGH trigger. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.TEMP.MAX.WARN}</macro><value>75</value><description>Temp threshold for AVERAGE trigger. Can be used with broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.TEMP.TIME}</macro><value>5m</value><description>Time during which the metric can be above the threshold. Can be used with destination or broker name as context.</description></macro><macro><macro>{$ACTIVEMQ.TOTAL.CONSUMERS.COUNT}</macro><value>TotalConsumerCount</value><description>Attribute for TotalConsumerCount per destination. Used to suppress destination's triggers when the count of consumers on the broker is lower than threshold.</description></macro><macro><macro>{$ACTIVEMQ.TOTAL.PRODUCERS.COUNT}</macro><value>TotalProducerCount</value><description>Attribute for TotalProducerCount per destination. Used to suppress destination's triggers when the count of consumers on the broker is lower than threshold.</description></macro><macro><macro>{$ACTIVEMQ.USER}</macro><value>admin</value><description>User for JMX</description></macro></macros></template></templates></zabbix_export>
