<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:48Z</date><groups><group><uuid>57b7ae836ca64446ba2c296389c009b7</uuid><name>Templates/Modules</name></group></groups><templates><template><uuid>222cf73cb40941f6be62db0540524e5e</uuid><template>Windows physical disks by Zabbix agent active</template><name>Windows physical disks by Zabbix agent active</name><description>Template tooling version used: 0.41</description><groups><group><name>Templates/Modules</name></group></groups><discovery_rules><discovery_rule><uuid>355a9297d1fb4cb0b587e40ef152dc0f</uuid><name>Physical disks discovery</name><type>ZABBIX_ACTIVE</type><key>perf_instance_en.discovery[PhysicalDisk]</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of installed physical disks.</description><item_prototypes><item_prototype><uuid>7d6ab9b1b76041869d7818652b5c5b0e</uuid><name>{#DEVNAME}: Disk utilization by idle time</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>This item is the percentage of elapsed time that the selected disk drive was busy servicing read or writes requests based on idle time.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return (100 - value)</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>6baacd2fab15466ab3b12dcfb7e2980a</uuid><expression>min(/Windows physical disks by Zabbix agent active/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60],15m)&gt;{$VFS.DEV.UTIL.MAX.WARN}</expression><name>{#DEVNAME}: Disk is overloaded</name><event_name>{#DEVNAME}: Disk is overloaded (util &gt; {$VFS.DEV.UTIL.MAX.WARN}% for 15m)</event_name><priority>WARNING</priority><description>The disk appears to be under heavy load</description><manual_close>YES</manual_close><dependencies><dependency><name>{#DEVNAME}: Disk read request responses are too high</name><expression>min(/Windows physical disks by Zabbix agent active/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression></dependency><dependency><name>{#DEVNAME}: Disk write request responses are too high</name><expression>min(/Windows physical disks by Zabbix agent active/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>ee3e17e348f84f8bb4eb9675cb0ef045</uuid><name>{#DEVNAME}: Average disk read queue length</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Read Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Average disk read queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>83bc066220ec47bb898351e8d20fb81d</uuid><name>{#DEVNAME}: Disk read request avg waiting time</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>s</units><description>The average time for read requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>32f7d131336348178069bbafbdabcfee</uuid><expression>min(/Windows physical disks by Zabbix agent active/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk read request responses are too high</name><event_name>{#DEVNAME}: Disk read request responses are too high (read &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}s for 15m</event_name><priority>WARNING</priority><description>This trigger might indicate disk {#DEVNAME} saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>9f906bcb67f847b7bfbca098659063d4</uuid><name>{#DEVNAME}: Disk write request avg waiting time</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>s</units><description>The average time for write requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>d7116046921d441dba5830140f8bf433</uuid><expression>min(/Windows physical disks by Zabbix agent active/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk write request responses are too high</name><event_name>{#DEVNAME}: Disk write request responses are too high (write &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}s for 15m)</event_name><priority>WARNING</priority><description>This trigger might indicate disk {#DEVNAME} saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>584f4a8fba0b4e3cba7f37cba42cd97c</uuid><name>{#DEVNAME}: Average disk write queue length</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Write Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Average disk write queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>1201592953094d48af20a0e420bfa846</uuid><name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Current Disk Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Current average disk queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>e0f052d64ea544b09dfe619cb91f28c8</uuid><name>{#DEVNAME}: Disk read rate</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Reads/sec&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>!r/s</units><description>Rate of read operations on the disk.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>33e5e9eccad84737bf428fc54b25fc5c</uuid><name>{#DEVNAME}: Disk write rate</name><type>ZABBIX_ACTIVE</type><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Writes/sec&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>!w/s</units><description>Rate of write operations on the disk.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>b84e9fa116434ec8ba9ab9bb7a2aa6d2</uuid><name>{#DEVNAME}: Disk average queue length</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Read Queue Length&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Write Queue Length&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>ece6c5cbff6e4997b52ea1d7652b7680</uuid><name>{#DEVNAME}: Disk average waiting time</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>681afbf26ef340c682f8deffd921ae2d</uuid><name>{#DEVNAME}: Disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Reads/sec&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Writes/sec&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>58fb9ac4f2864730aaeda6a035b1591e</uuid><name>{#DEVNAME}: Disk utilization and queue</name><graph_items><graph_item><color>1A7C11</color><yaxisside>RIGHT</yaxisside><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Current Disk Queue Length&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent active</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>STR_REPLACE</type><parameters><parameter>{#INSTANCE}</parameter><parameter>{#DEVNAME}</parameter></parameters></step></preprocessing></discovery_rule></discovery_rules><macros><macro><macro>{$VFS.DEV.DEVNAME.MATCHES}</macro><value>.*</value><description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description></macro><macro><macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro><value>_Total</value><description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description></macro><macro><macro>{$VFS.DEV.READ.AWAIT.WARN}</macro><value>0.02</value><description>Disk read average response time (in s) before the trigger would fire.</description></macro><macro><macro>{$VFS.DEV.UTIL.MAX.WARN}</macro><value>95</value><description>The warning threshold of disk time utilization in percent.</description></macro><macro><macro>{$VFS.DEV.WRITE.AWAIT.WARN}</macro><value>0.02</value><description>Disk write average response time (in s) before the trigger would fire.</description></macro></macros></template></templates></zabbix_export>
