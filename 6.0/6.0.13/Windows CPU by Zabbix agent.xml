<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:42Z</date><groups><group><uuid>57b7ae836ca64446ba2c296389c009b7</uuid><name>Templates/Modules</name></group></groups><templates><template><uuid>e358504d59404f688e236444dd82d2c3</uuid><template>Windows CPU by Zabbix agent</template><name>Windows CPU by Zabbix agent</name><description>Template tooling version used: 0.41</description><groups><group><name>Templates/Modules</name></group></groups><items><item><uuid>8362346c013546f39f8140061f7b3f01</uuid><name>CPU DPC time</name><key>perf_counter_en[&quot;\Processor Information(_total)\% DPC Time&quot;]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Processor DPC time is the time that a single processor spent receiving and servicing deferred procedure
calls (DPCs). DPCs are interrupts that run at a lower priority than standard interrupts. % DPC Time is a
component of % Privileged Time because DPCs are executed in privileged mode. If a high % DPC Time is
sustained, there may be a processor bottleneck or an application or hardware related issue that can
significantly diminish overall system performance.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>609619e2b6364d9e90bef828610b23f8</uuid><name>CPU interrupt time</name><key>perf_counter_en[&quot;\Processor Information(_total)\% Interrupt Time&quot;]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The Processor Information\% Interrupt Time is the time the processor spends receiving and servicing
hardware interrupts during sample intervals. This value is an indirect indicator of the activity of
devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication
lines, network interface cards and other peripheral devices. This is an easy way to identify a potential
hardware failure. This should never be higher than 20%.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>3f6cca07bc6c48f0b21fee3aeb89bf6b</uuid><expression>min(/Windows CPU by Zabbix agent/perf_counter_en[&quot;\Processor Information(_total)\% Interrupt Time&quot;],5m)&gt;{$CPU.INTERRUPT.CRIT.MAX}</expression><name>CPU interrupt time is too high</name><event_name>CPU interrupt time is too high (over {$CPU.INTERRUPT.CRIT.MAX}% for 5m)</event_name><priority>WARNING</priority><description>&quot;The CPU Interrupt Time in the last 5 minutes exceeds {$CPU.INTERRUPT.CRIT.MAX}%.&quot;
The Processor Information\% Interrupt Time is the time the processor spends receiving and servicing
hardware interrupts during sample intervals. This value is an indirect indicator of the activity of
devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication
lines, network interface cards and other peripheral devices. This is an easy way to identify a potential
hardware failure. This should never be higher than 20%.</description><dependencies><dependency><name>High CPU utilization</name><expression>min(/Windows CPU by Zabbix agent/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>eb5144d1e3cb4417ae0abcdeca10e0ed</uuid><name>CPU privileged time</name><key>perf_counter_en[&quot;\Processor Information(_total)\% Privileged Time&quot;]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The Processor Information\% Privileged Time counter shows the percent of time that the processor is spent
executing in Kernel (or Privileged) mode. Privileged mode includes services interrupts inside Interrupt
Service Routines (ISRs), executing Deferred Procedure Calls (DPCs), Device Driver calls and other kernel-mode
functions of the WindowsÂ® Operating System.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>999464a5a73540d3b7b7cd86efa5488e</uuid><expression>min(/Windows CPU by Zabbix agent/perf_counter_en[&quot;\Processor Information(_total)\% Privileged Time&quot;],5m)&gt;{$CPU.PRIV.CRIT.MAX}</expression><name>CPU privileged time is too high</name><event_name>CPU privileged time is too high (over {$CPU.PRIV.CRIT.MAX}% for 5m)</event_name><priority>WARNING</priority><description>The CPU privileged time in the last 5 minutes exceeds {$CPU.PRIV.CRIT.MAX}%.</description><dependencies><dependency><name>CPU interrupt time is too high</name><expression>min(/Windows CPU by Zabbix agent/perf_counter_en[&quot;\Processor Information(_total)\% Interrupt Time&quot;],5m)&gt;{$CPU.INTERRUPT.CRIT.MAX}</expression></dependency><dependency><name>High CPU utilization</name><expression>min(/Windows CPU by Zabbix agent/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>5611c125bf01479fadc2e59db073cc9c</uuid><name>CPU user time</name><key>perf_counter_en[&quot;\Processor Information(_total)\% User Time&quot;]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The Processor Information\% User Time counter shows the percent of time that the processor(s) is spent executing
in User mode.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>8ee61e8919984a3d9a7125fd4fe7c397</uuid><name>Context switches per second</name><key>perf_counter_en[&quot;\System\Context Switches/sec&quot;]</key><history>7d</history><value_type>FLOAT</value_type><description>Context Switches/sec is the combined rate at which all processors on the computer are switched from one thread to another.
Context switches occur when a running thread voluntarily relinquishes the processor, is preempted by a higher priority ready thread, or switches between user-mode and privileged (kernel) mode to use an Executive or subsystem service.
It is the sum of Thread\\Context Switches/sec for all threads running on all processors in the computer and is measured in numbers of switches.
There are context switch counters on the System and Thread objects. This counter displays the difference between the values observed in the last two samples, divided by the duration of the sample interval.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>1a2b85fb8355459e9c5c723164d09d41</uuid><name>CPU queue length</name><key>perf_counter_en[&quot;\System\Processor Queue Length&quot;]</key><history>7d</history><value_type>FLOAT</value_type><description>The Processor Queue Length shows the number of threads that are observed as delayed in the processor Ready Queue
and are waiting to be executed.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>177e472955434cb19dadb06c0f34eb31</uuid><name>CPU utilization</name><key>system.cpu.util</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU utilization in %.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>afd1711dca1542a5bec9091cbae2bcf0</uuid><expression>min(/Windows CPU by Zabbix agent/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression><name>High CPU utilization</name><event_name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</event_name><opdata>Current utilization: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU utilization is too high. The system might be slow to respond.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>d6b17d211ed746aaabac591a3dad5813</uuid><name>Number of cores</name><key>wmi.get[root/cimv2,&quot;Select NumberOfLogicalProcessors from Win32_ComputerSystem&quot;]</key><history>7d</history><description>The number of logical processors available on the computer.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item></items><macros><macro><macro>{$CPU.INTERRUPT.CRIT.MAX}</macro><value>50</value><description>The critical threshold of the % Interrupt Time counter.</description></macro><macro><macro>{$CPU.PRIV.CRIT.MAX}</macro><value>30</value><description>The threshold of the % Privileged Time counter.</description></macro><macro><macro>{$CPU.QUEUE.CRIT.MAX}</macro><value>3</value><description>The threshold of the Processor Queue Length counter.</description></macro><macro><macro>{$CPU.UTIL.CRIT}</macro><value>90</value><description>The critical threshold of the CPU utilization in %.</description></macro></macros></template></templates><triggers><trigger><uuid>cc301d844a7b42e79756d1bc74adf307</uuid><expression>min(/Windows CPU by Zabbix agent/perf_counter_en[&quot;\System\Processor Queue Length&quot;],5m) - last(/Windows CPU by Zabbix agent/wmi.get[root/cimv2,&quot;Select NumberOfLogicalProcessors from Win32_ComputerSystem&quot;]) * 2 &gt; {$CPU.QUEUE.CRIT.MAX}</expression><name>CPU queue length is too high</name><event_name>CPU queue length is too high (over {$CPU.QUEUE.CRIT.MAX} for 5m)</event_name><priority>WARNING</priority><description>The CPU Queue Length in the last 5 minutes exceeds {$CPU.QUEUE.CRIT.MAX}. According to actual observations, PQL should not exceed the number of cores * 2. To fine-tune the conditions, use the macro {$CPU.QUEUE.CRIT.MAX }.</description><dependencies><dependency><name>High CPU utilization</name><expression>min(/Windows CPU by Zabbix agent/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers><graphs><graph><uuid>e3029427b9124e30a9aa06000219f572</uuid><name>CPU jumps</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows CPU by Zabbix agent</host><key>perf_counter_en[&quot;\System\Context Switches/sec&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Windows CPU by Zabbix agent</host><key>perf_counter_en[&quot;\Processor Information(_total)\% Interrupt Time&quot;]</key></item></graph_item></graph_items></graph><graph><uuid>0b520e68348e4c17983672c5ca4dffb1</uuid><name>CPU usage</name><type>STACKED</type><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Windows CPU by Zabbix agent</host><key>perf_counter_en[&quot;\Processor Information(_total)\% User Time&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Windows CPU by Zabbix agent</host><key>perf_counter_en[&quot;\Processor Information(_total)\% Privileged Time&quot;]</key></item></graph_item></graph_items></graph><graph><uuid>d7543150b21e4678a29ca1072c8660df</uuid><name>CPU utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Windows CPU by Zabbix agent</host><key>system.cpu.util</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
