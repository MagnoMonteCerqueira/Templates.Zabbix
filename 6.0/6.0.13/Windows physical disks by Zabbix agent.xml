<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:42Z</date><groups><group><uuid>57b7ae836ca64446ba2c296389c009b7</uuid><name>Templates/Modules</name></group></groups><templates><template><uuid>4026647be95a47de98b0f09dc36ce72f</uuid><template>Windows physical disks by Zabbix agent</template><name>Windows physical disks by Zabbix agent</name><description>Template tooling version used: 0.41</description><groups><group><name>Templates/Modules</name></group></groups><discovery_rules><discovery_rule><uuid>d03f20ec394e4725a5dfdceecb79c8bd</uuid><name>Physical disks discovery</name><key>perf_instance_en.discovery[PhysicalDisk]</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of installed physical disks.</description><item_prototypes><item_prototype><uuid>44d9353d47274309bb3edaa34b7b3470</uuid><name>{#DEVNAME}: Disk utilization by idle time</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>This item is the percentage of elapsed time that the selected disk drive was busy servicing read or writes requests based on idle time.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return (100 - value)</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>c194f813f0c5417aaac56875b955637a</uuid><expression>min(/Windows physical disks by Zabbix agent/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60],15m)&gt;{$VFS.DEV.UTIL.MAX.WARN}</expression><name>{#DEVNAME}: Disk is overloaded</name><event_name>{#DEVNAME}: Disk is overloaded (util &gt; {$VFS.DEV.UTIL.MAX.WARN}% for 15m)</event_name><priority>WARNING</priority><description>The disk appears to be under heavy load</description><manual_close>YES</manual_close><dependencies><dependency><name>{#DEVNAME}: Disk read request responses are too high</name><expression>min(/Windows physical disks by Zabbix agent/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression></dependency><dependency><name>{#DEVNAME}: Disk write request responses are too high</name><expression>min(/Windows physical disks by Zabbix agent/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>8122d6fd46a54d5f8b23c4b21a333959</uuid><name>{#DEVNAME}: Average disk read queue length</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Read Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Average disk read queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>f6896b69665d4a9bb160b23a322919d4</uuid><name>{#DEVNAME}: Disk read request avg waiting time</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>s</units><description>The average time for read requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>d96338f9104a4eb4bc7725a5736c96d0</uuid><expression>min(/Windows physical disks by Zabbix agent/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk read request responses are too high</name><event_name>{#DEVNAME}: Disk read request responses are too high (read &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;}s for 15m</event_name><priority>WARNING</priority><description>This trigger might indicate disk {#DEVNAME} saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>704680610f6a42dc9373db929a3d0d53</uuid><name>{#DEVNAME}: Disk write request avg waiting time</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>s</units><description>The average time for write requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>205acd9a37424bd78618ebdc197f251f</uuid><expression>min(/Windows physical disks by Zabbix agent/perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk write request responses are too high</name><event_name>{#DEVNAME}: Disk write request responses are too high (write &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}s for 15m)</event_name><priority>WARNING</priority><description>This trigger might indicate disk {#DEVNAME} saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>9f5d1cdb629847ad97e0fa0804883e91</uuid><name>{#DEVNAME}: Average disk write queue length</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Write Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Average disk write queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>3565ad70600d4c8aa5ebbbebd3f67270</uuid><name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Current Disk Queue Length&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><description>Current average disk queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>3485202f1e6b42ce8099ce6d6347a994</uuid><name>{#DEVNAME}: Disk read rate</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Reads/sec&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>!r/s</units><description>Rate of read operations on the disk.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>66e312629db1460c8b215d34d29f7418</uuid><name>{#DEVNAME}: Disk write rate</name><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Writes/sec&quot;,60]</key><history>7d</history><value_type>FLOAT</value_type><units>!w/s</units><description>Rate of write operations on the disk.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>5fcd9dc53cd34e4981bf5e48a88951a0</uuid><name>{#DEVNAME}: Disk average queue length</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Read Queue Length&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk Write Queue Length&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>6561058a9cd748728bb46d8d04a5b74b</uuid><name>{#DEVNAME}: Disk average waiting time</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Read&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Avg. Disk sec/Write&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>83dee3e21b2f4b3c8c7552f87ebec81c</uuid><name>{#DEVNAME}: Disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Reads/sec&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Disk Writes/sec&quot;,60]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>d3b5ccf4530447c2aee84fb23a6934d0</uuid><name>{#DEVNAME}: Disk utilization and queue</name><graph_items><graph_item><color>1A7C11</color><yaxisside>RIGHT</yaxisside><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\Current Disk Queue Length&quot;,60]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Windows physical disks by Zabbix agent</host><key>perf_counter_en[&quot;\PhysicalDisk({#DEVNAME})\% Idle Time&quot;,60]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>STR_REPLACE</type><parameters><parameter>{#INSTANCE}</parameter><parameter>{#DEVNAME}</parameter></parameters></step></preprocessing></discovery_rule></discovery_rules><macros><macro><macro>{$VFS.DEV.DEVNAME.MATCHES}</macro><value>.*</value><description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description></macro><macro><macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro><value>_Total</value><description>This macro is used in physical disks discovery. Can be overridden on the host or linked template level.</description></macro><macro><macro>{$VFS.DEV.READ.AWAIT.WARN}</macro><value>0.02</value><description>Disk read average response time (in s) before the trigger would fire.</description></macro><macro><macro>{$VFS.DEV.UTIL.MAX.WARN}</macro><value>95</value><description>The warning threshold of disk time utilization in percent.</description></macro><macro><macro>{$VFS.DEV.WRITE.AWAIT.WARN}</macro><value>0.02</value><description>Disk write average response time (in s) before the trigger would fire.</description></macro></macros></template></templates></zabbix_export>
