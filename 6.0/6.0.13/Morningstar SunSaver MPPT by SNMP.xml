<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:50Z</date><groups><group><uuid>36bff6c29af64692839d077febfc7079</uuid><name>Templates/Network devices</name></group></groups><templates><template><uuid>f1336fd88ab0415a9c02892a71e50032</uuid><template>Morningstar SunSaver MPPT by SNMP</template><name>Morningstar SunSaver MPPT by SNMP</name><description>MIBs used:
SUNSAVER-MPPT

Template tooling version used: 0.41</description><groups><group><name>Templates/Network devices</name></group></groups><items><item><uuid>9836b1fc81b84a44b2a708291bd5bf1a</uuid><name>Array: Sweep Pmax</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.57.0</snmp_oid><key>array.sweep_pmax[arrayMaxPowerSweep.0]</key><history>7d</history><value_type>FLOAT</value_type><units>W</units><description>MIB: SUNSAVER-MPPT
Description:Array Open Circuit Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0.0, 80.0]
Modbus address:0x002A</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.01509857178</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>array</value></tag></tags></item><item><uuid>0842746ca41c44128a575113307259e2</uuid><name>Array: Sweep Vmp</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.56.0</snmp_oid><key>array.sweep_vmp[arrayVmp.0]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Array Max. Power Point Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0.0, 5000.0]
Modbus address:0x0028</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>array</value></tag></tags></item><item><uuid>0e3371208513416ab1b9afdf2c3b2c08</uuid><name>Array: Sweep Voc</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.58.0</snmp_oid><key>array.sweep_voc[arrayVoc.0]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Array Open Circuit Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0.0, 80.0]
Modbus address:0x002A</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>array</value></tag></tags></item><item><uuid>da1f347b28dd4fbeb123f228adefb0ed</uuid><name>Array: Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.31.0</snmp_oid><key>array.voltage[arrayVoltage.0]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Array Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0, 80]
Modbus address:0x0009</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>array</value></tag></tags></item><item><uuid>f8803a1390b745f08673d4ea998548a9</uuid><name>Battery: Battery Voltage discovery</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.30.0</snmp_oid><key>battery.voltage.discovery[batteryVoltage.0]</key><delay>15m</delay><history>0</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>battery</value></tag><tag><tag>component</tag><value>discovery</value></tag><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>a36313ef0933403788a42de8a62b4838</uuid><name>Battery: Charge Current</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.33.0</snmp_oid><key>charge.current[chargeCurrent.0]</key><history>7d</history><value_type>FLOAT</value_type><units>A</units><description>MIB: SUNSAVER-MPPT
Description:Target Regulation Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0.0, 80.0]
Modbus address:0x0014</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.002415771484</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>battery</value></tag></tags></item><item><uuid>4da765c8e26540c190ea07be08b87abc</uuid><name>Battery: Charge State</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.39.0</snmp_oid><key>charge.state[chargeState.0]</key><history>7d</history><value_type>FLOAT</value_type><description>MIB: SUNSAVER-MPPT
Description:Control State
Modbus address:0x0011

0: Start
1: NightCheck
2: Disconnect
3: Night
4: Fault
5: BulkMppt
6: Pwm
7: Float
8: Equalize</description><valuemap><name>SunSaver MPPT charge state</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>battery</value></tag></tags><triggers><trigger><uuid>0362139c66f4464db8c022b9ffce5502</uuid><expression>last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.CRIT}</expression><name>Battery: Device charge in critical state</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>d5439cee53b148ecb4186286c4e93ada</uuid><expression>last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.WARN}</expression><name>Battery: Device charge in warning state</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Battery: Device charge in critical state</name><expression>last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>149545b9154044e3af27b4e9ad809c0e</uuid><name>Counter: Charge Amp-hours</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.43.0</snmp_oid><key>counter.charge_amp_hours[ahChargeResettable.0]</key><history>7d</history><value_type>FLOAT</value_type><units>Ah</units><description>MIB: SUNSAVER-MPPT
Description:Ah Charge(Resettable)
Scaling Factor:0.1
Units:Ah
Range:[0.0, 4294967294]
Modbus addresses:H=0x0015 L=0x0016</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.1</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>counter</value></tag></tags></item><item><uuid>f6d0f89c747b4418ad34c32b5ac9a5b9</uuid><name>Counter: Charge KW-hours</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.45.0</snmp_oid><key>counter.charge_kw_hours[kwhCharge.0]</key><history>7d</history><units>!kWh</units><description>MIB: SUNSAVER-MPPT</description><tags><tag><tag>component</tag><value>counter</value></tag></tags></item><item><uuid>28e679eace174d289ca5ccf90f3b9150</uuid><name>Counter: Load Amp-hours</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.49.0</snmp_oid><key>counter.load_amp_hours[ahLoadResettable.0]</key><history>7d</history><value_type>FLOAT</value_type><units>Ah</units><description>MIB: SUNSAVER-MPPT
Description:Ah Load(Resettable)
Scaling Factor:0.1
Units:Ah
Range:[0.0, 4294967294]
Modbus addresses:H=0x001D L=0x001E</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.1</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>counter</value></tag></tags></item><item><uuid>6491ee507d9a4c099852d33e57df48a9</uuid><name>Load: Current</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.34.0</snmp_oid><key>load.current[loadCurrent.0]</key><history>7d</history><value_type>FLOAT</value_type><units>A</units><description>MIB: SUNSAVER-MPPT
Description:Load Current
Scaling Factor:0.002415771484375
Units:A
Range:[0, 60]
Modbus address:0x000C</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.002415771484</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>load</value></tag></tags></item><item><uuid>c5dfef2deee445ec88e2d63dbfbbaf68</uuid><name>Load: State</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.46.0</snmp_oid><key>load.state[loadState.0]</key><history>7d</history><value_type>FLOAT</value_type><description>MIB: SUNSAVER-MPPT
Description:Load State
Modbus address:0x001A

0: Start
1: Normal
2: LvdWarning
3: Lvd
4: Fault
5: Disconnect
6: NormalOff
7: Override
8: NotUsed</description><valuemap><name>SunSaver MPPT load state</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>load</value></tag></tags><triggers><trigger><uuid>bbd3a89b012a40daa646ec7113d43e43</uuid><expression>last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:&quot;lvd&quot;} or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:&quot;fault&quot;}</expression><name>Load: Device load in critical state</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>8f6967c1b577431c995a3c13f8cdb1c1</uuid><expression>last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:&quot;lvdWarning&quot;}  or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:&quot;override&quot;}</expression><name>Load: Device load in warning state</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Load: Device load in critical state</name><expression>last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:&quot;lvd&quot;} or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:&quot;fault&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>a9ca69fcedbb4524a8eb4b92b975008e</uuid><name>Load: Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.32.0</snmp_oid><key>load.voltage[loadVoltage.0]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Load Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0, 80]
Modbus address:0x000A</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>load</value></tag></tags></item><item><uuid>91f2c1893b594e808032eb0140247d7a</uuid><name>Status: Alarms</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.52.0</snmp_oid><key>status.alarms[alarms.0]</key><history>1h</history><trends>0</trends><value_type>TEXT</value_type><description>MIB: SUNSAVER-MPPT
Description:Alarms
Modbus addresses:H=0x0023 L=0x0024</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>var FIELDS = [
  'rtsOpen',
  'rtsShorted',
  'rtsDisconnected',
  'heatsinkTempSensorOpen',
  'heatsinkTempSensorShorted',
  'sspptHot',
  'currentLimit',
  'currentOffset',
  'undefined',
  'undefined1',
  'uncalibrated',
  'rtsMiswire',
  'undefined12',
  'undefined123',
  'systemMiswire',
  'mosfetSOpen',
  'p12VoltageReferenceOff',
  'highVaCurrentLimit',
];

var flags = parseInt(value.replace(/\x20/g, ''), 16),
  result = [];

for (var i = 0, f = 1 &lt;&lt; 31 &gt;&gt;&gt; 0, l = FIELDS.length; i &lt; l; i++, f &gt;&gt;&gt;= 1) {
    if (flags &amp; f) {
        result.push(FIELDS[i]);
    }
}

return result.length ? result.join('\n') : 'No alarms';</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>status</value></tag></tags><triggers><trigger><uuid>86220f6cc9164490b6d80be4a249e749</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;currentLimit&quot;)=2</expression><name>Status: Device has &quot;currentLimit&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>69016ea6a1204435b3ddb8de6b8944dc</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;currentOffset&quot;)=2</expression><name>Status: Device has &quot;currentOffset&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>2c02465ea74e4c63ab783d235c8f1a30</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;heatsinkTempSensorOpen&quot;)=2</expression><name>Status: Device has &quot;heatsinkTempSensorOpen&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>1aa289c68f0b4b44a043281e6df9e462</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;heatsinkTempSensorShorted&quot;)=2</expression><name>Status: Device has &quot;heatsinkTempSensorShorted&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>6d0ce7d6e2cc407ba0f4d989bdd9a141</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;highVaCurrentLimit&quot;)=2</expression><name>Status: Device has &quot;highVaCurrentLimit&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>718a3426363040e1ab82864635444056</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;mosfetSOpen&quot;)=2</expression><name>Status: Device has &quot;mosfetSOpen&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>4eb4df0b4cf04a198190312cdb33538f</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;p12VoltageReferenceOff&quot;)=2</expression><name>Status: Device has &quot;p12VoltageReferenceOff&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>e2ac890bb16d4e0798b0410f33c8a860</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;rtsDisconnected&quot;)=2</expression><name>Status: Device has &quot;rtsDisconnected&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>3b02b27bd4674ae3b820730cee8e611a</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;rtsMiswire&quot;)=2</expression><name>Status: Device has &quot;rtsMiswire&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>d253c037d5974ee38e888162687b96ef</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;rtsShorted&quot;)=2</expression><name>Status: Device has &quot;rtsShorted&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>1bea0c0e01314dbaa1cfdfa5a0625755</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;sspptHot&quot;)=2</expression><name>Status: Device has &quot;sspptHot&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>d28d0e51500a45859ccb6969d9b5493f</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;systemMiswire&quot;)=2</expression><name>Status: Device has &quot;systemMiswire&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>427f75a98d4440a38e40522bccec03bb</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,&quot;like&quot;,&quot;uncalibrated&quot;)=2</expression><name>Status: Device has &quot;uncalibrated&quot; alarm flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>f44756455697466cb905aa6ae4d0220d</uuid><name>Status: Array Faults</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.40.0</snmp_oid><key>status.array_faults[arrayFaults.0]</key><history>1h</history><trends>0</trends><value_type>TEXT</value_type><description>MIB: SUNSAVER-MPPT
Description:Array Faults
Modbus address:0x0012</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>var FIELDS = [
  'overcurrent',
  'mosfetSShorted',
  'softwareFault',
  'batteryHvd',
  'arrayHvd',
  'customSettingsEdit',
  'rtsShorted',
  'rtsNoLongerValid',
  'localTempSensorDamaged',
];

var flags = parseInt(value.replace(/\x20/g, ''), 16),
  result = [];

for (var i = 0, f = 1 &lt;&lt; 31 &gt;&gt;&gt; 0, l = FIELDS.length; i &lt; l; i++, f &gt;&gt;&gt;= 1) {
    if (flags &amp; f) {
        result.push(FIELDS[i]);
    }
}

return result.length ? result.join('\n') : 'No faults';</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>status</value></tag></tags><triggers><trigger><uuid>2d8b0bdeb95c49d68771af384d985311</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;arrayHvd&quot;)=2</expression><name>Status: Device has &quot;arrayHvd&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>2e07c5d51691462ca0961d77ea974bd5</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;batteryHvd&quot;)=2</expression><name>Status: Device has &quot;batteryHvd&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>65d2cd1ff93f45db9d7f572ee0a8f568</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;customSettingsEdit&quot;)=2</expression><name>Status: Device has &quot;customSettingsEdit&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>fe217d10399044d7b1008f0010691e1e</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;localTempSensorDamaged&quot;)=2</expression><name>Status: Device has &quot;localTempSensorDamaged&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>fa62f9e4f0f84e278938ba18785a1b5f</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;mosfetSShorted&quot;)=2</expression><name>Status: Device has &quot;mosfetSShorted&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>6f450621a12e46369745b2a0fed018ac</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;overcurrent&quot;)=2</expression><name>Status: Device has &quot;overcurrent&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>7ea38daa41a94ab3a9c1efc34276b17b</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;rtsNoLongerValid&quot;)=2</expression><name>Status: Device has &quot;rtsNoLongerValid&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>91edc885c3f140cc85bb6085f06e6820</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;rtsShorted&quot;)=2</expression><name>Status: Device has &quot;rtsShorted&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>cae74543a0da478d80b9302a2431fe4b</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,&quot;like&quot;,&quot;softwareFault&quot;)=2</expression><name>Status: Device has &quot;softwareFault&quot; array faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>76a660b88bb74e90971bdaec703d3c17</uuid><name>Status: Uptime (hardware)</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.25.1.1.0</snmp_oid><key>status.hw.uptime</key><history>7d</history><units>uptime</units><description>The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.</description><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step><step><type>MULTIPLIER</type><parameters><parameter>0.01</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>status</value></tag></tags></item><item><uuid>24762b0c264745548150a4bd5913156f</uuid><name>Status: Load Faults</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.47.0</snmp_oid><key>status.load_faults[loadFaults.0]</key><history>1h</history><trends>0</trends><value_type>TEXT</value_type><description>MIB: SUNSAVER-MPPT
Description:Array Faults
Modbus address:0x0012</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step><step><type>JAVASCRIPT</type><parameters><parameter>var FIELDS = [
  'externalShortCircuit',
  'overcurrent',
  'mosfetShorted',
  'software',
  'loadHvd',
  'highTempDisconnect',
  'customSettingsEdit',
  'unknownLoadFault'
];

var flags = parseInt(value.replace(/\x20/g, ''), 16),
  result = [];

for (var i = 0, f = 1 &lt;&lt; 31 &gt;&gt;&gt; 0, l = FIELDS.length; i &lt; l; i++, f &gt;&gt;&gt;= 1) {
    if (flags &amp; f) {
        result.push(FIELDS[i]);
    }
}

return result.length ? result.join('\n') : 'No faults';</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>status</value></tag></tags><triggers><trigger><uuid>d086fbb093344723a4bb5fe928e984ff</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;customSettingsEdit&quot;)=2</expression><name>Status: Device has &quot;customSettingsEdit&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>5743ed062a954330928092fb8574002a</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;externalShortCircuit&quot;)=2</expression><name>Status: Device has &quot;externalShortCircuit&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>354a1512bca5468585a489dd14fc793d</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;highTempDisconnect&quot;)=2</expression><name>Status: Device has &quot;highTempDisconnect&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>3640e470580846ac9e1651cba186d0a3</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;loadHvd&quot;)=2</expression><name>Status: Device has &quot;loadHvd&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>d3911d64792e4b88b31cb51a405a1a2e</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;mosfetShorted&quot;)=2</expression><name>Status: Device has &quot;mosfetShorted&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>d1bfa4177c0844ec9fc2bc7270c09338</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;overcurrent&quot;)=2</expression><name>Status: Device has &quot;overcurrent&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>baaba919b58546f08cdcd1e2791feb27</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;software&quot;)=2</expression><name>Status: Device has &quot;software&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>41e47074c983421a83b1e500d4591188</uuid><expression>count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,&quot;like&quot;,&quot;unknownLoadFault&quot;)=2</expression><name>Status: Device has &quot;unknownLoadFault&quot; load faults flag</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>63512390f2a04885bf8d0e19653a72b1</uuid><name>Status: Uptime (network)</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid><key>status.net.uptime</key><history>7d</history><units>uptime</units><description>The time (in hundredths of a second) since the network management portion of the system was last re-initialized.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.01</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>status</value></tag></tags><triggers><trigger><uuid>72e6e08faed647a98a027bd25b6a7106</uuid><expression>nodata(/Morningstar SunSaver MPPT by SNMP/status.net.uptime,5m)=1</expression><name>Status: Failed to fetch data</name><event_name>Status: Failed to fetch data (or no data for 5m)</event_name><priority>WARNING</priority><description>Zabbix has not received data for items for the last 5 minutes.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>52afa576b83b49e69ec8d379fbc42965</uuid><name>Battery: Target Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.42.0</snmp_oid><key>target.voltage[targetVoltage.0]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Target Regulation Voltage
Scaling Factor:0.0030517578125
Units:V
Range:[0.0, 80.0]
Modbus address:0x0014</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>battery</value></tag></tags></item><item><uuid>430cf6fcb9b74943a8ca7f1d9d06fa56</uuid><name>Temperature: Ambient</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.37.0</snmp_oid><key>temp.ambient[ambientTemperature.0]</key><history>7d</history><value_type>FLOAT</value_type><units>C</units><description>MIB: SUNSAVER-MPPT
Description:Ambient Temperature
Scaling Factor:1.0
Units:deg C
Range:[-128, 127]
Modbus address:0x000F</description><tags><tag><tag>component</tag><value>temperature</value></tag></tags></item><item><uuid>157faa85ae244950b4a114b95bad6d50</uuid><name>Temperature: Battery</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.36.0</snmp_oid><key>temp.battery[batteryTemperature.0]</key><history>7d</history><value_type>FLOAT</value_type><units>C</units><description>MIB: SUNSAVER-MPPT
Description:Heatsink Temperature
Scaling Factor:1.0
Units:deg C
Range:[-128, 127]
Modbus address:0x000D</description><tags><tag><tag>component</tag><value>temperature</value></tag></tags><triggers><trigger><uuid>cc121c44be05440a82d3344c530456e5</uuid><expression>min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&gt;{$BATTERY.TEMP.MAX.CRIT}</expression><name>Temperature: Critically high battery temperature</name><event_name>Temperature: Critically high battery temperature (over {$BATTERY.TEMP.MAX.CRIT}C for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>9e0d552b93ae402d98c327420c99d160</uuid><expression>max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&lt;{$BATTERY.TEMP.MIN.CRIT}</expression><name>Temperature: Critically low battery temperature</name><event_name>Temperature: Critically low battery temperature (below {$BATTERY.TEMP.MIN.WARN}C for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>95b600e280b94949b41422eb60def010</uuid><expression>min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&gt;{$BATTERY.TEMP.MAX.WARN}</expression><name>Temperature: High battery temperature</name><event_name>Temperature: High battery temperature (over {$BATTERY.TEMP.MAX.WARN}C for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Temperature: Critically high battery temperature</name><expression>min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&gt;{$BATTERY.TEMP.MAX.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger><trigger><uuid>e351922a0a8c4c53972d9477d47af528</uuid><expression>max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&lt;{$BATTERY.TEMP.MIN.WARN}</expression><name>Temperature: Low battery temperature</name><event_name>Temperature: Low battery temperature (below {$BATTERY.TEMP.MIN.WARN}C for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Temperature: Critically low battery temperature</name><expression>max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)&lt;{$BATTERY.TEMP.MIN.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>5f238fe557a7412cad5f3864e407284e</uuid><name>Temperature: Heatsink</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.35.0</snmp_oid><key>temp.heatsink[heatsinkTemperature.0]</key><history>7d</history><value_type>FLOAT</value_type><units>C</units><description>MIB: SUNSAVER-MPPT
Description:Battery Temperature
Scaling Factor:1.0
Units:deg C
Range:[-128, 127]
Modbus address:0x000E</description><tags><tag><tag>component</tag><value>temperature</value></tag></tags></item></items><discovery_rules><discovery_rule><uuid>81b324d81e6549d59cbf14163181fb48</uuid><name>Battery voltage discovery</name><type>DEPENDENT</type><key>battery.voltage.discovery</key><delay>0</delay><description>Discovery for battery voltage triggers</description><item_prototypes><item_prototype><uuid>903b96b7eb37482da469fc802d3da1b0</uuid><name>Battery: Voltage{#SINGLETON}</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.33333.3.30.0</snmp_oid><key>battery.voltage[batteryVoltage.0{#SINGLETON}]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: SUNSAVER-MPPT
Description:Control State
Modbus address:0x0011</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.003051757813</parameter></parameters></step><step><type>REGEX</type><parameters><parameter>^(\d+)(\.\d{1,2})?</parameter><parameter>\1\2</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>battery</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>bf4ad2cee8cf41baafa3d81df5fbe4d3</uuid><expression>min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&gt;{#VOLTAGE.MAX.CRIT}</expression><name>Battery: Critically high battery voltage</name><event_name>Battery: Critically high battery voltage (over {#VOLTAGE.MAX.CRIT}V for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>2aedfef9b8764881a4768e6b32793820</uuid><expression>max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&lt;{#VOLTAGE.MIN.CRIT}</expression><name>Battery: Critically low battery voltage</name><event_name>Battery: Critically low battery voltage (below {#VOLTAGE.MIN.CRIT}V for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>bec4c7a6a1ab44a4adc8e4286b9a41d9</uuid><expression>min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&gt;{#VOLTAGE.MAX.WARN}</expression><name>Battery: High battery voltage</name><event_name>Battery: High battery voltage (over {#VOLTAGE.MAX.WARN}V for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Battery: Critically high battery voltage</name><expression>min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&gt;{#VOLTAGE.MAX.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>c06425d8a0a24b5f80fd0591be61b3f0</uuid><expression>max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&lt;{#VOLTAGE.MIN.WARN}</expression><name>Battery: Low battery voltage</name><event_name>Battery: Low battery voltage (below {#VOLTAGE.MIN.WARN}V for 5m)</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Battery: Critically low battery voltage</name><expression>max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)&lt;{#VOLTAGE.MIN.CRIT}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>b3520796c85a45df954633bc5f87d80b</uuid><name>Voltage: Battery/Load{#SINGLETON}</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>battery.voltage[batteryVoltage.0{#SINGLETON}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>load.voltage[loadVoltage.0]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>battery.voltage.discovery[batteryVoltage.0]</key></master_item><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var v_range = [
      [[0, 18], [12, 15, 11.5, 15.5]],
      [[18, 36], [24, 30, 23, 31]],
      [[36, 99], [48, 60, 46, 62]],
  ],
  result = [];

for (var idx in v_range) {
    if (v_range[idx][0][0] &lt; value &amp;&amp; value &lt;= v_range[idx][0][1]) {
        result = [{
            '{#VOLTAGE.MIN.WARN}': parseInt({$VOLTAGE.MIN.WARN}) || v_range[idx][1][0],
            '{#VOLTAGE.MAX.WARN}': parseInt({$VOLTAGE.MAX.WARN}) || v_range[idx][1][1],
            '{#VOLTAGE.MIN.CRIT}': parseInt({$VOLTAGE.MIN.CRIT}) || v_range[idx][1][2],
            '{#VOLTAGE.MAX.CRIT}': parseInt({$VOLTAGE.MAX.CRIT}) || v_range[idx][1][3],
            '{#SINGLETON}': ''
        }];
        break;
    }
}

return JSON.stringify(result);</parameter></parameters></step></preprocessing></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>power</value></tag><tag><tag>target</tag><value>morningstar</value></tag></tags><macros><macro><macro>{$BATTERY.TEMP.MAX.CRIT}</macro><value>60</value><description>Battery high temperature critical value</description></macro><macro><macro>{$BATTERY.TEMP.MAX.WARN}</macro><value>45</value><description>Battery high temperature warning value</description></macro><macro><macro>{$BATTERY.TEMP.MIN.CRIT}</macro><value>-20</value><description>Battery low temperature critical value</description></macro><macro><macro>{$BATTERY.TEMP.MIN.WARN}</macro><value>0</value><description>Battery low temperature warning value</description></macro><macro><macro>{$CHARGE.STATE.CRIT}</macro><value>4</value><description>fault</description></macro><macro><macro>{$CHARGE.STATE.WARN}</macro><value>2</value><description>disconnect</description></macro><macro><macro>{$LOAD.STATE.CRIT:&quot;fault&quot;}</macro><value>4</value><description>fault</description></macro><macro><macro>{$LOAD.STATE.CRIT:&quot;lvd&quot;}</macro><value>3</value><description>lvd</description></macro><macro><macro>{$LOAD.STATE.WARN:&quot;disconnect&quot;}</macro><value>5</value><description>disconnect</description></macro><macro><macro>{$LOAD.STATE.WARN:&quot;lvdWarning&quot;}</macro><value>2</value><description>lvdWarning</description></macro><macro><macro>{$LOAD.STATE.WARN:&quot;override&quot;}</macro><value>7</value><description>override</description></macro><macro><macro>{$VOLTAGE.MAX.CRIT}</macro></macro><macro><macro>{$VOLTAGE.MAX.WARN}</macro></macro><macro><macro>{$VOLTAGE.MIN.CRIT}</macro></macro><macro><macro>{$VOLTAGE.MIN.WARN}</macro></macro></macros><valuemaps><valuemap><uuid>b51b9440e801481fbb76f28b4a5431d1</uuid><name>SunSaver MPPT charge state</name><mappings><mapping><value>0</value><newvalue>Start</newvalue></mapping><mapping><value>1</value><newvalue>NightCheck</newvalue></mapping><mapping><value>2</value><newvalue>Disconnect</newvalue></mapping><mapping><value>3</value><newvalue>Night</newvalue></mapping><mapping><value>4</value><newvalue>Fault</newvalue></mapping><mapping><value>5</value><newvalue>BulkMppt</newvalue></mapping><mapping><value>6</value><newvalue>Pwm</newvalue></mapping><mapping><value>7</value><newvalue>Float</newvalue></mapping><mapping><value>8</value><newvalue>Equalize</newvalue></mapping></mappings></valuemap><valuemap><uuid>f21076ed51104b84ba4d78dd74bd1a5b</uuid><name>SunSaver MPPT load state</name><mappings><mapping><value>0</value><newvalue>Start</newvalue></mapping><mapping><value>1</value><newvalue>Normal</newvalue></mapping><mapping><value>2</value><newvalue>LvdWarning</newvalue></mapping><mapping><value>3</value><newvalue>Lvd</newvalue></mapping><mapping><value>4</value><newvalue>Fault</newvalue></mapping><mapping><value>5</value><newvalue>Disconnect</newvalue></mapping><mapping><value>6</value><newvalue>NormalOff</newvalue></mapping><mapping><value>7</value><newvalue>Override</newvalue></mapping><mapping><value>8</value><newvalue>NotUsed</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>fd5dcb256d4547da9c432c1b9c01b0ae</uuid><expression>(last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)&gt;0 and last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)&lt;10m) or (last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)=0 and last(/Morningstar SunSaver MPPT by SNMP/status.net.uptime)&lt;10m)</expression><name>Status: Device has been restarted</name><event_name>Status: Device has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers><graphs><graph><uuid>6090c266226d431193b00fb3db49ae07</uuid><name>Array: Voltage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>array.sweep_vmp[arrayVmp.0]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>array.sweep_voc[arrayVoc.0]</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>array.voltage[arrayVoltage.0]</key></item></graph_item></graph_items></graph><graph><uuid>ad5b73c7352747a6930c9d8647f70bf1</uuid><name>Current: Charge/Load</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>charge.current[chargeCurrent.0]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>load.current[loadCurrent.0]</key></item></graph_item></graph_items></graph><graph><uuid>7b96265600a748728d881f5dfee485d2</uuid><name>Temperature: Ambient/Battery/Heatsink</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>temp.ambient[ambientTemperature.0]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>temp.battery[batteryTemperature.0]</key></item></graph_item><graph_item><sortorder>2</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Morningstar SunSaver MPPT by SNMP</host><key>temp.heatsink[heatsinkTemperature.0]</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
