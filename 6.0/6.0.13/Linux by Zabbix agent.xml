<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:31Z</date><groups><group><uuid>846977d1dfed4968bc5f8bdb363285bc</uuid><name>Templates/Operating systems</name></group></groups><templates><template><uuid>f8f7908280354f2abeed07dc788c3747</uuid><template>Linux by Zabbix agent</template><name>Linux by Zabbix agent</name><description>Official Linux template. Requires agent of Zabbix 3.0.14, 3.4.5 and 4.0.0 or newer.

Known Issues:

  Description: Network discovery. Zabbix agent as of 4.2 doesn't support items such as net.if.status, net.if.speed.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387225-discussion-thread-for-official-zabbix-template-for-linux

Template tooling version used: 0.41</description><groups><group><name>Templates/Operating systems</name></group></groups><items><item><uuid>df561a0cece94760a78704edf7da7326</uuid><name>Host name of Zabbix agent running</name><key>agent.hostname</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>f94f9f4699e94c369e6c98b2a2f485ce</uuid><name>Zabbix agent ping</name><key>agent.ping</key><history>7d</history><description>The agent always returns 1 for this item. It could be used in combination with nodata() for availability check.</description><valuemap><name>Zabbix agent ping status</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>27c42cf180b44632b5d9b8b5788165b3</uuid><name>Version of Zabbix agent running</name><key>agent.version</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>application</value></tag></tags></item><item><uuid>ef386d03ff2c42ffa236acd5215ad547</uuid><name>Maximum number of open file descriptors</name><key>kernel.maxfiles</key><delay>1h</delay><history>7d</history><description>It could be increased by using sysctl utility or modifying file /etc/sysctl.conf.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>b9bdcf42f54a409a9a9a616dbd0eaed2</uuid><expression>last(/Linux by Zabbix agent/kernel.maxfiles)&lt;{$KERNEL.MAXFILES.MIN}</expression><name>Configured max number of open filedescriptors is too low</name><event_name>Configured max number of open filedescriptors is too low (&lt; {$KERNEL.MAXFILES.MIN})</event_name><priority>INFO</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>678d70c041954ac8982fb5118b49f6e7</uuid><name>Maximum number of processes</name><key>kernel.maxproc</key><delay>1h</delay><history>7d</history><description>It could be increased by using sysctl utility or modifying file /etc/sysctl.conf.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>8cf253ca3eea4109a90443f9cb76fc5c</uuid><expression>last(/Linux by Zabbix agent/kernel.maxproc)&lt;{$KERNEL.MAXPROC.MIN}</expression><name>Configured max number of processes is too low</name><event_name>Configured max number of processes is too low (&lt; {$KERNEL.MAXPROC.MIN})</event_name><priority>INFO</priority><dependencies><dependency><name>Getting closer to process limit</name><expression>last(/Linux by Zabbix agent/proc.num)/last(/Linux by Zabbix agent/kernel.maxproc)*100&gt;80</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>ab7d0471092544a6a950184d1bac906d</uuid><name>Number of processes</name><key>proc.num</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>b2637293884d40108f41b11767dd5be0</uuid><name>Number of running processes</name><key>proc.num[,,run]</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>27cb0f66bb624146acfdd81b58f108a3</uuid><name>System boot time</name><key>system.boottime</key><delay>15m</delay><history>7d</history><units>unixtime</units><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>5d186a46867b4eaaafd6396d3239dd3b</uuid><name>Interrupts per second</name><key>system.cpu.intr</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>48528aa936a04c8189375a6eae4033da</uuid><name>Load average (1m avg)</name><key>system.cpu.load[all,avg1]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>953beb580df8418cb88b667b9dd37259</uuid><name>Load average (5m avg)</name><key>system.cpu.load[all,avg5]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>5716000e38e24dae8ead4ed98ede024b</uuid><name>Load average (15m avg)</name><key>system.cpu.load[all,avg15]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>f72e115544eb4079b09fec8c3539241c</uuid><name>Number of CPUs</name><key>system.cpu.num</key><history>7d</history><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>73e85aa10a704fc7950d2d077f0c54ee</uuid><name>Context switches per second</name><key>system.cpu.switches</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>ca4235ec7607469cb0124a6253d3c489</uuid><name>CPU utilization</name><type>DEPENDENT</type><key>system.cpu.util</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>CPU utilization in %.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>//Calculate utilization
return (100 - value)</parameter></parameters></step></preprocessing><master_item><key>system.cpu.util[,idle]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>b4e904559b694df0ad45bcce7930c3a6</uuid><expression>min(/Linux by Zabbix agent/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression><name>High CPU utilization</name><event_name>High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</event_name><opdata>Current utilization: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU utilization is too high. The system might be slow to respond.</description><dependencies><dependency><name>Load average is too high</name><expression>min(/Linux by Zabbix agent/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent/system.cpu.load[all,avg15])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>69b187838fb74f319e47c2ff4f99ef54</uuid><name>CPU guest time</name><key>system.cpu.util[,guest]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Guest  time (time  spent  running  a  virtual  CPU  for  a  guest  operating  system).</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>a2b07497f2f343a99d26ad77e65bb54f</uuid><name>CPU guest nice time</name><key>system.cpu.util[,guest_nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Time spent running a niced guest (virtual CPU for guest operating systems under the control of the Linux kernel).</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>7aad6d159baa4a24901847144f0d231b</uuid><name>CPU idle time</name><key>system.cpu.util[,idle]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent doing nothing.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>cc4bc7693ae84f9bb18cee38d0814195</uuid><name>CPU interrupt time</name><key>system.cpu.util[,interrupt]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing hardware interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>5df67d9162cc437585990cc8708be894</uuid><name>CPU iowait time</name><key>system.cpu.util[,iowait]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Amount of time the CPU has been waiting for I/O to complete.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>8ee6e54c86ba44ab88bb9e83c632c1ed</uuid><name>CPU nice time</name><key>system.cpu.util[,nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that have been niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>a949a36004a449c58bef0cdc9d3fafd6</uuid><name>CPU softirq time</name><key>system.cpu.util[,softirq]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing software interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>3161dbd18e874e69b729c8e903cf7390</uuid><name>CPU steal time</name><key>system.cpu.util[,steal]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of CPU 'stolen' from this virtual machine by the hypervisor for other tasks (such as running another virtual machine).</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>d93097ed5ce74d35b6041ef2b5ba18e8</uuid><name>CPU system time</name><key>system.cpu.util[,system]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running the kernel and its processes.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>57f9e2e34fab41e18e2bc93e786c92c6</uuid><name>CPU user time</name><key>system.cpu.util[,user]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that are not niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>207341f390134e37ad431e2823666eb9</uuid><name>System name</name><key>system.hostname</key><delay>1h</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><description>System host name.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>371a12f95a26438d8da659c84364631b</uuid><expression>last(/Linux by Zabbix agent/system.hostname,#1)&lt;&gt;last(/Linux by Zabbix agent/system.hostname,#2) and length(last(/Linux by Zabbix agent/system.hostname))&gt;0</expression><name>System name has changed</name><event_name>System name has changed (new name: {ITEM.VALUE})</event_name><priority>INFO</priority><description>System name has changed. Ack to close.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>6072902361404672a444841c786875e6</uuid><name>System local time</name><key>system.localtime</key><history>7d</history><units>unixtime</units><description>System local time of the host.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>fb77b6ac381c4b5289584bd91e7da7d5</uuid><expression>fuzzytime(/Linux by Zabbix agent/system.localtime,{$SYSTEM.FUZZYTIME.MAX})=0</expression><name>System time is out of sync</name><event_name>System time is out of sync (diff with Zabbix server &gt; {$SYSTEM.FUZZYTIME.MAX}s)</event_name><priority>WARNING</priority><description>The host system time is different from the Zabbix server time.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>fd21580a151246b0a340bf924c326aa8</uuid><name>Operating system architecture</name><key>system.sw.arch</key><delay>1h</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><description>Operating system architecture of the host.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>5e4c3d14634843e9b7b182e8fc08efbe</uuid><name>Operating system</name><key>system.sw.os</key><delay>1h</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>OS</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>b1998f98c06b49dd8d71e1c6df409371</uuid><expression>last(/Linux by Zabbix agent/system.sw.os,#1)&lt;&gt;last(/Linux by Zabbix agent/system.sw.os,#2) and length(last(/Linux by Zabbix agent/system.sw.os))&gt;0</expression><name>Operating system description has changed</name><priority>INFO</priority><description>Operating system description has changed. Possible reasons that system has been updated or replaced. Ack to close.</description><manual_close>YES</manual_close><dependencies><dependency><name>System name has changed</name><expression>last(/Linux by Zabbix agent/system.hostname,#1)&lt;&gt;last(/Linux by Zabbix agent/system.hostname,#2) and length(last(/Linux by Zabbix agent/system.hostname))&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>58818005e76d46dda14d6592f601ab00</uuid><name>Software installed</name><key>system.sw.packages</key><delay>1h</delay><history>2w</history><trends>0</trends><value_type>TEXT</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>160b82c121b147cbbf18c34dbb01d3ce</uuid><name>Free swap space</name><key>system.swap.size[,free]</key><history>7d</history><units>B</units><description>The free space of swap volume/file in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>ca423242172f4b20ba47c26f4a61aee7</uuid><name>Free swap space in %</name><key>system.swap.size[,pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The free space of swap volume/file in percent.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>102c81b5523c4be0b4beae3cb88ebde1</uuid><name>Total swap space</name><key>system.swap.size[,total]</key><history>7d</history><units>B</units><description>The total space of swap volume/file in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>fc6898682f904c57ba28bcb3748b237f</uuid><name>System description</name><key>system.uname</key><delay>15m</delay><history>2w</history><trends>0</trends><value_type>CHAR</value_type><description>The information as normally returned by 'uname -a'.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>8537f6c6ac6b438c80caf227946df891</uuid><name>System uptime</name><key>system.uptime</key><delay>30s</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>System uptime in 'N days, hh:mm:ss' format.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>1dbab80d7b6847e5b5a676cffba0fd1d</uuid><expression>last(/Linux by Zabbix agent/system.uptime)&lt;10m</expression><name>has been restarted</name><event_name>{HOST.NAME} has been restarted (uptime &lt; 10m)</event_name><priority>WARNING</priority><description>The host uptime is less than 10 minutes</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>88056b3d2e424d5aba7cabcd4b043c9e</uuid><name>Number of logged in users</name><key>system.users.num</key><history>7d</history><description>Number of users who are currently logged in.</description><tags><tag><tag>component</tag><value>environment</value></tag></tags></item><item><uuid>3b93d3590df24a46b29f6eb06f5e2446</uuid><name>Checksum of /etc/passwd</name><key>vfs.file.cksum[/etc/passwd,sha256]</key><delay>15m</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>security</value></tag></tags><triggers><trigger><uuid>3a764881727b4e7eb01e137ccfc968a2</uuid><expression>last(/Linux by Zabbix agent/vfs.file.cksum[/etc/passwd,sha256],#1)&lt;&gt;last(/Linux by Zabbix agent/vfs.file.cksum[/etc/passwd,sha256],#2)</expression><name>/etc/passwd has been changed</name><priority>INFO</priority><manual_close>YES</manual_close><dependencies><dependency><name>Operating system description has changed</name><expression>last(/Linux by Zabbix agent/system.sw.os,#1)&lt;&gt;last(/Linux by Zabbix agent/system.sw.os,#2) and length(last(/Linux by Zabbix agent/system.sw.os))&gt;0</expression></dependency><dependency><name>System name has changed</name><expression>last(/Linux by Zabbix agent/system.hostname,#1)&lt;&gt;last(/Linux by Zabbix agent/system.hostname,#2) and length(last(/Linux by Zabbix agent/system.hostname))&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>e811e6e2ae84461294e121f12e767b40</uuid><name>Available memory</name><key>vm.memory.size[available]</key><history>7d</history><units>B</units><description>Available memory, in Linux, available = free + buffers + cache. On other platforms calculation may vary. See also Appendixes in Zabbix Documentation about parameters of the vm.memory.size item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>20779a4c43374e5f9bea2584e93b85ef</uuid><name>Available memory in %</name><key>vm.memory.size[pavailable]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Available memory as percentage of total. See also Appendixes in Zabbix Documentation about parameters of the vm.memory.size item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>d5c3541a7c0949ce812df1beb0732941</uuid><name>Total memory</name><key>vm.memory.size[total]</key><history>7d</history><units>B</units><description>Total memory in Bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>403cebed115441369e94d35d070ca7b8</uuid><name>Memory utilization</name><type>DEPENDENT</type><key>vm.memory.utilization</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Memory used percentage is calculated as (100-pavailable)</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return (100-value);</parameter></parameters></step></preprocessing><master_item><key>vm.memory.size[pavailable]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag></tags><triggers><trigger><uuid>cfd395b1cde74ef18a5e5f840bd5142a</uuid><expression>min(/Linux by Zabbix agent/vm.memory.utilization,5m)&gt;{$MEMORY.UTIL.MAX}</expression><name>High memory utilization</name><event_name>High memory utilization (&gt;{$MEMORY.UTIL.MAX}% for 5m)</event_name><priority>AVERAGE</priority><description>The system is running out of free memory.</description><dependencies><dependency><name>Lack of available memory</name><expression>max(/Linux by Zabbix agent/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent/vm.memory.size[total])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>ca48c53be1bf46ae9dd2707158a55139</uuid><name>Zabbix agent availability</name><type>INTERNAL</type><key>zabbix[host,agent,available]</key><history>7d</history><description>Monitoring the availability status of the agent.</description><valuemap><name>zabbix.host.available</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>93594214371b4dc88b41663cad8537f0</uuid><expression>max(/Linux by Zabbix agent/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0</expression><name>Zabbix agent is not available</name><event_name>Zabbix agent is not available (for {$AGENT.TIMEOUT})</event_name><priority>AVERAGE</priority><description>For passive only agents, host availability is used with {$AGENT.TIMEOUT} as time threshold.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>acfdea9c46ef48c68e6636f43b8f96a2</uuid><name>Network interface discovery</name><key>net.if.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of network interfaces.</description><item_prototypes><item_prototype><uuid>4d66608e190e4be7a438ea5d0d26e353</uuid><name>Interface {#IFNAME}: Inbound packets discarded</name><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>ed79960ca91f4e2ca45fed014a02c50b</uuid><name>Interface {#IFNAME}: Inbound packets with errors</name><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c9941a1f8d904309b581cae5ccc1660c</uuid><name>Interface {#IFNAME}: Bits received</name><key>net.if.in[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>0795a375a41d46a2b5c89547061cec8e</uuid><name>Interface {#IFNAME}: Outbound packets discarded</name><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>f8e8bbc069414e928a5da9817f4599a5</uuid><name>Interface {#IFNAME}: Outbound packets with errors</name><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>82897d99b0114c67b0f5b449c768c8e7</uuid><name>Interface {#IFNAME}: Bits sent</name><key>net.if.out[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>3efd24ad36b04eb995cfeab82721c2fe</uuid><name>Interface {#IFNAME}: Operational status</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;]</key><history>7d</history><trends>0</trends><description>Reference: https://www.kernel.org/doc/Documentation/networking/operstates.txt</description><valuemap><name>ifOperStatus</name></valuemap><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var newvalue;
switch(value) {
  case &quot;unknown&quot;:
    newvalue = 0;
    break;
  case &quot;notpresent&quot;:
    newvalue = 1;
    break;
  case &quot;down&quot;:
    newvalue = 2;
    break;
  case &quot;lowerlayerdown&quot;:
    newvalue = 3;
    break;
  case &quot;testing&quot;:
    newvalue = 4;
    break;
  case &quot;dormant&quot;:
    newvalue = 5;
    break;
  case &quot;up&quot;:
    newvalue = 6;
    break;  default:
    newvalue = &quot;Problem parsing interface operstate in JS&quot;;
}
return newvalue;</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>4d7f18ca132340b885c0692464dc429f</uuid><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression><name>Interface {#IFNAME}: Link down</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>This trigger expression works as follows:
1. Can be triggered if operations status is down.
2. {$IFCONTROL:&quot;{#IFNAME}&quot;}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)

WARNING: if closed manually - won't fire again on next poll, because of .diff.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>f4c456e1f9ef4adbbd11f1ee17fa4d76</uuid><name>Interface {#IFNAME}: Speed</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]</key><delay>5m</delay><history>7d</history><trends>0d</trends><units>bps</units><description>Indicates the interface latest or current speed value. Value is an integer representing the link speed in bits/sec.
This attribute is only valid for interfaces that implement the ethtool get_link_ksettings method (mostly Ethernet).
Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>1000000</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>d537e74070c74e4385ad241e8514dd3a</uuid><name>Interface {#IFNAME}: Interface type</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;]</key><delay>1h</delay><history>7d</history><trends>0d</trends><description>Indicates the interface protocol type as a decimal value.
See include/uapi/linux/if_arp.h for all possible values.
Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><valuemap><name>Linux::Interface protocol types</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>2ffdc1d5a318492bb497facd263843bd</uuid><expression>change(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&lt;0 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0
and
(last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=6 or last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=1)
and
(last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>(change(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;],#2)&gt;0) or
(last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2)</recovery_expression><name>Interface {#IFNAME}: Ethernet has changed to lower speed than it was before</name><opdata>Current reported speed: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Ack to close.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>f64186d30b4e4c4281fce84349cbd646</uuid><expression>(avg(/Linux by Zabbix agent/net.if.in[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) or
avg(/Linux by Zabbix agent/net.if.out[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])) and
last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>avg(/Linux by Zabbix agent/net.if.in[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) and
avg(/Linux by Zabbix agent/net.if.out[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])</recovery_expression><name>Interface {#IFNAME}: High bandwidth usage</name><event_name>Interface {#IFNAME}: High bandwidth usage (&gt;{$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}%)</event_name><opdata>In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>The network interface utilization is close to its estimated maximum bandwidth.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>ad50aecf8e7746b2a85f24507f1d511d</uuid><expression>min(/Linux by Zabbix agent/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}
or min(/Linux by Zabbix agent/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>max(/Linux by Zabbix agent/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8
and max(/Linux by Zabbix agent/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8</recovery_expression><name>Interface {#IFNAME}: High error rate</name><event_name>Interface {#IFNAME}: High error rate (&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} for 5m)</event_name><opdata>errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>Recovers when below 80% of {$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} threshold</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>50ced0f22d9d478eb4b639ef64e242ab</uuid><name>Interface {#IFNAME}: Network traffic</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>net.if.in[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>net.if.out[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><uuid>2bbdc79f082d4c618e01bec625e9c90a</uuid><name>Block devices discovery</name><key>vfs.dev.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#DEVTYPE}</macro><value>disk</value><formulaid>C</formulaid></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.MATCHES}</value><formulaid>B</formulaid></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>5e29abb8d56044f69426ed3594f8ac9f</uuid><name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name><type>DEPENDENT</type><key>vfs.dev.queue_size[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Current average disk queue, the number of requests outstanding on the disk at the time the performance data is collected.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[10]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>9600208af80e4a6abe55bb5a2240ea8e</uuid><name>{#DEVNAME}: Disk read request avg waiting time (r_await)</name><type>CALCULATED</type><key>vfs.dev.read.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.read.time.rate[{#DEVNAME}])/(last(//vfs.dev.read.rate[{#DEVNAME}])+(last(//vfs.dev.read.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.read.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two boolean expressions that evaluates to 1 or 0 in order to set calculated metric to zero and to avoid division by zero exception.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>f4b982d8e7ee47adb34d74d817db43a6</uuid><name>{#DEVNAME}: Disk read rate</name><type>DEPENDENT</type><key>vfs.dev.read.rate[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!r/s</units><description>r/s. The number (after merges) of read requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[0]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>877a3e892d9e489f98f2f16ea05bfdc2</uuid><name>{#DEVNAME}: Disk read time (rate)</name><type>DEPENDENT</type><key>vfs.dev.read.time.rate[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Rate of total read time counter. Used in r_await calculation</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[3]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>4a3ee3166ee748e1855a2b02d44e9d62</uuid><name>{#DEVNAME}: Disk utilization</name><type>DEPENDENT</type><key>vfs.dev.util[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>This item is the percentage of elapsed time that the selected disk drive was busy servicing read or writes requests.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[9]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.1</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>5907708cf4854d48ae3ebf8f0bc41eef</uuid><name>{#DEVNAME}: Disk write request avg waiting time (w_await)</name><type>CALCULATED</type><key>vfs.dev.write.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.write.time.rate[{#DEVNAME}])/(last(//vfs.dev.write.rate[{#DEVNAME}])+(last(//vfs.dev.write.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.write.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two boolean expressions that evaluates to 1 or 0 in order to set calculated metric to zero and to avoid division by zero exception.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c4eb904dfddd4b0f8cdee4b2c477e213</uuid><name>{#DEVNAME}: Disk write rate</name><type>DEPENDENT</type><key>vfs.dev.write.rate[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!w/s</units><description>w/s. The number (after merges) of write requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[4]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>e828495863304b219e24965f7b91e963</uuid><name>{#DEVNAME}: Disk write time (rate)</name><type>DEPENDENT</type><key>vfs.dev.write.time.rate[{#DEVNAME}]</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Rate of total write time counter. Used in w_await calculation</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[7]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>8309fd01a5864ad68866717d0fe67080</uuid><name>{#DEVNAME}: Get stats</name><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key><history>0</history><trends>0</trends><value_type>TEXT</value_type><description>Get contents of /sys/block/{#DEVNAME}/stat for disk stats.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(value.trim().split(/ +/));</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>eb6230f786d04b658ce62c30a9309a34</uuid><expression>min(/Linux by Zabbix agent/vfs.dev.read.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} or min(/Linux by Zabbix agent/vfs.dev.write.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk read/write request responses are too high</name><event_name>{#DEVNAME}: Disk read/write request responses are too high (read &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m or write &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m)</event_name><priority>WARNING</priority><description>This trigger might indicate disk {#DEVNAME} saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>5e9b35b27b90489390d397758fbfdf64</uuid><name>{#DEVNAME}: Disk average waiting time</name><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>vfs.dev.read.await[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>vfs.dev.write.await[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>d436d6d5456c44f0a534bf1f681d5039</uuid><name>{#DEVNAME}: Disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>vfs.dev.read.rate[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>vfs.dev.write.rate[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>c42e4045e0974e89a306c57fb188c4fa</uuid><name>{#DEVNAME}: Disk utilization and queue</name><graph_items><graph_item><color>1A7C11</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>vfs.dev.queue_size[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>vfs.dev.util[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>7d090603037e4defb34ef74021d3adcd</uuid><name>Mounted filesystem discovery</name><key>vfs.fs.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.MATCHES}</value><formulaid>C</formulaid></condition><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>D</formulaid></condition><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>Discovery of file systems of different types.</description><item_prototypes><item_prototype><uuid>4da7f08a979a46df8b8aeebb42a46207</uuid><name>{#FSNAME}: Free inodes in %</name><key>vfs.fs.inode[{#FSNAME},pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>115b2d37807f476faf6d02ef406acabd</uuid><expression>min(/Linux by Zabbix agent/vfs.fs.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>It may become impossible to write to disk if there are no index nodes left.
As symptoms, 'No space left on device' or 'Disk is full' errors may be seen even though free space is available.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>ea012c7295344ffe8c66f7ea54d81042</uuid><expression>min(/Linux by Zabbix agent/vfs.fs.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>It may become impossible to write to disk if there are no index nodes left.
As symptoms, 'No space left on device' or 'Disk is full' errors may be seen even though free space is available.</description><dependencies><dependency><name>{#FSNAME}: Running out of free inodes</name><expression>min(/Linux by Zabbix agent/vfs.fs.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>61ffe6fcb9d94199aaeb5d568ab74a27</uuid><name>{#FSNAME}: Space utilization</name><key>vfs.fs.size[{#FSNAME},pused]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Space utilization in % for {#FSNAME}</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>a6d90e0bc5ef4fb7acee8682687c485f</uuid><name>{#FSNAME}: Total space</name><key>vfs.fs.size[{#FSNAME},total]</key><history>7d</history><units>B</units><description>Total space in Bytes</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>efee06a191aa4e5c8faa2762988b6955</uuid><name>{#FSNAME}: Used space</name><key>vfs.fs.size[{#FSNAME},used]</key><history>7d</history><units>B</units><description>Used storage in Bytes</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>9abccdfff8be4e14967ac917ca09afe1</uuid><expression>last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},total])-last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is critically low</name><event_name>{#FSNAME}: Disk space is critically low (used &gt; {$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>AVERAGE</priority><description>Two conditions should match: First, space utilization should be above {$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}.
 Second condition should be one of the following:
 - The disk free space is less than {$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;}.
 - The disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>d6d348ea500c428da6ba718816c4b048</uuid><expression>last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},total])-last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is low</name><event_name>{#FSNAME}: Disk space is low (used &gt; {$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>WARNING</priority><description>Two conditions should match: First, space utilization should be above {$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}.
 Second condition should be one of the following:
 - The disk free space is less than {$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;}.
 - The disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><dependencies><dependency><name>{#FSNAME}: Disk space is critically low</name><expression>last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},total])-last(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent/vfs.fs.size[{#FSNAME},pused],1h,100)&lt;1d)</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>1e0889c551584013acbb97c84ae89d1c</uuid><name>{#FSNAME}: Disk space usage</name><width>600</width><height>340</height><type>PIE</type><show_3d>YES</show_3d><graph_items><graph_item><color>969696</color><calc_fnc>LAST</calc_fnc><type>GRAPH_SUM</type><item><host>Linux by Zabbix agent</host><key>vfs.fs.size[{#FSNAME},total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>C80000</color><calc_fnc>LAST</calc_fnc><item><host>Linux by Zabbix agent</host><key>vfs.fs.size[{#FSNAME},used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><overrides><override><name>Skip metadata collection for dynamic FS</name><step>1</step><filter><conditions><condition><macro>{#FSTYPE}</macro><value>^(btrfs|zfs)$</value><formulaid>A</formulaid></condition></conditions></filter><operations><operation><operationobject>ITEM_PROTOTYPE</operationobject><operator>LIKE</operator><value>inode</value><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>os</value></tag><tag><tag>target</tag><value>linux</value></tag></tags><macros><macro><macro>{$AGENT.TIMEOUT}</macro><value>3m</value><description>Timeout after which agent is considered unavailable. Works only for agents reachable from Zabbix server/proxy (passive mode).</description></macro><macro><macro>{$CPU.UTIL.CRIT}</macro><value>90</value></macro><macro><macro>{$IF.ERRORS.WARN}</macro><value>2</value></macro><macro><macro>{$IF.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in interface utilization trigger.</description></macro><macro><macro>{$IFCONTROL}</macro><value>1</value></macro><macro><macro>{$KERNEL.MAXFILES.MIN}</macro><value>256</value></macro><macro><macro>{$KERNEL.MAXPROC.MIN}</macro><value>1024</value></macro><macro><macro>{$LOAD_AVG_PER_CPU.MAX.WARN}</macro><value>1.5</value><description>Load per CPU considered sustainable. Tune if needed.</description></macro><macro><macro>{$MEMORY.AVAILABLE.MIN}</macro><value>20M</value><description>This macro is used as a threshold in memory available trigger.</description></macro><macro><macro>{$MEMORY.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in memory utilization trigger.</description></macro><macro><macro>{$NET.IF.IFNAME.MATCHES}</macro><value>^.*$</value></macro><macro><macro>{$NET.IF.IFNAME.NOT_MATCHES}</macro><value>(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9A-z]+$|docker[0-9]+|br-[a-z0-9]{12})</value><description>Filter out loopbacks, nulls, docker veth links and docker0 bridge by default</description></macro><macro><macro>{$SWAP.PFREE.MIN.WARN}</macro><value>50</value></macro><macro><macro>{$SYSTEM.FUZZYTIME.MAX}</macro><value>60</value></macro><macro><macro>{$VFS.DEV.DEVNAME.MATCHES}</macro><value>.+</value><description>This macro is used in block devices discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro><value>^(loop[0-9]*|sd[a-z][0-9]+|nbd[0-9]+|sr[0-9]+|fd[0-9]+|dm-[0-9]+|ram[0-9]+|ploop[a-z0-9]+|md[0-9]*|hcp[0-9]*|zram[0-9]*)</value><description>This macro is used in block devices discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.DEV.READ.AWAIT.WARN}</macro><value>20</value><description>Disk read average response time (in ms) before the trigger would fire</description></macro><macro><macro>{$VFS.DEV.WRITE.AWAIT.WARN}</macro><value>20</value><description>Disk write average response time (in ms) before the trigger would fire</description></macro><macro><macro>{$VFS.FS.FREE.MIN.CRIT}</macro><value>5G</value><description>The critical threshold of the filesystem utilization.</description></macro><macro><macro>{$VFS.FS.FREE.MIN.WARN}</macro><value>10G</value><description>The warning threshold of the filesystem utilization.</description></macro><macro><macro>{$VFS.FS.FSNAME.MATCHES}</macro><value>.+</value><description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.FS.FSNAME.NOT_MATCHES}</macro><value>^(/dev|/sys|/run|/proc|.+/shm$)</value><description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.FS.FSTYPE.MATCHES}</macro><value>^(btrfs|ext2|ext3|ext4|reiser|xfs|ffs|ufs|jfs|jfs2|vxfs|hfs|apfs|refs|ntfs|fat32|zfs)$</value><description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.FS.FSTYPE.NOT_MATCHES}</macro><value>^\s$</value><description>This macro is used in filesystems discovery. Can be overridden on the host or linked template level</description></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.CRIT}</macro><value>10</value></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.WARN}</macro><value>20</value></macro><macro><macro>{$VFS.FS.PUSED.MAX.CRIT}</macro><value>90</value></macro><macro><macro>{$VFS.FS.PUSED.MAX.WARN}</macro><value>80</value></macro></macros><dashboards><dashboard><uuid>14aa11c326a54ec390d4c209d30cc741</uuid><name>Network interfaces</name><pages><page><widgets><widget><type>GRAPH_PROTOTYPE</type><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>Interface {#IFNAME}: Network traffic</name></value></field></fields></widget></widgets></page></pages></dashboard><dashboard><uuid>e9ca2f8e715f428b8edc0129aa0c79de</uuid><name>System performance</name><pages><page><widgets><widget><type>GRAPH_CLASSIC</type><width>12</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>System load</name></value></field></fields></widget><widget><type>GRAPH_CLASSIC</type><x>12</x><width>12</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>CPU usage</name></value></field></fields></widget><widget><type>GRAPH_CLASSIC</type><y>5</y><width>12</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>Memory usage</name></value></field></fields></widget><widget><type>GRAPH_CLASSIC</type><x>12</x><y>5</y><width>12</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>0</value></field><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>Swap usage</name></value></field></fields></widget><widget><type>GRAPH_PROTOTYPE</type><y>10</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>{#FSNAME}: Disk space usage</name></value></field></fields></widget><widget><type>GRAPH_PROTOTYPE</type><y>15</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>{#DEVNAME}: Disk read/write rates</name></value></field></fields></widget><widget><type>GRAPH_PROTOTYPE</type><y>20</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>{#DEVNAME}: Disk average waiting time</name></value></field></fields></widget><widget><type>GRAPH_PROTOTYPE</type><y>25</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>{#DEVNAME}: Disk utilization and queue</name></value></field></fields></widget><widget><type>GRAPH_PROTOTYPE</type><y>30</y><width>24</width><height>5</height><fields><field><type>INTEGER</type><name>source_type</name><value>2</value></field><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent</host><name>Interface {#IFNAME}: Network traffic</name></value></field></fields></widget></widgets></page></pages></dashboard></dashboards><valuemaps><valuemap><uuid>8c048c6cca8248f2860c208e8db0f59e</uuid><name>ifOperStatus</name><mappings><mapping><value>0</value><newvalue>unknown</newvalue></mapping><mapping><value>1</value><newvalue>notpresent</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>lowerlayerdown</newvalue></mapping><mapping><value>4</value><newvalue>testing</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>up</newvalue></mapping></mappings></valuemap><valuemap><uuid>044df261808442a8af9e5cda0acaa6a5</uuid><name>Linux::Interface protocol types</name><mappings><mapping><value>0</value><newvalue>from KA9Q: NET/ROM pseudo</newvalue></mapping><mapping><value>1</value><newvalue>Ethernet</newvalue></mapping><mapping><value>2</value><newvalue>Experimental Ethernet</newvalue></mapping><mapping><value>3</value><newvalue>AX.25 Level 2</newvalue></mapping><mapping><value>4</value><newvalue>PROnet token ring</newvalue></mapping><mapping><value>5</value><newvalue>Chaosnet</newvalue></mapping><mapping><value>6</value><newvalue>IEEE 802.2 Ethernet/TR/TB</newvalue></mapping><mapping><value>7</value><newvalue>ARCnet</newvalue></mapping><mapping><value>8</value><newvalue>APPLEtalk</newvalue></mapping><mapping><value>15</value><newvalue>Frame Relay DLCI</newvalue></mapping><mapping><value>19</value><newvalue>ATM</newvalue></mapping><mapping><value>23</value><newvalue>Metricom STRIP (new IANA id)</newvalue></mapping><mapping><value>24</value><newvalue>IEEE 1394 IPv4 - RFC 2734</newvalue></mapping><mapping><value>27</value><newvalue>EUI-64</newvalue></mapping><mapping><value>32</value><newvalue>InfiniBand</newvalue></mapping><mapping><value>256</value><newvalue>ARPHRD_SLIP</newvalue></mapping><mapping><value>257</value><newvalue>ARPHRD_CSLIP</newvalue></mapping><mapping><value>258</value><newvalue>ARPHRD_SLIP6</newvalue></mapping><mapping><value>259</value><newvalue>ARPHRD_CSLIP6</newvalue></mapping><mapping><value>260</value><newvalue>Notional KISS type</newvalue></mapping><mapping><value>264</value><newvalue>ARPHRD_ADAPT</newvalue></mapping><mapping><value>270</value><newvalue>ARPHRD_ROSE</newvalue></mapping><mapping><value>271</value><newvalue>CCITT X.25</newvalue></mapping><mapping><value>272</value><newvalue>Boards with X.25 in firmware</newvalue></mapping><mapping><value>280</value><newvalue>Controller Area Network</newvalue></mapping><mapping><value>512</value><newvalue>ARPHRD_PPP</newvalue></mapping><mapping><value>513</value><newvalue>Cisco HDLC</newvalue></mapping><mapping><value>516</value><newvalue>LAPB</newvalue></mapping><mapping><value>517</value><newvalue>Digital's DDCMP protocol</newvalue></mapping><mapping><value>518</value><newvalue>Raw HDLC</newvalue></mapping><mapping><value>519</value><newvalue>Raw IP</newvalue></mapping><mapping><value>768</value><newvalue>IPIP tunnel</newvalue></mapping><mapping><value>769</value><newvalue>IP6IP6 tunnel</newvalue></mapping><mapping><value>770</value><newvalue>Frame Relay Access Device</newvalue></mapping><mapping><value>771</value><newvalue>SKIP vif</newvalue></mapping><mapping><value>772</value><newvalue>Loopback device</newvalue></mapping><mapping><value>773</value><newvalue>Localtalk device</newvalue></mapping><mapping><value>774</value><newvalue>Fiber Distributed Data Interface</newvalue></mapping><mapping><value>775</value><newvalue>AP1000 BIF</newvalue></mapping><mapping><value>776</value><newvalue>sit0 device - IPv6-in-IPv4</newvalue></mapping><mapping><value>777</value><newvalue>IP over DDP tunneller</newvalue></mapping><mapping><value>778</value><newvalue>GRE over IP</newvalue></mapping><mapping><value>779</value><newvalue>PIMSM register interface</newvalue></mapping><mapping><value>780</value><newvalue>High Performance Parallel Interface</newvalue></mapping><mapping><value>781</value><newvalue>Nexus 64Mbps Ash</newvalue></mapping><mapping><value>782</value><newvalue>Acorn Econet</newvalue></mapping><mapping><value>783</value><newvalue>Linux-IrDA</newvalue></mapping><mapping><value>784</value><newvalue>Point to point fibrechannel</newvalue></mapping><mapping><value>785</value><newvalue>Fibrechannel arbitrated loop</newvalue></mapping><mapping><value>786</value><newvalue>Fibrechannel public loop</newvalue></mapping><mapping><value>787</value><newvalue>Fibrechannel fabric</newvalue></mapping><mapping><value>800</value><newvalue>Magic type ident for TR</newvalue></mapping><mapping><value>801</value><newvalue>IEEE 802.11</newvalue></mapping><mapping><value>802</value><newvalue>IEEE 802.11 + Prism2 header</newvalue></mapping><mapping><value>803</value><newvalue>IEEE 802.11 + radiotap header</newvalue></mapping><mapping><value>804</value><newvalue>ARPHRD_IEEE802154</newvalue></mapping><mapping><value>805</value><newvalue>IEEE 802.15.4 network monitor</newvalue></mapping><mapping><value>820</value><newvalue>PhoNet media type</newvalue></mapping><mapping><value>821</value><newvalue>PhoNet pipe header</newvalue></mapping><mapping><value>822</value><newvalue>CAIF media type</newvalue></mapping><mapping><value>823</value><newvalue>GRE over IPv6</newvalue></mapping><mapping><value>824</value><newvalue>Netlink header</newvalue></mapping><mapping><value>825</value><newvalue>IPv6 over LoWPAN</newvalue></mapping><mapping><value>826</value><newvalue>Vsock monitor header</newvalue></mapping></mappings></valuemap><valuemap><uuid>5488e5d78d704b78aee60c60414ce0c3</uuid><name>zabbix.host.available</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>64faba3a883241a88da8833970ac3ab0</uuid><name>Zabbix agent ping status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>ae5269e17d434927bfd6edc09a9a1f4d</uuid><expression>last(/Linux by Zabbix agent/proc.num)/last(/Linux by Zabbix agent/kernel.maxproc)*100&gt;80</expression><name>Getting closer to process limit</name><event_name>Getting closer to process limit (over 80% used)</event_name><opdata>{ITEM.LASTVALUE1} active, {ITEM.LASTVALUE2} limit.</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>f49fc01c5ac945d59455563bdbcc6469</uuid><expression>max(/Linux by Zabbix agent/system.swap.size[,pfree],5m)&lt;{$SWAP.PFREE.MIN.WARN} and last(/Linux by Zabbix agent/system.swap.size[,total])&gt;0</expression><name>High swap space usage</name><event_name>High swap space usage (less than {$SWAP.PFREE.MIN.WARN}% free)</event_name><opdata>Free: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>This trigger is ignored, if there is no swap configured.</description><dependencies><dependency><name>High memory utilization</name><expression>min(/Linux by Zabbix agent/vm.memory.utilization,5m)&gt;{$MEMORY.UTIL.MAX}</expression></dependency><dependency><name>Lack of available memory</name><expression>max(/Linux by Zabbix agent/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent/vm.memory.size[total])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger><trigger><uuid>686470cef97f48f6b017e9fc7a078afe</uuid><expression>max(/Linux by Zabbix agent/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent/vm.memory.size[total])&gt;0</expression><name>Lack of available memory</name><event_name>Lack of available memory (&lt;{$MEMORY.AVAILABLE.MIN} of {ITEM.VALUE2})</event_name><opdata>Available: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>695f0c352377409d95aca3fe76d1cae2</uuid><expression>min(/Linux by Zabbix agent/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent/system.cpu.load[all,avg15])&gt;0</expression><name>Load average is too high</name><event_name>Load average is too high (per CPU load over {$LOAD_AVG_PER_CPU.MAX.WARN} for 5m)</event_name><opdata>Load averages(1m 5m 15m): ({ITEM.LASTVALUE1} {ITEM.LASTVALUE3} {ITEM.LASTVALUE4}), # of CPUs: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><description>Per CPU load average is too high. Your system may be slow to respond.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers><graphs><graph><uuid>4a72646168d545c398c92e09c975a966</uuid><name>CPU jumps</name><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>system.cpu.switches</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>system.cpu.intr</key></item></graph_item></graph_items></graph><graph><uuid>f217c30162b24c9190785fad1ec83b73</uuid><name>CPU usage</name><type>STACKED</type><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,system]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,user]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,nice]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,iowait]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,steal]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,interrupt]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>AC8C14</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,softirq]</key></item></graph_item><graph_item><sortorder>7</sortorder><color>611F27</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,guest]</key></item></graph_item><graph_item><sortorder>8</sortorder><color>F230E0</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util[,guest_nice]</key></item></graph_item></graph_items></graph><graph><uuid>668ae470ea33444bb40e3b83b97659c3</uuid><name>CPU utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>system.cpu.util</key></item></graph_item></graph_items></graph><graph><uuid>f260a63bc3b04c3b80b47f83bb05ed9c</uuid><name>Memory usage</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>vm.memory.size[total]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>vm.memory.size[available]</key></item></graph_item></graph_items></graph><graph><uuid>bac7a8fb7e014696b54d262bf40e5b12</uuid><name>Memory utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>vm.memory.utilization</key></item></graph_item></graph_items></graph><graph><uuid>fa49531c9c3d4087b2205bed6ed0469f</uuid><name>Processes</name><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>proc.num</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>proc.num[,,run]</key></item></graph_item></graph_items></graph><graph><uuid>1ca6e2d883114853bd402110c3fd211e</uuid><name>Swap usage</name><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>system.swap.size[,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>system.swap.size[,total]</key></item></graph_item></graph_items></graph><graph><uuid>1b8cc9470a5040d79090a3e5dfcb0a76</uuid><name>System load</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Linux by Zabbix agent</host><key>system.cpu.load[all,avg1]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Linux by Zabbix agent</host><key>system.cpu.load[all,avg5]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>Linux by Zabbix agent</host><key>system.cpu.load[all,avg15]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent</host><key>system.cpu.num</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
