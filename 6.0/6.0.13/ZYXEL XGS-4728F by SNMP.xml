<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:57Z</date><groups><group><uuid>36bff6c29af64692839d077febfc7079</uuid><name>Templates/Network devices</name></group></groups><templates><template><uuid>ab18a5665b7d4bed876881b5c4e8ce51</uuid><template>ZYXEL XGS-4728F by SNMP</template><name>ZYXEL XGS-4728F by SNMP</name><description>ZYXEL XGS-4728F

MIBs used:
RFC1213-MIB
HOST-RESOURCES-MIB
ZYXEL-XGS4728F-MIB
IF-MIB
 ZYXEL-XGS4728F-MIB

Known Issues:

  Description: Incorrect handling of SNMP bulk requests. Disable the use of bulk requests in the SNMP interface settings.
  Version: all versions firmware
  Device: ZYXEL XGS-4728F

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/422668-discussion-thread-for-official-zabbix-templates-for-zyxel

Template tooling version used: 0.41</description><groups><group><name>Templates/Network devices</name></group></groups><items><item><uuid>8b2b855bc92447dda391d251db268dc9</uuid><name>ZYXEL XGS-4728F: SNMP agent availability</name><type>INTERNAL</type><key>zabbix[host,snmp,available]</key><history>7d</history><valuemap><name>SNMP available</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag></tags><triggers><trigger><uuid>fd9a321842544253896e5a4c1a58ced3</uuid><expression>max(/ZYXEL XGS-4728F by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0</expression><name>ZYXEL XGS-4728F: No SNMP data collection</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>23ae05ce4d5c4022a716ed9e8e701ae9</uuid><name>ZYXEL XGS-4728F: Contact</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.1.4.0</snmp_oid><key>zyxel.4728f.contact</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: RFC1213-MIB
The textual identification of the contact person
for this managed node, together with information
on how to contact this person.</description><inventory_link>CONTACT</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags></item><item><uuid>1cccb7e7616944aa8747508e96f54968</uuid><name>ZYXEL XGS-4728F: CPU utilization</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.12.7.0</snmp_oid><key>zyxel.4728f.cpuusage</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>MIB: ZYXEL-XGS4728F-MIB
Show device CPU load in %, it's the snapshot of CPU load when
getting the values.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>20f368f955f74fc9b8380b1bbff7e057</uuid><expression>min(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.cpuusage,5m)&gt;{$CPU.UTIL.CRIT}</expression><name>ZYXEL XGS-4728F: High CPU utilization</name><event_name>ZYXEL XGS-4728F: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</event_name><opdata>Current utilization: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>CPU utilization is too high. The system might be slow to respond.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>222a051f0b84433faa6f29237b6d1552</uuid><name>ZYXEL XGS-4728F: ZyNOS F/W Version</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMP.ARRAY},.1.3.6.1.4.1.890.1.5.8.46.1]</snmp_oid><key>zyxel.4728f.fwversion</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB</description><inventory_link>SOFTWARE_FULL</inventory_link><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var inArray = JSON.parse(value);
var tmpObj = {};
inArray.forEach(function(item, i, arr) {
  tmpObj[item[&quot;{#SNMPINDEX}&quot;]] = item[&quot;{#SNMP.ARRAY}&quot;]
});
var strOut = 'V' + tmpObj[&quot;1.0&quot;] + '.' + tmpObj[&quot;2.0&quot;]
  + '(' + tmpObj[&quot;3.0&quot;] + '.' + tmpObj[&quot;4.0&quot;] + ')_'
  + tmpObj[&quot;7.0&quot;] + '.' + tmpObj[&quot;6.0&quot;] + '.' + tmpObj[&quot;5.0&quot;];
return strOut;</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags><triggers><trigger><uuid>5da304609e8c45d980c46579f6848f0a</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.fwversion,#1)&lt;&gt;last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.fwversion,#2) and length(last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.fwversion))&gt;0</expression><name>ZYXEL XGS-4728F: Firmware has changed</name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>Firmware version has changed. Ack to close</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>17bdc70663744ede94d7b94602eb881c</uuid><name>ZYXEL XGS-4728F: Uptime (hardware)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.25.1.1.0</snmp_oid><key>zyxel.4728f.hw.uptime</key><delay>30s</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>MIB: HOST-RESOURCES-MIB
The amount of time since this host was last initialized.
Note that this is different from sysUpTime in the SNMPv2-MIB
[RFC1907] because sysUpTime is the uptime of the
network management portion of the system.</description><preprocessing><step><type>CHECK_NOT_SUPPORTED</type><parameters><parameter/></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step><step><type>MULTIPLIER</type><parameters><parameter>0.01</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>cc5065f635bc486cb90898f842fa8a61</uuid><name>ZYXEL XGS-4728F: Location</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.1.6.0</snmp_oid><key>zyxel.4728f.location</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: RFC1213-MIB
The physical location of this node (e.g.,
`telephone closet, 3rd floor').</description><inventory_link>LOCATION</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags></item><item><uuid>9a646e8e82c844c08754c7e72e161712</uuid><name>ZYXEL XGS-4728F: MAC address</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.6.1</snmp_oid><key>zyxel.4728f.mac</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: IF-MIB
The interface's address at the protocol layer
immediately `below' the network layer in the
protocol stack.  For interfaces which do not have
such an address (e.g., a serial line), this object
should contain an octet string of zero length.</description><inventory_link>MACADDRESS_A</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags></item><item><uuid>a152c262c465441da0f1924bc7614a23</uuid><name>ZYXEL XGS-4728F: Hardware model name</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.1.1.0</snmp_oid><key>zyxel.4728f.model</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: RFC1213-MIB
A textual description of the entity.  This value
should include the full name and version
identification of the system's hardware type,
software operating-system, and networking
software.  It is mandatory that this only contain
printable ASCII characters.</description><inventory_link>MODEL</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags><triggers><trigger><uuid>0329f3f5aa6a4315a4f3611ad662103e</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.model)&lt;&gt;&quot;XGS-4728F&quot;</expression><name>ZYXEL XGS-4728F: Template does not match hardware</name><priority>INFO</priority><description>This template is for Zyxel XGS-4728F, but connected to {ITEM.VALUE}</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>49e365a43809409f8d4636f88e4d64a9</uuid><name>ZYXEL XGS-4728F: Host name</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.1.5.0</snmp_oid><key>zyxel.4728f.name</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: RFC1213-MIB
An administratively-assigned name for this
managed node.  By convention, this is the node's
fully-qualified domain name.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags></item><item><uuid>b3302cbfbae64d55a638240ffb368b9c</uuid><name>ZYXEL XGS-4728F: Uptime (network)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid><key>zyxel.4728f.net.uptime</key><delay>30s</delay><history>2w</history><trends>0d</trends><units>uptime</units><description>MIB: RFC1213-MIB
The time (in hundredths of a second) since the
network management portion of the system was last
re-initialized.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.01</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>79c80ac11d854edea93a598c4b28ffc0</uuid><name>ZYXEL XGS-4728F: Hardware serial number</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.1.10.0</snmp_oid><key>zyxel.4728f.serialnumber</key><delay>1h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Serial number</description><inventory_link>SERIALNO_A</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>inventory</value></tag></tags><triggers><trigger><uuid>4df7c31c3079411baabd4ae66e580652</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.serialnumber,#1)&lt;&gt;last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.serialnumber,#2) and length(last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.serialnumber))&gt;0</expression><name>ZYXEL XGS-4728F: Device has been replaced</name><event_name>ZYXEL XGS-4728F: Device has been replaced (new serial number received)</event_name><priority>INFO</priority><description>Device serial number has changed. Ack to close</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>bc0d797343b240bdbd5765dc2e7821fd</uuid><name>Fan discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.FANRPM.THRESH.LOW},.1.3.6.1.4.1.890.1.5.8.46.9.1.1.5]</snmp_oid><key>zyxel.4728f.fan.discovery</key><delay>1h</delay><description>An entry in fanRpmTable.</description><item_prototypes><item_prototype><uuid>6ac1481e18bd419d884a556306e57f18</uuid><name>ZYXEL XGS-4728F: Fan #{#SNMPINDEX}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.9.1.1.2.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.fan[{#SNMPINDEX}]</key><history>7d</history><units>!rpm</units><description>MIB: ZYXEL-XGS4728F-MIB
Current speed in Revolutions Per Minute (RPM) on the fan.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>fan</value></tag><tag><tag>component</tag><value>sensor</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>012219b8b16941b59d1f9a3f685e9f38</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.fan[{#SNMPINDEX}])&lt;{#ZYXEL.FANRPM.THRESH.LOW}</expression><name>ZYXEL XGS-4728F: FAN{#SNMPINDEX} is in critical state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Please check the fan unit</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>96aed516a0254866b0d0b43095b8a5b7</uuid><name>ZYXEL XGS-4728F: Fan #{#SNMPINDEX}</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.fan[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><uuid>06f0e151e2a146028f80e60031d49b48</uuid><name>Memory pool discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.MEMORY.NAME},.1.3.6.1.4.1.890.1.5.8.46.124.1.1.2]</snmp_oid><key>zyxel.4728f.memory.discovery</key><delay>1h</delay><item_prototypes><item_prototype><uuid>ead18ee81f074ab68e4104345e5b4b2b</uuid><name>ZYXEL XGS-4728F: Memory &quot;{#ZYXEL.MEMORY.NAME}&quot; utilization</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.124.1.1.5.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.memory[{#SNMPINDEX}]</key><history>7d</history><units>%</units><description>MIB: ZYXEL-XGS4728F-MIB
Utilization of memory pool in %.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>memory</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>90b328c3b56c417eb938091338bd07fc</uuid><expression>min(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.memory[{#SNMPINDEX}],5m)&gt;{$MEMORY.UTIL.MAX}</expression><name>ZYXEL XGS-4728F: High memory utilization in &quot;{#ZYXEL.MEMORY.NAME}&quot; pool</name><event_name>ZYXEL XGS-4728F: High memory utilization in &quot;{#ZYXEL.MEMORY.NAME}&quot; pool (&gt;{$MEMORY.UTIL.MAX}% for 5m)</event_name><priority>AVERAGE</priority><description>The system is running out of free memory.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><uuid>75a0f2676e134b6e8ab9e8c11ac17d57</uuid><name>Interface discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.IF.NAME},.1.3.6.1.4.1.890.1.5.8.46.23.1.1.3,{#ZYXEL.IF.LINKUPTYPE},.1.3.6.1.4.1.890.1.5.8.46.23.1.1.5]</snmp_oid><key>zyxel.4728f.net.if.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#ZYXEL.IF.NAME}</macro><value>{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}</value><formulaid>C</formulaid></condition><condition><macro>{#ZYXEL.IF.NAME}</macro><value>{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>D</formulaid></condition><condition><macro>{#ZYXEL.IF.LINKUPTYPE}</macro><value>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#ZYXEL.IF.LINKUPTYPE}</macro><value>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><item_prototypes><item_prototype><uuid>36f7fdbfa4164677ad91351be394f050</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Administrative status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.adminstatus[{#SNMPINDEX}]</key><history>7d</history><description>MIB: IF-MIB
The desired state of the interface.  The
testing(3) state indicates that no operational
packets can be passed.</description><valuemap><name>ZYXEL XGS-4728F port admin status</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>dbc94a6eabd64eefbe97f57f8831e834</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Interface name</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.2.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.descr[{#SNMPINDEX}]</key><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: IF-MIB
A textual string containing information about the interface</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>840096d5a418425c851ea7d236b7e34e</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Link speed</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]</key><history>7d</history><units>bps</units><description>MIB: IF-MIB
An estimate of the interface's current bandwidth in bits per second</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>1000000</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>0105dea3226d46f8868aa07aa3f416a2</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Incoming broadcast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.9.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.in.broadcastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The number of packets, delivered by this sub-layer to a
higher (sub-)layer, which were addressed to a broadcast
address at this sub-layer.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>de7b202e7240422dbdbc40e78689e6fe</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Incoming multicast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.8.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.in.multicastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The number of packets, delivered by this sub-layer to a
higher (sub-)layer, which were addressed to a multicast
address at this sub-layer.  For a MAC layer protocol, this
includes both Group and Functional addresses.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>075b04bdaff54a2cafc1b177e59df3be</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Incoming traffic</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.in.traffic[{#SNMPINDEX}]</key><history>7d</history><units>bps</units><description>MIB: IF-MIB
The total number of octets received on the interface,
including framing characters.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>c2a8e3985ed1414789b1bfe226de6d37</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Incoming unicast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.7.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.in.ucastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The number of packets, delivered by this sub-layer to a
higher (sub-)layer, which were not addressed to a multicast
or broadcast address at this sub-layer</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>72f7ee1e5099452aa4804d988adfb7a5</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Incoming utilization</name><type>CALCULATED</type><key>zyxel.4728f.net.if.in.util[{#SNMPINDEX}]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><params>last(//zyxel.4728f.net.if.in.traffic[{#SNMPINDEX}]) * (last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) &lt;&gt; 0) / ( last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) + (last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100</params><description>Interface utilization percentage</description><preprocessing><step><type>IN_RANGE</type><parameters><parameter>0</parameter><parameter>100</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>return +parseFloat(value).toFixed(0);</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>db488317d10e43eea21ecaa74d7a58dc</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Link type</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.23.1.1.5.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.link_type[{#SNMPINDEX}]</key><history>7d</history><description>MIB:  ZYXEL-XGS4728F-MIB
Physical connection type</description><valuemap><name>ZYXEL XGS-4728F operational mode port link up type</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>8877747043f94216b92ef7f097925d8e</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Interface description</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.23.1.1.3.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.name[{#SNMPINDEX}]</key><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB:  ZYXEL-XGS4728F-MIB
A textual string containing information about the interface</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>b091be1b0a8f415b82d73b3537cf6187</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Operational status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.operstatus[{#SNMPINDEX}]</key><history>7d</history><description>MIB: IF-MIB
The current operational state of the interface.
The testing(3) state indicates that no operational
packets can be passed.</description><valuemap><name>ZYXEL XGS-4728F port operational status</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>3f3ce5111d47490382cb0c18e2d36f77</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.net.if.operstatus[{#SNMPINDEX}])=2 and last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.net.if.operstatus[{#SNMPINDEX}],#1)&lt;&gt;last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.net.if.operstatus[{#SNMPINDEX}],#2)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.net.if.operstatus[{#SNMPINDEX}])&lt;&gt;2</recovery_expression><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Link down</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>This trigger expression works as follows:
1. Can be triggered if operations status is down.
2. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)

WARNING: if closed manually - won't fire again on next poll, because of .diff.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>ad7378144b254962aad0a73fb151e097</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Outgoing broadcast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.13.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.out.broadcastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The total number of packets that higher-level protocols
requested be transmitted, and which were addressed to a
broadcast address at this sub-layer, including those that
were discarded or not sent.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>67b776b7f51e4b24bad3b616979d7f98</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Outgoing multicast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.12.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.out.multicastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The total number of packets that higher-level protocols
requested be transmitted, and which were addressed to a
multicast address at this sub-layer, including those that
were discarded or not sent.  For a MAC layer protocol, this
includes both Group and Functional addresses.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>4afef8d3601646f1bfc81090b090c11c</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Outgoing traffic</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.out.traffic[{#SNMPINDEX}]</key><history>7d</history><units>bps</units><description>MIB: IF-MIB
The total number of octets transmitted out of the
interface, including framing characters.  This object is a
64-bit version of ifOutOctets.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>ba1b314aacd0449fa0c9730fdb8ee3f9</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Outgoing unicast packages</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.11.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.out.ucastpkts[{#SNMPINDEX}]</key><history>7d</history><units>packets/s</units><description>MIB: IF-MIB
The total number of packets that higher-level protocols
requested be transmitted, and which were not addressed to a
multicast or broadcast address at this sub-layer, including
those that were discarded or not sent.</description><preprocessing><step><type>CHANGE_PER_SECOND</type><parameters><parameter/></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>7941df5f5b884b33bcda9951e4b0158d</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Outgoing utilization</name><type>CALCULATED</type><key>zyxel.4728f.net.if.out.util[{#SNMPINDEX}]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><params>last(//zyxel.4728f.net.if.out.traffic[{#SNMPINDEX}]) * (last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) &lt;&gt; 0) / ( last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) + (last(//zyxel.4728f.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100</params><description>Interface utilization percentage</description><preprocessing><step><type>IN_RANGE</type><parameters><parameter>0</parameter><parameter>100</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>JAVASCRIPT</type><parameters><parameter>return +parseFloat(value).toFixed(0);</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>f56f1c0cf5d34435895ea489eb71b84a</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Speed Duplex</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.23.1.1.1.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.net.if.speed_duplex[{#SNMPINDEX}]</key><history>7d</history><description>MIB:  ZYXEL-XGS4728F-MIB
Transmission mode</description><valuemap><name>ZYXEL XGS-4728F operational mode port speed duplex</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>18c2bd830caa49308459d64ef85cfc71</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Packets traffic</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.in.ucastpkts[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.out.ucastpkts[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.in.multicastpkts[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.out.multicastpkts[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.in.broadcastpkts[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.out.broadcastpkts[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>a8c07b7801d64c24bfedf10ea193f697</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Traffic</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.in.traffic[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.out.traffic[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>37e8454c3fa04f88be36d875638110c6</uuid><name>ZYXEL XGS-4728F: Port {#SNMPINDEX}: Utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.out.util[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.net.if.in.util[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><overrides><override><name>Don't create triggers for matching interface</name><step>1</step><filter><conditions><condition><macro>{#ZYXEL.IF.NAME}</macro><value>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><operations><operation><operationobject>TRIGGER_PROTOTYPE</operationobject><operator>REGEXP</operator><value>.*</value><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule><discovery_rule><uuid>6e0b5b991865448780e042d98168d72c</uuid><name>SFP with DDM discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.SFP.WARN.MAX},.1.3.6.1.4.1.890.1.5.8.46.117.2.1.5,{#ZYXEL.SFP.WARN.MIN},.1.3.6.1.4.1.890.1.5.8.46.117.2.1.6,{#ZYXEL.SFP.DESCRIPTION},.1.3.6.1.4.1.890.1.5.8.46.117.2.1.8]</snmp_oid><key>zyxel.4728f.sfp.ddm.discovery</key><delay>12h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#ZYXEL.SFP.DESCRIPTION}</macro><value>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#ZYXEL.SFP.DESCRIPTION}</macro><value>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>SFP DDM module discovery.</description><item_prototypes><item_prototype><uuid>0071554e36064f7ea40d680a0c310b27</uuid><name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.2.1.7.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.ddm[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><value_type>FLOAT</value_type><units>!{#ZYXEL.SFP.UNIT}</units><description>MIB: ZYXEL-XGS4728F-MIB
Transceiver module DDM data ({#ZYXEL.SFP.DESCRIPTION}).</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.01</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>6h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>409c52cfed074352810bacfd52aa89f0</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.sfp.ddm[{#SNMPINDEX}]) &gt; {#ZYXEL.SFP.WARN.MAX}</expression><name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION}</name><event_name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION} (over {#ZYXEL.SFP.WARN.MAX}{#ZYXEL.SFP.UNIT})</event_name><priority>WARNING</priority><description>The upper threshold value of the parameter is exceeded</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype><trigger_prototype><uuid>a2c40df40a334f6da00a438eb70f8374</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.sfp.ddm[{#SNMPINDEX}]) &lt; {#ZYXEL.SFP.WARN.MIN}</expression><name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION}</name><event_name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION} (less than {#ZYXEL.SFP.WARN.MIN}{#ZYXEL.SFP.UNIT})</event_name><priority>WARNING</priority><description>The parameter values are less than the lower threshold</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>109ff7d258524b82bdbf4662e612795b</uuid><name>ZYXEL XGS-4728F: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.sfp.ddm[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var inArray = JSON.parse(value);
var nameMap = {
    'Temperature': '°C',
    'Voltage': 'V',
    'TxBias': 'mA',
    'TxPower': 'dbm',
    'RxPower': 'dbm'
};
var outArr = [];
inArray.forEach(function (item, i, arr) {
    item['{#ZYXEL.SFP.PORT}'] = item['{#SNMPINDEX}'].split('.')[0];
    item['{#ZYXEL.SFP.UNIT}'] = nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']] === undefined ? &quot;&quot; : nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']];
    item['{#ZYXEL.SFP.WARN.MAX}'] /= 100;
    item['{#ZYXEL.SFP.WARN.MIN}'] /= 100;
    outArr.push(item)
});
return JSON.stringify(outArr);</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>f8112c4b07ed4bb1b918f58dbb9ec294</uuid><name>SFP without DDM discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.SFP.STATUS},.1.3.6.1.4.1.890.1.5.8.46.117.1.1.2]</snmp_oid><key>zyxel.4728f.sfp.discovery</key><delay>12h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#ZYXEL.SFP.STATUS}</macro><value>{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}</value><formulaid>A</formulaid></condition><condition><macro>{#ZYXEL.SFP.STATUS}</macro><value>{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition></conditions></filter><description>SFP module discovery.</description><item_prototypes><item_prototype><uuid>59c000d4324d4e8ca07203843bbea7b5</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Date code</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.7.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.datecode[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Transceiver module vendor's manufacturing date code.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>c585762763604f83a9d14b7df21188ee</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Part number</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.4.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.part[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Part number provided by transceiver module vendor.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>33395170c38043828cedbfbedea959cc</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Revision</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.6.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.revision[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Revision level for part number provided by transceiver module vendor.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>175f4200563549a0ae1ebaed18eeb636</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Serial number</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.5.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.serialnumber[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Serial number provided by transceiver module vendor.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>632be557ffed439e98425eaa59361e50</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.sfp.serialnumber[{#SNMPINDEX}],#1)&lt;&gt;last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.sfp.serialnumber[{#SNMPINDEX}],#2) and length(last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.sfp.serialnumber[{#SNMPINDEX}]))&gt;0</expression><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX} has been replaced</name><event_name>ZYXEL XGS-4728F: SFP {#SNMPINDEX} has been replaced (new serial number received)</event_name><priority>INFO</priority><description>SFP {#SNMPINDEX} serial number has changed. Ack to close</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>5d3d0c6135924b2088b2f97d30a743cb</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.2.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.status[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><description>MIB: ZYXEL-XGS4728F-MIB
Transceiver module status.</description><valuemap><name>ZYXEL XGS-4728F SFP status</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>b16f7fe769a74ea99aafaa60a97d286c</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Transceiver</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.8.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.transceiver[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Transceiver module type names.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype><item_prototype><uuid>5abb9b467e934873808b4b49bdd74f5f</uuid><name>ZYXEL XGS-4728F: SFP {#SNMPINDEX}: Vendor</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.117.1.1.3.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.sfp.vendor[{#SNMPINDEX}]</key><delay>{$ZYXEL.LLD.SFP.UPDATE}</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>MIB: ZYXEL-XGS4728F-MIB
Transceiver module vendor name.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>description</tag><value>{#ZYXEL.IF.NAME}</value></tag><tag><tag>interface</tag><value>{#SNMPINDEX}</value></tag></tags></item_prototype></item_prototypes></discovery_rule><discovery_rule><uuid>fa0881c21d834db1b421ae727254bff9</uuid><name>Temperature discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.TEMP.THRESH.HIGH},.1.3.6.1.4.1.890.1.5.8.46.9.2.1.5]</snmp_oid><key>zyxel.4728f.temp.discovery</key><delay>1h</delay><description>An entry in tempTable.
Index of temperature unit. 1:MAC, 2:CPU, 3:PHY</description><item_prototypes><item_prototype><uuid>db030cd64cdc471cb5298ceb9973155a</uuid><name>ZYXEL XGS-4728F: Temperature &quot;{#ZYXEL.TEMP.ID}&quot;</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.9.2.1.2.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.temp[{#SNMPINDEX}]</key><history>7d</history><units>°C</units><description>MIB: ZYXEL-XGS4728F-MIB
The current temperature measured at this sensor</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>sensor</value></tag><tag><tag>component</tag><value>temperature</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>6181f094ae4c4cf4ae4b2e198e2f9b6e</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.temp[{#SNMPINDEX}])&gt;{#ZYXEL.TEMP.THRESH.HIGH}</expression><name>ZYXEL XGS-4728F: Temperature {#ZYXEL.TEMP.ID} is in critical state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Please check the temperature</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>1068300241bb430b8c51048303922e55</uuid><name>ZYXEL XGS-4728F: Temperature &quot;{#ZYXEL.TEMP.ID}&quot;</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.temp[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var inArray = JSON.parse(value);
var nameMap = {&quot;1&quot;:&quot;MAC&quot;, &quot;2&quot;:&quot;CPU&quot;, &quot;3&quot;:&quot;PHY&quot;};
var outArr = [];
inArray.forEach(function(item, i, arr) {
item[&quot;{#ZYXEL.TEMP.ID}&quot;] = nameMap[item[&quot;{#SNMPINDEX}&quot;]]
outArr.push(item)
});
return JSON.stringify(outArr);</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>1fa3870c99d6408dbf78c7f2ad87341d</uuid><name>Voltage discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ZYXEL.VOLT.THRESH.LOW},.1.3.6.1.4.1.890.1.5.8.46.9.3.1.6,{#ZYXEL.VOLT.NOMINAL},.1.3.6.1.4.1.890.1.5.8.46.9.3.1.5]</snmp_oid><key>zyxel.4728f.volt.discovery</key><delay>1h</delay><description>An entry in voltageTable.</description><item_prototypes><item_prototype><uuid>2999674cc176471887c1878b881b8422</uuid><name>ZYXEL XGS-4728F: Nominal &quot;{#ZYXEL.VOLT.NOMINAL}&quot;</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.890.1.5.8.46.9.3.1.2.{#SNMPINDEX}</snmp_oid><key>zyxel.4728f.volt[{#SNMPINDEX}]</key><history>7d</history><value_type>FLOAT</value_type><units>V</units><description>MIB: ZYXEL-XGS4728F-MIB
The current voltage reading.</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>sensor</value></tag><tag><tag>component</tag><value>voltage</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>631202a132dc44afa90b0537f9957ee1</uuid><expression>last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.volt[{#SNMPINDEX}])&lt;{#ZYXEL.VOLT.THRESH.LOW}</expression><name>ZYXEL XGS-4728F: Voltage {#ZYXEL.VOLT.NOMINAL} is in critical state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Please check the power supply</description><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><uuid>560c37d174e741a6a2590d17574123ed</uuid><name>ZYXEL XGS-4728F: Nominal &quot;{#ZYXEL.VOLT.NOMINAL}&quot;</name><graph_items><graph_item><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.volt[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var inArray = JSON.parse(value);
var outArr = []
inArray.forEach(function(item, i, arr) {
item[&quot;{#ZYXEL.VOLT.NOMINAL}&quot;] = &quot;+&quot; + item[&quot;{#ZYXEL.VOLT.NOMINAL}&quot;] / 1000 + &quot;V&quot;;
item[&quot;{#ZYXEL.VOLT.THRESH.LOW}&quot;] = item[&quot;{#ZYXEL.VOLT.THRESH.LOW}&quot;] / 1000;
outArr.push(item)
});
return JSON.stringify(outArr);</parameter></parameters></step></preprocessing></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>network</value></tag><tag><tag>target</tag><value>switch</value></tag><tag><tag>target</tag><value>xgs-4728f</value></tag><tag><tag>target</tag><value>zyxel</value></tag></tags><macros><macro><macro>{$CPU.UTIL.CRIT}</macro><value>90</value></macro><macro><macro>{$MEMORY.UTIL.MAX}</macro><value>90</value></macro><macro><macro>{$SNMP.TIMEOUT}</macro><value>5m</value><description>The time interval for SNMP agent availability trigger expression.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Triggers will be created only for interfaces whose description contains the value of this macro</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}</macro><value>1|2</value><description>Filter of discoverable link types.
0 - Down link
1 - Cooper link
2 - Fiber link</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Filter to exclude discovered by link types.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}</macro><value>.*</value><description>Filter by discoverable interface names.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Filter to exclude discovered interfaces by name.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}</macro><value>1|2</value><description>Filter of discoverable status.
0 - OK with DDM
1 - OK without DDM
2 - nonoperational</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}</macro><value>CHANGE_IF_NEEDED</value><description>Filter to exclude discovered by status.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}</macro><value>.*</value><description>Filter by discoverable SFP modules name.</description></macro><macro><macro>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}</macro><value>N/A</value><description>Filter to exclude discovered SFP modules by name.</description></macro><macro><macro>{$ZYXEL.LLD.SFP.UPDATE}</macro><value>10m</value><description>Receiving data from the SFP module is slow, we do not recommend setting the interval less than 10 minutes.</description></macro></macros><valuemaps><valuemap><uuid>a7acf3b0ac684d4e80c560bcd3dd2dc6</uuid><name>SNMP available</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>042ccfb45b0a4ef7bc8842f731dd8c4f</uuid><name>ZYXEL XGS-4728F operational mode port link up type</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Cooper</newvalue></mapping><mapping><value>2</value><newvalue>Fiber</newvalue></mapping><mapping><value>3</value><newvalue>XFP</newvalue></mapping><mapping><value>4</value><newvalue>CX4</newvalue></mapping></mappings></valuemap><valuemap><uuid>d466ff32531d4eaea989c07aa5989d6b</uuid><name>ZYXEL XGS-4728F operational mode port speed duplex</name><mappings><mapping><value>0</value><newvalue>auto</newvalue></mapping><mapping><value>1</value><newvalue>10M half</newvalue></mapping><mapping><value>2</value><newvalue>10M full</newvalue></mapping><mapping><value>3</value><newvalue>100M half</newvalue></mapping><mapping><value>4</value><newvalue>100M full</newvalue></mapping><mapping><value>5</value><newvalue>1G full</newvalue></mapping></mappings></valuemap><valuemap><uuid>250f228ead4b433f987d42014255a617</uuid><name>ZYXEL XGS-4728F port admin status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping><mapping><value>2</value><newvalue>Down</newvalue></mapping><mapping><value>3</value><newvalue>Testing</newvalue></mapping></mappings></valuemap><valuemap><uuid>ed13145eeefd44dda083716080725e60</uuid><name>ZYXEL XGS-4728F port operational status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping><mapping><value>2</value><newvalue>Down</newvalue></mapping><mapping><value>3</value><newvalue>Testing</newvalue></mapping><mapping><value>4</value><newvalue>Unknown</newvalue></mapping><mapping><value>5</value><newvalue>Dormant</newvalue></mapping><mapping><value>6</value><newvalue>NotPresent</newvalue></mapping><mapping><value>7</value><newvalue>lowerLayerDown</newvalue></mapping></mappings></valuemap><valuemap><uuid>49b0a85b7da947ab91e47ed2f2123907</uuid><name>ZYXEL XGS-4728F SFP status</name><mappings><mapping><value>1</value><newvalue>OK with DDM</newvalue></mapping><mapping><value>2</value><newvalue>OK without DDM</newvalue></mapping><mapping><value>3</value><newvalue>nonoperational</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>36b9a7d3d3fb45f782a5ea05de6816f9</uuid><expression>(last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.hw.uptime)&gt;0 and last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.hw.uptime)&lt;10m) or (last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.hw.uptime)=0 and last(/ZYXEL XGS-4728F by SNMP/zyxel.4728f.net.uptime)&lt;10m)</expression><name>ZYXEL XGS-4728F: Host has been restarted</name><event_name>ZYXEL XGS-4728F: {HOST.NAME} has been restarted (uptime &lt; 10m)</event_name><priority>INFO</priority><description>Uptime is less than 10 minutes.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers><graphs><graph><uuid>dfd68fb23bf349068005997de6b0515a</uuid><name>ZYXEL XGS-4728F: CPU utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>ZYXEL XGS-4728F by SNMP</host><key>zyxel.4728f.cpuusage</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
