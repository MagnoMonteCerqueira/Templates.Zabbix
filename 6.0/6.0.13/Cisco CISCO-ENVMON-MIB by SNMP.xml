<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:14:36Z</date><groups><group><uuid>57b7ae836ca64446ba2c296389c009b7</uuid><name>Templates/Modules</name></group></groups><templates><template><uuid>51af5cf9312b41d38ab22e02c9af6bbc</uuid><template>Cisco CISCO-ENVMON-MIB by SNMP</template><name>Cisco CISCO-ENVMON-MIB by SNMP</name><description>Template Cisco CISCO-ENVMON-MIB

MIBs used:
CISCO-ENVMON-MIB

Template tooling version used: 0.41</description><groups><group><name>Templates/Modules</name></group></groups><discovery_rules><discovery_rule><uuid>31e5f90d88574fa0a35664e2c6b51e98</uuid><name>FAN Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SENSOR_INFO},1.3.6.1.4.1.9.9.13.1.4.1.2]</snmp_oid><key>fan.discovery</key><delay>1h</delay><description>The table of fan status maintained by the environmental monitor.</description><item_prototypes><item_prototype><uuid>62a05225a1634d7486fab92cf100544e</uuid><name>{#SENSOR_INFO}: Fan status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.13.1.4.1.3.{#SNMPINDEX}</snmp_oid><key>sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}]</key><delay>3m</delay><history>2w</history><trends>0d</trends><description>MIB: CISCO-ENVMON-MIB</description><valuemap><name>CISCO-ENVMON-MIB::CiscoEnvMonState</name></valuemap><tags><tag><tag>component</tag><value>fan</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>a9f5e9e2a65143298910e354e832bf2f</uuid><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;critical\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;shutdown\&quot;}&quot;)=1</expression><name>{#SENSOR_INFO}: Fan is in critical state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Please check the fan unit</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>58cf2c24afd74e5cb048557e8e52138e</uuid><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_WARN_STATUS:\&quot;warning\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_WARN_STATUS:\&quot;notFunctioning\&quot;}&quot;)=1</expression><name>{#SENSOR_INFO}: Fan is in warning state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>Please check the fan unit</description><dependencies><dependency><name>{#SENSOR_INFO}: Fan is in critical state</name><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;critical\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;shutdown\&quot;}&quot;)=1</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><uuid>932817396a5b47f29af28e439711ef59</uuid><name>PSU Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SENSOR_INFO},1.3.6.1.4.1.9.9.13.1.5.1.2]</snmp_oid><key>psu.discovery</key><delay>1h</delay><description>The table of power supply status maintained by the environmental monitor card.</description><item_prototypes><item_prototype><uuid>d500235d63ca41888585d267a7d82e2a</uuid><name>{#SENSOR_INFO}: Power supply status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.13.1.5.1.3.{#SNMPINDEX}</snmp_oid><key>sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}]</key><delay>3m</delay><history>2w</history><trends>0d</trends><description>MIB: CISCO-ENVMON-MIB</description><valuemap><name>CISCO-ENVMON-MIB::CiscoEnvMonState</name></valuemap><tags><tag><tag>component</tag><value>power</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>5796e1e85ea949d0b86ce83f5daae958</uuid><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;critical\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;shutdown\&quot;}&quot;)=1</expression><name>{#SENSOR_INFO}: Power supply is in critical state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Please check the power supply unit for errors</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>93892fed243f4f0b8c26ab67fa6e1800</uuid><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_WARN_STATUS:\&quot;warning\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_WARN_STATUS:\&quot;notFunctioning\&quot;}&quot;)=1</expression><name>{#SENSOR_INFO}: Power supply is in warning state</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>Please check the power supply unit for errors</description><dependencies><dependency><name>{#SENSOR_INFO}: Power supply is in critical state</name><expression>count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;critical\&quot;}&quot;)=1 or count(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.psu.status[ciscoEnvMonSupplyState.{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;shutdown\&quot;}&quot;)=1</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><uuid>e61bb682818b4f31a669acd31335160c</uuid><name>Temperature Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.9.9.13.1.3.1.2]</snmp_oid><key>temperature.discovery</key><delay>1h</delay><description>Discovery of ciscoEnvMonTemperatureTable (ciscoEnvMonTemperatureDescr), a table of ambient temperature status
maintained by the environmental monitor.</description><item_prototypes><item_prototype><uuid>72f0970a636d44278b75f30a1dabfeb8</uuid><name>{#SNMPVALUE}: Temperature status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.13.1.3.1.6.{#SNMPINDEX}</snmp_oid><key>sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}]</key><delay>3m</delay><history>2w</history><trends>0d</trends><description>MIB: CISCO-ENVMON-MIB
The current state of the test point being instrumented.</description><valuemap><name>CISCO-ENVMON-MIB::CiscoEnvMonState</name></valuemap><tags><tag><tag>component</tag><value>temperature</value></tag></tags></item_prototype><item_prototype><uuid>4859221e53d7485485db1c9060d7f705</uuid><name>{#SNMPVALUE}: Temperature</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.13.1.3.1.3.{#SNMPINDEX}</snmp_oid><key>sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}]</key><delay>3m</delay><value_type>FLOAT</value_type><units>Â°C</units><description>MIB: CISCO-ENVMON-MIB
The current measurement of the test point being instrumented.</description><tags><tag><tag>component</tag><value>temperature</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>2bb01154728b47c69514f7399f3bfabc</uuid><expression>avg(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT_LOW:&quot;{#SNMPVALUE}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>min(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT_LOW:&quot;{#SNMPVALUE}&quot;}+3</recovery_expression><name>{#SNMPVALUE}: Temperature is too low</name><event_name>{#SNMPVALUE}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;{#SNMPVALUE}&quot;}</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>f356f7fbc2de423db3bac09bc4683ae2</uuid><expression>avg(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT:&quot;{#SNMPVALUE}&quot;}
or
last(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
or
last(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>max(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT:&quot;{#SNMPVALUE}&quot;}-3</recovery_expression><name>{#SNMPVALUE}: Temperature is above critical threshold</name><event_name>{#SNMPVALUE}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;{#SNMPVALUE}&quot;}</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>This trigger uses temperature sensor values as well as temperature sensor status if available</description><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>2c151dd93b7f4096b9eb6c73c315ffec</uuid><expression>avg(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&gt;{$TEMP_WARN:&quot;{#SNMPVALUE}&quot;}
or
last(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}])={$TEMP_WARN_STATUS}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>max(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&lt;{$TEMP_WARN:&quot;{#SNMPVALUE}&quot;}-3</recovery_expression><name>{#SNMPVALUE}: Temperature is above warning threshold</name><event_name>{#SNMPVALUE}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;{#SNMPVALUE}&quot;}</event_name><opdata>Current value: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>This trigger uses temperature sensor values as well as temperature sensor status if available</description><dependencies><dependency><name>{#SNMPVALUE}: Temperature is above critical threshold</name><expression>avg(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT:&quot;{#SNMPVALUE}&quot;}
or
last(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
or
last(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.status[ciscoEnvMonTemperatureState.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}</expression><recovery_expression>max(/Cisco CISCO-ENVMON-MIB by SNMP/sensor.temp.value[ciscoEnvMonTemperatureValue.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT:&quot;{#SNMPVALUE}&quot;}-3</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$FAN_CRIT_STATUS:&quot;critical&quot;}</macro><value>3</value></macro><macro><macro>{$FAN_CRIT_STATUS:&quot;shutdown&quot;}</macro><value>4</value></macro><macro><macro>{$FAN_WARN_STATUS:&quot;notFunctioning&quot;}</macro><value>6</value></macro><macro><macro>{$FAN_WARN_STATUS:&quot;warning&quot;}</macro><value>2</value></macro><macro><macro>{$PSU_CRIT_STATUS:&quot;critical&quot;}</macro><value>3</value></macro><macro><macro>{$PSU_CRIT_STATUS:&quot;shutdown&quot;}</macro><value>4</value></macro><macro><macro>{$PSU_WARN_STATUS:&quot;notFunctioning&quot;}</macro><value>6</value></macro><macro><macro>{$PSU_WARN_STATUS:&quot;warning&quot;}</macro><value>2</value></macro><macro><macro>{$TEMP_CRIT}</macro><value>60</value></macro><macro><macro>{$TEMP_CRIT:&quot;CPU&quot;}</macro><value>75</value></macro><macro><macro>{$TEMP_CRIT_LOW}</macro><value>5</value></macro><macro><macro>{$TEMP_CRIT_STATUS}</macro><value>3</value></macro><macro><macro>{$TEMP_DISASTER_STATUS}</macro><value>4</value></macro><macro><macro>{$TEMP_WARN}</macro><value>50</value></macro><macro><macro>{$TEMP_WARN:&quot;CPU&quot;}</macro><value>70</value></macro><macro><macro>{$TEMP_WARN_STATUS}</macro><value>2</value></macro></macros><valuemaps><valuemap><uuid>96da9a43fa60420696714c57d3e72f13</uuid><name>CISCO-ENVMON-MIB::CiscoEnvMonState</name><mappings><mapping><value>1</value><newvalue>normal</newvalue></mapping><mapping><value>2</value><newvalue>warning</newvalue></mapping><mapping><value>3</value><newvalue>critical</newvalue></mapping><mapping><value>4</value><newvalue>shutdown</newvalue></mapping><mapping><value>5</value><newvalue>notPresent</newvalue></mapping><mapping><value>6</value><newvalue>notFunctioning</newvalue></mapping></mappings></valuemap></valuemaps></template></templates></zabbix_export>
