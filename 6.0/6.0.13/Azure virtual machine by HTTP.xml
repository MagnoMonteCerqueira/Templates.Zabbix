<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>6.0</version><date>2023-02-11T16:15:11Z</date><groups><group><uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid><name>Templates/Applications</name></group></groups><templates><template><uuid>820fa4a1565c43e4aac07a691a5bface</uuid><template>Azure virtual machine by HTTP</template><name>Azure virtual machine by HTTP</name><description>This template is designed to monitor Microsoft Azure virtual machines by HTTP.
It works without any external scripts and uses the script item.

Setup:
  1. Create an Azure service principal via the Azure command-line interface (Azure CLI) for your subscription.
    `az ad sp create-for-rbac --name zabbix --role reader --scope /subscriptions/&lt;subscription_id&gt;`
    See https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli for more details.
  2. Link the template to a host.
  3. Configure macros `{$AZURE.APP_ID}`, `{$AZURE.PASSWORD}`, `{$AZURE.TENANT_ID}`, `{$AZURE.SUBSCRIPTION_ID}`, and `{$AZURE.RESOURCE_ID}`.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

Template tooling version used: 0.41</description><groups><group><name>Templates/Applications</name></group></groups><items><item><uuid>c299999d69904340acd44fead6c7672c</uuid><name>Azure: Availability status detailed</name><type>DEPENDENT</type><key>azure.vm.availability.details</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The summary description of the availability status.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.health.summary</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags></item><item><uuid>25e2af44bfbf4e9083ce493d85232088</uuid><name>Azure: Availability state</name><type>DEPENDENT</type><key>azure.vm.availability.state</key><delay>0</delay><history>7d</history><description>The availability status of the resource.</description><valuemap><name>Azure resource health state</name></valuemap><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.health.availabilityState</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>3</error_handler_params></step><step><type>STR_REPLACE</type><parameters><parameter>Available</parameter><parameter>0</parameter></parameters></step><step><type>STR_REPLACE</type><parameters><parameter>Degraded</parameter><parameter>1</parameter></parameters></step><step><type>STR_REPLACE</type><parameters><parameter>Unavailable</parameter><parameter>2</parameter></parameters></step><step><type>STR_REPLACE</type><parameters><parameter>Unknown</parameter><parameter>3</parameter></parameters></step><step><type>IN_RANGE</type><parameters><parameter>0</parameter><parameter>3</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>3</error_handler_params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>health</value></tag></tags><triggers><trigger><uuid>c0170d8a09ae460da923fe773b2b0bd0</uuid><expression>last(/Azure virtual machine by HTTP/azure.vm.availability.state)=1</expression><name>Azure: Virtual machine is degraded</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>The resource is in degraded state.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger><trigger><uuid>e1b85765b83445ebbf15f02d782b9858</uuid><expression>last(/Azure virtual machine by HTTP/azure.vm.availability.state)=3</expression><name>Azure: Virtual machine is in unknown state</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>The resource state is unknown.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger><trigger><uuid>b3d764ff735e44f8806cc4d29090719e</uuid><expression>last(/Azure virtual machine by HTTP/azure.vm.availability.state)=2</expression><name>Azure: Virtual machine is unavailable</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>The resource state is unavailable.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>a93308573303437487d151de340fcaed</uuid><name>Azure: VM cached bandwidth consumed percentage</name><type>DEPENDENT</type><key>azure.vm.cached.bandwidth.consumed.percentage</key><delay>0</delay><history>7d</history><units>%</units><description>Percentage of cached disk bandwidth consumed by the VM.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.VMCachedBandwidthConsumedPercentage.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>989dec26d97d44b6bd4a84fdbd37dec5</uuid><name>Azure: VM cached IOPS consumed percentage</name><type>DEPENDENT</type><key>azure.vm.cached.iops.consumed.percentage</key><delay>0</delay><history>7d</history><units>%</units><description>Percentage of cached disk IOPS consumed by the VM.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.VMCachedIOPSConsumedPercentage.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>fb0641ca8f104cf1bebdced63cd6af16</uuid><name>Azure: CPU credits consumed</name><type>DEPENDENT</type><key>azure.vm.cpu.credits.consumed</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The total number of credits consumed by the Virtual Machine. Only available on B-series burstable VMs.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.CPUCreditsConsumed.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>963752cbaba046cab1f05b0cbcff3137</uuid><name>Azure: CPU credits remaining</name><type>DEPENDENT</type><key>azure.vm.cpu.credits.remaining</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The total number of credits available to burst. Only available on B-series burstable VMs.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.CPUCreditsRemaining.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>492edacf92544a95a5aa7b034efa7931</uuid><name>Azure: Percentage CPU</name><type>DEPENDENT</type><key>azure.vm.cpu.percentage</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of allocated compute units that are currently in use by the Virtual Machine(s).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.PercentageCPU.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>9e6d9394570641418b4291befb1e38e5</uuid><expression>min(/Azure virtual machine by HTTP/azure.vm.cpu.percentage,5m)&gt;{$AZURE.VM.CPU.UTIL.CRIT}</expression><name>Azure: High CPU utilization</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>HIGH</priority><description>The CPU utilization is too high. The system might be slow to respond.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>47cda13c203e4f1e9918eb73fd8afa20</uuid><name>Azure: Data disk bandwidth consumed percentage</name><type>DEPENDENT</type><key>azure.vm.data.disk.bandwidth.consumed.percentage</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the Data Disk bandwidth consumed per minute.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskBandwidthConsumedPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>3121980d3319431691ed9e98d176430b</uuid><name>Azure: Data disk IOPS consumed percentage</name><type>DEPENDENT</type><key>azure.vm.data.disk.iops.consumed.percentage</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the Data Disk I/Os consumed per minute.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskIOPSConsumedPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>d0fb23206d564e1da746bff3369056c1</uuid><name>Azure: Data disk max burst bandwidth</name><type>DEPENDENT</type><key>azure.vm.data.disk.max.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Maximum bytes per second throughput Data Disk can achieve with bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskMaxBurstBandwidth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>6afcbb02c53243faa341670f155678e4</uuid><name>Azure: Data disk max burst IOPS</name><type>DEPENDENT</type><key>azure.vm.data.disk.max.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>Maximum IOPS Data Disk can achieve with bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskMaxBurstIOPS.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>b81f304bbc2a42df9b0550ecdc1ec6b7</uuid><name>Azure: Data disk queue depth</name><type>DEPENDENT</type><key>azure.vm.data.disk.queue.depth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The queue depth (or queue length) of the Data Disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskQueueDepth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>021d92f3075544319191d6f85a701222</uuid><name>Azure: Data disk read rate</name><type>DEPENDENT</type><key>azure.vm.data.disk.read.bps</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes/Sec read from a single disk during the monitoring period.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskReadBytessec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>cc31283ab96548b7bdcc88e89dfae53c</uuid><name>Azure: Data disk read operations/sec</name><type>DEPENDENT</type><key>azure.vm.data.disk.read.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The read IOPS from a single disk during the monitoring period.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskReadOperationsSec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>c61ad4af97c243cca75bbece40eea795</uuid><name>Azure: Data disk target bandwidth</name><type>DEPENDENT</type><key>azure.vm.data.disk.target.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Baseline bytes per second throughput Data Disk can achieve without bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskTargetBandwidth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>9370988456e74b889700ea5798d17092</uuid><name>Azure: Data disk target IOPS</name><type>DEPENDENT</type><key>azure.vm.data.disk.target.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>Baseline IOPS Data Disk can achieve without bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskTargetIOPS.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>68c730e4904f402cb12fb71b45fede02</uuid><name>Azure: Data disk used burst BPS credits percentage</name><type>DEPENDENT</type><key>azure.vm.data.disk.used.burst.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the Data Disk burst bandwidth credits used so far.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskUsedBurstBPSCreditsPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>731a82833bdd42c59c453adf8625e3b4</uuid><name>Azure: Data disk used burst IO credits percentage</name><type>DEPENDENT</type><key>azure.vm.data.disk.used.burst.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the Data Disk burst I/O credits used so far.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskUsedBurstIOCreditsPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>b8712f8fd60a43f6b099d9eafed19945</uuid><name>Azure: Data disk write rate</name><type>DEPENDENT</type><key>azure.vm.data.disk.write.bps</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes/Sec written to a single disk during the monitoring period.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskWriteBytessec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>87794f5a502b4e2db91f820483e38fb3</uuid><name>Azure: Data disk write operations/sec</name><type>DEPENDENT</type><key>azure.vm.data.disk.write.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The write IOPS from a single disk during the monitoring period.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DataDiskWriteOperationsSec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>e253c2a908944be1a033fc3df550d979</uuid><name>Azure: Get errors</name><type>DEPENDENT</type><key>azure.vm.data.errors</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>TEXT</value_type><description>A list of errors from API requests.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.errors</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag></tags><triggers><trigger><uuid>87236c99652643ba800601a461d66d94</uuid><expression>length(last(/Azure virtual machine by HTTP/azure.vm.data.errors))&gt;0</expression><name>Azure: There are errors in requests to API</name><opdata>{ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>Zabbix has received errors in response to API requests.</description><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item><item><uuid>cff54514d795495da8bc1152e02631aa</uuid><name>Azure: Get data</name><type>SCRIPT</type><key>azure.vm.data.get</key><history>0d</history><trends>0</trends><value_type>TEXT</value_type><params>var AzureVM = {
    params: {},
    token: null,

    setParams: function (params) {
        ['app_id', 'password', 'tenant_id', 'subscription_id', 'resource_id'].forEach(function (field) {
            if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
                throw 'Required param is not set: ' + field + '.';
            }
        });

        AzureVM.params = params;
    },


    request: function (url, data) {
        if (typeof data === 'undefined' || data === null) {
            data = '';
        }

        var response, request = new HttpRequest();
            if (AzureVM.token) {
                request.addHeader('Accept: application/json');
                request.addHeader('Authorization: Bearer ' + AzureVM.token);
            }
    
        Zabbix.log(4, '[ Azure ] Sending request: ' + url);

        if (data !== '') {
            request.addHeader('Content-Type: application/x-www-form-urlencoded');
            response = request.post(url, data);
        }
        else {
            response = request.get(url);
        }

        Zabbix.log(4, '[ Azure ] Received response with status code ' + request.getStatus() + ': ' + response);

        if (request.getStatus() !== 200 || response === null) {
            throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
        }

        try {
            return JSON.parse(response);
        }
        catch (error) {
            throw 'Failed to parse response received from API.';
        }
}

};

var metrics = [
    'Percentage CPU',
    'Network In',
    'Network Out',
    'Disk Read Bytes',
    'Disk Write Bytes',
    'Disk Read Operations/Sec',
    'Disk Write Operations/Sec',
    'CPU Credits Remaining',
    'CPU Credits Consumed',
    'Data Disk Read Bytes/sec',
    'Data Disk Write Bytes/sec',
    'Data Disk Read Operations/Sec',
    'Data Disk Write Operations/Sec',
    'Data Disk Queue Depth',
    'Data Disk Bandwidth Consumed Percentage',
    'Data Disk IOPS Consumed Percentage',
    'Data Disk Target Bandwidth',
    'Data Disk Target IOPS',
    'Data Disk Max Burst Bandwidth',
    'Data Disk Max Burst IOPS',
    'Data Disk Used Burst BPS Credits Percentage',
    'Data Disk Used Burst IO Credits Percentage',
    'OS Disk Read Bytes/sec',
    'OS Disk Write Bytes/sec',
    'OS Disk Read Operations/Sec',
    'OS Disk Write Operations/Sec',
    'OS Disk Queue Depth',
    'OS Disk Bandwidth Consumed Percentage',
    'OS Disk IOPS Consumed Percentage',
    'OS Disk Target Bandwidth',
    'OS Disk Target IOPS',
    'OS Disk Max Burst Bandwidth',
    'OS Disk Max Burst IOPS',
    'OS Disk Used Burst BPS Credits Percentage',
    'OS Disk Used Burst IO Credits Percentage',
    'Inbound Flows',
    'Outbound Flows',
    'Inbound Flows Maximum Creation Rate',
    'Outbound Flows Maximum Creation Rate',
    'Premium Data Disk Cache Read Hit',
    'Premium Data Disk Cache Read Miss',
    'Premium OS Disk Cache Read Hit',
    'Premium OS Disk Cache Read Miss',
    'VM Cached Bandwidth Consumed Percentage',
    'VM Cached IOPS Consumed Percentage',
    'VM Uncached Bandwidth Consumed Percentage',
    'VM Uncached IOPS Consumed Percentage',
    'Network In Total',
    'Network Out Total',
    'Available Memory Bytes'
],
    prepared_metrics = [],
    data = {};
    data['errors'] = {};
    data['metrics'] = {};

try {
    AzureVM.setParams(JSON.parse(value));

    try {
        result = AzureVM.request(
                'https://login.microsoftonline.com/' + encodeURIComponent(AzureVM.params.tenant_id) +'/oauth2/token',
                'grant_type=client_credentials&amp;resource=' + encodeURIComponent('https://management.azure.com/') + '&amp;client_id=' + encodeURIComponent(AzureVM.params.app_id) + '&amp;client_secret=' + encodeURIComponent(AzureVM.params.password)
        );

        if ('access_token' in result) {
            AzureVM.token = result['access_token'];
        } else {
            throw 'Auth response does not contain access token.';
        }
    }
    catch (error) {
        data.errors.auth = error.toString();
    }

    if (!('auth' in data.errors)) {
        try {
            health = AzureVM.request('https://management.azure.com' + AzureVM.params.resource_id + '/providers/Microsoft.ResourceHealth/availabilityStatuses?api-version=2020-05-01');
            if ('value' in health &amp;&amp; Array.isArray(health.value) &amp;&amp; health.value.length &gt; 0 &amp;&amp; 'properties' in health.value[0] &amp;&amp; typeof health.value[0].properties === 'object') {
                data.health = health.value[0].properties;
            }
        }
        catch (error) {
            data.errors.health = error.toString();
        }

        for (var i = 0; i &lt; metrics.length; i += 20) {
            var chunk = metrics.slice(i, i + 20);

            prepared_metrics.push(
                chunk.map(function(element) {
                    return encodeURIComponent(element);
                }).join(',')
            );
        }

        start_date = new Date((new Date().getTime()) - 300000).toISOString().replace(/\.\d+/, '');
        end_date = new Date().toISOString().replace(/\.\d+/, '');
        
        for (var j in prepared_metrics) {
            try {
                metrics_data = AzureVM.request('https://management.azure.com' + AzureVM.params.resource_id + '/providers/Microsoft.Insights/metrics?metricnames=' + prepared_metrics[j] + '&amp;timespan=' + encodeURIComponent(start_date) + '/' + encodeURIComponent(end_date) + '&amp;api-version=2021-05-01');
                if ('value' in metrics_data &amp;&amp; Array.isArray(metrics_data.value) &amp;&amp; metrics_data.value.length &gt; 0) {
                    for (k in metrics_data.value) {
                        if ('name' in metrics_data.value[k] &amp;&amp; typeof metrics_data.value[k].name === 'object' &amp;&amp; 'value' in metrics_data.value[k].name &amp;&amp; typeof metrics_data.value[k].name.value === 'string' &amp;&amp; 'timeseries' in metrics_data.value[k] &amp;&amp; Array.isArray(metrics_data.value[k].timeseries) &amp;&amp; metrics_data.value[k].timeseries.length &gt; 0 &amp;&amp; 'data' in metrics_data.value[k].timeseries[0] &amp;&amp; Array.isArray(metrics_data.value[k].timeseries[0].data) &amp;&amp; metrics_data.value[k].timeseries[0].data.length &gt; 2) {
                            data.metrics[metrics_data.value[k].name.value.replace(/(\s|\/)+/g, '')] = metrics_data.value[k].timeseries[0].data[metrics_data.value[k].timeseries[0].data.length - 3];
                        }
                    }
                }
            }
            catch (error) {
                data.errors[prepared_metrics[j]] = error.toString();
            }
        } 
    }
}
catch (error) {
    data.errors.params = error.toString();
}

if (Object.keys(data.errors).length !== 0) {
    errors = 'Failed to receive data:';
    for (var error in data.errors) {
        errors += '\n' + error + ' : ' + data.errors[error];
    }
    data.errors = errors;
}
else {
    data.errors = '';
}

return JSON.stringify(data);</params><description>The result of API requests is expressed in the JSON.</description><timeout>{$AZURE.DATA.TIMEOUT}</timeout><parameters><parameter><name>app_id</name><value>{$AZURE.APP_ID}</value></parameter><parameter><name>password</name><value>{$AZURE.PASSWORD}</value></parameter><parameter><name>tenant_id</name><value>{$AZURE.TENANT_ID}</value></parameter><parameter><name>subscription_id</name><value>{$AZURE.SUBSCRIPTION_ID}</value></parameter><parameter><name>resource_id</name><value>{$AZURE.RESOURCE_ID}</value></parameter></parameters><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>1dc9f8d45b6f48a38f701f089cbcb279</uuid><name>Azure: Disk read rate</name><type>DEPENDENT</type><key>azure.vm.disk.read.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes read from the disk during the monitoring period (1 minute).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DiskReadBytes.total</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.0167</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>cd3240d31a4f42a89b5c9817ea288b5a</uuid><name>Azure: Disk read Operations/Sec</name><type>DEPENDENT</type><key>azure.vm.disk.read.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The count of read operations from the disk per second.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DiskReadOperationsSec.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>b5e2070bde1444ea809ba4e0a29b05d9</uuid><name>Azure: Disk write rate</name><type>DEPENDENT</type><key>azure.vm.disk.write.bytes</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes written to the disk during the monitoring period (1 minute).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DiskWriteBytes.total</parameter></parameters></step><step><type>MULTIPLIER</type><parameters><parameter>0.0167</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>0d93d1b510614c1f83418bd481f1e7cb</uuid><name>Azure: Disk write Operations/Sec</name><type>DEPENDENT</type><key>azure.vm.disk.write.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The count of write operations to the disk per second.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.DiskWriteOperationsSec.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>3a30a59aabd54c8b8feb1f4a8ba06db5</uuid><name>Azure: Inbound flows</name><type>DEPENDENT</type><key>azure.vm.flows.inbound</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Inbound Flows are number of the current flows in the inbound direction (traffic going into the VM).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.InboundFlows.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>3964ffbb7ea949f69863edcf91f5c555</uuid><name>Azure: Inbound flows max creation rate</name><type>DEPENDENT</type><key>azure.vm.flows.inbound.max</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The maximum creation rate of the inbound flows (traffic going into the VM).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.InboundFlowsMaximumCreationRate.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>2084cb1d010a4ab494c0826c458d922a</uuid><name>Azure: Outbound flows</name><type>DEPENDENT</type><key>azure.vm.flows.outbound</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>Outbound Flows are a number of the current flows in the outbound direction (traffic going out of the VM).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OutboundFlows.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>eac3e6b53d394e3289fc03bf5772799c</uuid><name>Azure: Outbound flows max creation rate</name><type>DEPENDENT</type><key>azure.vm.flows.outbound.max</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The maximum creation rate of the outbound flows (traffic going out of the VM).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OutboundFlowsMaximumCreationRate.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>0a354c9b104b468d9749adfd28d1373e</uuid><name>Azure: Available memory</name><type>DEPENDENT</type><key>azure.vm.memory.available</key><delay>0</delay><history>7d</history><units>B</units><description>The amount of physical memory, in bytes, immediately available for allocation to a process or for system use in the Virtual Machine.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.AvailableMemoryBytes.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>411c5f6fcb374c4c90e2951a546c0c08</uuid><name>Azure: Network in total</name><type>DEPENDENT</type><key>azure.vm.network.in.total</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>The number of bytes received on all network interfaces by the Virtual Machine(s) (Incoming Traffic).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.NetworkInTotal.total</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>MULTIPLIER</type><parameters><parameter>0.1333</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>ee2ef1d1e2844ae8be2a5f04c86631ba</uuid><name>Azure: Network out total</name><type>DEPENDENT</type><key>azure.vm.network.out.total</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>bps</units><description>The number of bytes out on all network interfaces by the Virtual Machine(s) (Outgoing Traffic).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.NetworkOutTotal.total</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>MULTIPLIER</type><parameters><parameter>0.1333</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>network</value></tag></tags></item><item><uuid>24c58e473c5c4b8388a0e78ae38378fc</uuid><name>Azure: OS disk bandwidth consumed percentage</name><type>DEPENDENT</type><key>azure.vm.os.disk.bandwidth.consumed.percentage</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the operating system disk bandwidth consumed per minute.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskBandwidthConsumedPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>33a7fff9758046e3be07dad6c0a710ca</uuid><name>Azure: OS disk IOPS consumed percentage</name><type>DEPENDENT</type><key>azure.vm.os.disk.iops.consumed.percentage</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the operating system disk I/Os consumed per minute.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskIOPSConsumedPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>7d0ca132bc264ac08e3c55809bdc40d1</uuid><name>Azure: OS disk max burst bandwidth</name><type>DEPENDENT</type><key>azure.vm.os.disk.max.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Maximum bytes per second throughput OS Disk can achieve with bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskMaxBurstBandwidth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>8374282688dc4fabb770c07eb335c666</uuid><name>Azure: OS disk max burst IOPS</name><type>DEPENDENT</type><key>azure.vm.os.disk.max.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>Maximum IOPS OS Disk can achieve with bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskMaxBurstIOPS.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>ca8fe9d0ea58482c9bb8b83a716362a2</uuid><name>Azure: OS disk queue depth</name><type>DEPENDENT</type><key>azure.vm.os.disk.queue.depth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><description>The OS disk queue depth (or queue length).</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskQueueDepth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>30265aac759d45769769eae081f570ac</uuid><name>Azure: OS disk read rate</name><type>DEPENDENT</type><key>azure.vm.os.disk.read.bps</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes/Sec read from a single disk during the monitoring period for OS disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskReadBytessec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>f11fcbbd63234993a9c301dc8bac3e80</uuid><name>Azure: OS disk read operations/sec</name><type>DEPENDENT</type><key>azure.vm.os.disk.read.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The read IOPS from a single disk during the monitoring period for OS disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskReadOperationsSec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>5cc422b7da3145fa885a88bb6165e3b9</uuid><name>Azure: OS disk target bandwidth</name><type>DEPENDENT</type><key>azure.vm.os.disk.target.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Baseline bytes per second throughput OS Disk can achieve without bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskTargetBandwidth.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>556941b1df5d470f8de628230b085623</uuid><name>Azure: OS disk target IOPS</name><type>DEPENDENT</type><key>azure.vm.os.disk.target.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>Baseline IOPS OS Disk can achieve without bursting.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskTargetIOPS.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>9d42609950864c899a0d63b94f1d2235</uuid><name>Azure: OS disk used burst BPS credits percentage</name><type>DEPENDENT</type><key>azure.vm.os.disk.used.burst.bandwidth</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of the OS Disk burst bandwidth credits used so far.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskUsedBurstBPSCreditsPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>c08f45df2e594e1fab01ba63df7da05b</uuid><name>Azure: OS disk used burst IO credits percentage</name><type>DEPENDENT</type><key>azure.vm.os.disk.used.burst.iops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Percentage of OS Disk burst I/O credits used so far.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskUsedBurstIOCreditsPercentage.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>7645519a786b42908f1ec693128899c2</uuid><name>Azure: OS disk write rate</name><type>DEPENDENT</type><key>azure.vm.os.disk.write.bps</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>Bps</units><description>Bytes/Sec written to a single disk during the monitoring period for OS disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskWriteBytessec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>1e9392bc0c934e7d93f743c86e36e23e</uuid><name>Azure: OS disk write operations/sec</name><type>DEPENDENT</type><key>azure.vm.os.disk.write.ops</key><delay>0</delay><history>7d</history><value_type>FLOAT</value_type><units>!iops</units><description>The write IOPS from a single disk during the monitoring period for OS disk.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.OSDiskWriteOperationsSec.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>d6fcff826cfa486d945f33708be2f630</uuid><name>Azure: Premium data disk cache read hit</name><type>DEPENDENT</type><key>azure.vm.premium.data.disk.cache.read.hit</key><delay>0</delay><history>7d</history><units>%</units><description>Premium Data Disk cache read hit.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.PremiumDataDiskCacheReadHit.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>288853ee5d08442fa43f8df1dfcc7823</uuid><name>Azure: Premium data disk cache read miss</name><type>DEPENDENT</type><key>azure.vm.premium.data.disk.cache.read.miss</key><delay>0</delay><history>7d</history><units>%</units><description>Premium Data Disk cache read miss.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.PremiumDataDiskCacheReadMiss.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>66b629ae3d7e4abeaf0282414c91876f</uuid><name>Azure: Premium OS disk cache read hit</name><type>DEPENDENT</type><key>azure.vm.premium.os.disk.cache.read.hit</key><delay>0</delay><history>7d</history><units>%</units><description>Premium OS disk cache read hit.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.PremiumOSDiskCacheReadHit.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>3927f34d5d0649d7ac29703f64054dbf</uuid><name>Azure: Premium OS disk cache read miss</name><type>DEPENDENT</type><key>azure.vm.premium.os.disk.cache.read.miss</key><delay>0</delay><history>7d</history><units>%</units><description>Premium OS disk cache read miss.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.PremiumOSDiskCacheReadMiss.average</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>d6e85395e34b4288988a5287d287f182</uuid><name>Azure: VM uncached bandwidth consumed percentage</name><type>DEPENDENT</type><key>azure.vm.uncached.bandwidth.consumed.percentage</key><delay>0</delay><history>7d</history><units>%</units><description>The percentage of the uncached disk bandwidth consumed by the VM.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.VMUncachedBandwidthConsumedPercentage.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>124203560922429bb32b76c45f24b2b9</uuid><name>Azure: VM uncached IOPS consumed percentage</name><type>DEPENDENT</type><key>azure.vm.uncached.iops.consumed.percentage</key><delay>0</delay><history>7d</history><units>%</units><description>The percentage of the uncached disk IOPS consumed by the VM.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.metrics.VMUncachedIOPSConsumedPercentage.average</parameter></parameters></step></preprocessing><master_item><key>azure.vm.data.get</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag></tags></item></items><tags><tag><tag>class</tag><value>software</value></tag><tag><tag>target</tag><value>azure</value></tag></tags><macros><macro><macro>{$AZURE.APP_ID}</macro><description>The AppID of Microsoft Azure.</description></macro><macro><macro>{$AZURE.DATA.TIMEOUT}</macro><value>60s</value><description>A response timeout for an API.</description></macro><macro><macro>{$AZURE.PASSWORD}</macro><type>SECRET_TEXT</type><description>Microsoft Azure password.</description></macro><macro><macro>{$AZURE.RESOURCE_ID}</macro><description>Microsoft Azure virtual machine ID.</description></macro><macro><macro>{$AZURE.SUBSCRIPTION_ID}</macro><description>Microsoft Azure subscription ID.</description></macro><macro><macro>{$AZURE.TENANT_ID}</macro><description>Microsoft Azure tenant ID.</description></macro><macro><macro>{$AZURE.VM.CPU.UTIL.CRIT}</macro><value>90</value><description>The critical threshold of the CPU utilization expressed in %.</description></macro></macros><valuemaps><valuemap><uuid>38c8ce1516704ec2a6f1ea9686db56b9</uuid><name>Azure resource health state</name><mappings><mapping><value>0</value><newvalue>Available</newvalue></mapping><mapping><value>1</value><newvalue>Degraded</newvalue></mapping><mapping><value>2</value><newvalue>Unavailable</newvalue></mapping><mapping><value>3</value><newvalue>Unknown</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><graphs><graph><uuid>781dd83ed494465bbf2c16efbc753a51</uuid><name>Azure: Data disk read/write bytes</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.data.disk.read.bps</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.data.disk.write.bps</key></item></graph_item></graph_items></graph><graph><uuid>7d198b2f6186498ab39ece80f3f7b30e</uuid><name>Azure: Data disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.data.disk.read.ops</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.data.disk.write.ops</key></item></graph_item></graph_items></graph><graph><uuid>a2d0eb282276486896067f8a30f8ea51</uuid><name>Azure: Disk read/write bytes</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.disk.read.bytes</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.disk.write.bytes</key></item></graph_item></graph_items></graph><graph><uuid>58a8c6942314408ab0e88b15d53f67e5</uuid><name>Azure: Disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.disk.read.ops</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.disk.write.ops</key></item></graph_item></graph_items></graph><graph><uuid>b427ad3dbb8d4f8caf1edfb0cab04733</uuid><name>Azure: Flows</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.flows.inbound</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.flows.outbound</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F63100</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.flows.inbound.max</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.flows.outbound.max</key></item></graph_item></graph_items></graph><graph><uuid>f0f37dc8840a45ba8e8cb62f5fea6804</uuid><name>Azure: Network traffic</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.network.in.total</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.network.out.total</key></item></graph_item></graph_items></graph><graph><uuid>41bd1642704c4d3fbe4fb34c8c389320</uuid><name>Azure: OS disk read/write bytes</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.os.disk.read.bps</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.os.disk.write.bps</key></item></graph_item></graph_items></graph><graph><uuid>df77fe1de4ae46f98744ff73ed427b3b</uuid><name>Azure: OS disk read/write rates</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.os.disk.read.ops</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.os.disk.write.ops</key></item></graph_item></graph_items></graph><graph><uuid>3051d683b44b48ee94030465254abc7f</uuid><name>Azure: Premium data disk cache read</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.premium.data.disk.cache.read.hit</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.premium.data.disk.cache.read.miss</key></item></graph_item></graph_items></graph><graph><uuid>d727dc11deaa46b282892552c9b03752</uuid><name>Azure: Premium OS disk cache read</name><graph_items><graph_item><color>1A7C11</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.premium.os.disk.cache.read.hit</key></item></graph_item><graph_item><sortorder>1</sortorder><color>2774A4</color><item><host>Azure virtual machine by HTTP</host><key>azure.vm.premium.os.disk.cache.read.miss</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
